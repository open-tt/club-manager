  [1m[36mRole Load (0.3ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mRole Load (0.2ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[35m (1.1ms)[0m  [1m[35mCREATE TABLE "actions" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "url_regex" varchar, "method" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "actions_roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "action_id" integer, "role_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.1ms)[0m  [1m[34mselect sqlite_version(*)[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE  INDEX "index_actions_roles_on_action_id" ON "actions_roles" ("action_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_actions_roles_on_action_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_actions_roles_on_action_id' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "index_actions_roles_on_role_id" ON "actions_roles" ("role_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "addresses" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "org_id" integer, "addr_1" varchar, "addr_2" varchar, "city" varchar, "state" varchar, "zip" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX "index_addresses_on_org_id" ON "addresses" ("org_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "orgs" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "is_verified" boolean DEFAULT 'f', "is_enabled" boolean DEFAULT 't', "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "orgs_users" ("user_id" integer, "org_id" integer, "role_id" integer)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX "index_orgs_users_on_org_id" ON "orgs_users" ("org_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orgs_users_on_org_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orgs_users_on_org_id' AND type='index'
[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE  INDEX "index_orgs_users_on_role_id" ON "orgs_users" ("role_id")[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orgs_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orgs_users_on_role_id' AND type='index'
[0m
  [1m[35m (0.0ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_orgs_users_on_org_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_orgs_users_on_org_id' AND type='index'
[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE  INDEX "index_orgs_users_on_user_id" ON "orgs_users" ("user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "roles" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[35m (0.9ms)[0m  [1m[35mCREATE TABLE "roles_users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "user_id" integer, "role_id" integer, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL, "org_id" integer)[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "index_roles_users_on_role_id" ON "roles_users" ("role_id")[0m
  [1m[35m (0.1ms)[0m  [1m[34m            SELECT sql
            FROM sqlite_master
            WHERE name='index_roles_users_on_role_id' AND type='index'
            UNION ALL
            SELECT sql
            FROM sqlite_temp_master
            WHERE name='index_roles_users_on_role_id' AND type='index'
[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE  INDEX "index_roles_users_on_user_id" ON "roles_users" ("user_id")[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE TABLE "users" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar DEFAULT '' NOT NULL, "name" varchar, "profile_img" varchar, "is_enabled" boolean DEFAULT 'f', "password_digest" varchar)[0m
  [1m[35m (0.8ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_users_on_email" ON "users" ("email")[0m
  [1m[35m (0.7ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT version FROM "schema_migrations"[0m
  [1m[35m (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20200816231843)[0m
  [1m[35m (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20200808174238),
(20200808172517),
(20200809145232),
(20200808175219),
(20200816231323),
(20200808174335),
(20200808174041),
(20200816231449),
(20200808174404);

[0m
  [1m[35m (1.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime NOT NULL, "updated_at" datetime NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.1ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "test"], ["created_at", "2020-08-16 23:28:44.023885"], ["updated_at", "2020-08-16 23:28:44.023885"]]
  [1m[35m (0.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.0ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest") VALUES (?, ?, ?)[0m  [["email", "jd@testmail.com"], ["name", "jon doe"], ["password_digest", "$2a$04$f8O.YjxfQ6NOyuc7YjTEfuO1.p2zTf3zfS/Z/DcH6pnLZNdram9mq"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/authenticate" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
Processing by AuthenticationController#authenticate as JSON
  Parameters: {"email"=>"jd@testmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"jd@testmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
Completed 200 OK in 8ms (Views: 0.1ms | ActiveRecord: 0.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest") VALUES (?, ?, ?)[0m  [["email", "jd@testmail.com"], ["name", "jon doe"], ["password_digest", "$2a$04$MnxiAaPwcyf0qO5dKPjHWuSt3yf2XcrSmgP0ec/GEUMTCzj4L261."]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/authenticate" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
Processing by AuthenticationController#authenticate as JSON
  Parameters: {"email"=>"jd@testmail.com", "password"=>"[FILTERED]", "authentication"=>{"email"=>"jd@testmail.com", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:28:44.274303"], ["updated_at", "2020-08-16 23:28:44.274303"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:28:44.278706"], ["updated_at", "2020-08-16 23:28:44.278706"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=Test%20Org" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:28:44.283261"], ["updated_at", "2020-08-16 23:28:44.283261"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:28:44.287717"], ["updated_at", "2020-08-16 23:28:44.287717"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:28:44.295272"], ["updated_at", "2020-08-16 23:28:44.295272"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:28:44.298180"], ["updated_at", "2020-08-16 23:28:44.298180"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:28:44.300221"], ["updated_at", "2020-08-16 23:28:44.300221"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
  [1m[35m (1.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:28:44.304373"], ["updated_at", "2020-08-16 23:28:44.304373"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:28:44.321044"], ["updated_at", "2020-08-16 23:28:44.321044"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:28:44.323916"], ["updated_at", "2020-08-16 23:28:44.323916"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:28:44.325789"], ["updated_at", "2020-08-16 23:28:44.325789"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:28:44.336265"], ["updated_at", "2020-08-16 23:28:44.336265"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:28:44.337404"], ["updated_at", "2020-08-16 23:28:44.337404"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:28:44.338192"], ["updated_at", "2020-08-16 23:28:44.338192"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:28:44.338912"], ["updated_at", "2020-08-16 23:28:44.338912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:28:44.342139"], ["updated_at", "2020-08-16 23:28:44.342139"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:28:44.343135"], ["updated_at", "2020-08-16 23:28:44.343135"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:28:44.343897"], ["updated_at", "2020-08-16 23:28:44.343897"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:28:44.344599"], ["updated_at", "2020-08-16 23:28:44.344599"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:28:44.345291"], ["updated_at", "2020-08-16 23:28:44.345291"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.354802"], ["updated_at", "2020-08-16 23:28:44.354802"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.355919"], ["updated_at", "2020-08-16 23:28:44.355919"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.356822"], ["updated_at", "2020-08-16 23:28:44.356822"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.357723"], ["updated_at", "2020-08-16 23:28:44.357723"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.359601"], ["updated_at", "2020-08-16 23:28:44.359601"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.360468"], ["updated_at", "2020-08-16 23:28:44.360468"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.361384"], ["updated_at", "2020-08-16 23:28:44.361384"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.362240"], ["updated_at", "2020-08-16 23:28:44.362240"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.364038"], ["updated_at", "2020-08-16 23:28:44.364038"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.364901"], ["updated_at", "2020-08-16 23:28:44.364901"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.365799"], ["updated_at", "2020-08-16 23:28:44.365799"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.366748"], ["updated_at", "2020-08-16 23:28:44.366748"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.368841"], ["updated_at", "2020-08-16 23:28:44.368841"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.369873"], ["updated_at", "2020-08-16 23:28:44.369873"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$Dat7c.hd3lFR8iOWly/UsOl320Oakv/zsnb4HTbvX0lhSDgLgfNme"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.381310"], ["updated_at", "2020-08-16 23:28:44.381310"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
Processing by UsersController#register as JSON
  Parameters: {"name"=>"jon doe", "email"=>"jd@testmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"email"=>"jd@testmail.com", "name"=>"jon doe"}}
Unpermitted parameter: user
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "player"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest") VALUES (?, ?, ?)[0m  [["email", "jd@testmail.com"], ["name", "jon doe"], ["password_digest", "$2a$04$Zf4Zrk8QDIwCiSH5ITC7YuYOi.5vx3SSnZu74pJLgk6HtfCN7RDD."]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.388404"], ["updated_at", "2020-08-16 23:28:44.388404"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[36mCACHE (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailer::DeliveryJob (Job ID: e8fc80bf-d170-45bb-9992-be297bbffe6d) to Async(mailers) with arguments: "UserMailer", "account_confirmation_email", "deliver_now", #<GlobalID:0x00007f9cb9937f08 @uri=#<URI::GID gid://opentt-scheduler/User/2>>
Completed 201 Created in 16ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:28:44.405287"], ["updated_at", "2020-08-16 23:28:44.405287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:28:44.406239"], ["updated_at", "2020-08-16 23:28:44.406239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:28:44.406898"], ["updated_at", "2020-08-16 23:28:44.406898"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:28:44.407540"], ["updated_at", "2020-08-16 23:28:44.407540"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:28:44.408917"], ["updated_at", "2020-08-16 23:28:44.408917"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:28:44.409707"], ["updated_at", "2020-08-16 23:28:44.409707"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:28:44.410409"], ["updated_at", "2020-08-16 23:28:44.410409"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:28:44.411098"], ["updated_at", "2020-08-16 23:28:44.411098"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:28:44.411790"], ["updated_at", "2020-08-16 23:28:44.411790"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.413837"], ["updated_at", "2020-08-16 23:28:44.413837"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.414923"], ["updated_at", "2020-08-16 23:28:44.414923"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.415845"], ["updated_at", "2020-08-16 23:28:44.415845"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.416706"], ["updated_at", "2020-08-16 23:28:44.416706"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.418499"], ["updated_at", "2020-08-16 23:28:44.418499"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.419358"], ["updated_at", "2020-08-16 23:28:44.419358"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.420243"], ["updated_at", "2020-08-16 23:28:44.420243"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.421102"], ["updated_at", "2020-08-16 23:28:44.421102"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.422864"], ["updated_at", "2020-08-16 23:28:44.422864"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.423726"], ["updated_at", "2020-08-16 23:28:44.423726"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.424580"], ["updated_at", "2020-08-16 23:28:44.424580"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.425422"], ["updated_at", "2020-08-16 23:28:44.425422"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.427199"], ["updated_at", "2020-08-16 23:28:44.427199"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.428051"], ["updated_at", "2020-08-16 23:28:44.428051"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$TBFVFoMXoKqebU8tNYHZsuIUHea1IRiJLZsnhWY61IjiPAnhssL7S"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.432113"], ["updated_at", "2020-08-16 23:28:44.432113"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/users" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
Processing by UsersController#register as JSON
  Parameters: {"name"=>"jon doe", "email"=>"not-an-email", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]", "user"=>{"email"=>"not-an-email", "name"=>"jon doe"}}
Unpermitted parameter: user
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "player"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "not-an-email"], ["LIMIT", 1]]
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 409 Conflict in 10ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:28:44.448055"], ["updated_at", "2020-08-16 23:28:44.448055"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:28:44.448991"], ["updated_at", "2020-08-16 23:28:44.448991"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:28:44.449639"], ["updated_at", "2020-08-16 23:28:44.449639"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:28:44.450257"], ["updated_at", "2020-08-16 23:28:44.450257"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:28:44.450929"], ["updated_at", "2020-08-16 23:28:44.450929"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:28:44.451664"], ["updated_at", "2020-08-16 23:28:44.451664"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:28:44.452319"], ["updated_at", "2020-08-16 23:28:44.452319"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:28:44.453007"], ["updated_at", "2020-08-16 23:28:44.453007"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:28:44.453669"], ["updated_at", "2020-08-16 23:28:44.453669"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.455652"], ["updated_at", "2020-08-16 23:28:44.455652"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.456614"], ["updated_at", "2020-08-16 23:28:44.456614"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.457471"], ["updated_at", "2020-08-16 23:28:44.457471"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.458328"], ["updated_at", "2020-08-16 23:28:44.458328"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.460078"], ["updated_at", "2020-08-16 23:28:44.460078"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.460945"], ["updated_at", "2020-08-16 23:28:44.460945"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.461781"], ["updated_at", "2020-08-16 23:28:44.461781"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.462586"], ["updated_at", "2020-08-16 23:28:44.462586"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.464252"], ["updated_at", "2020-08-16 23:28:44.464252"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.465078"], ["updated_at", "2020-08-16 23:28:44.465078"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.465900"], ["updated_at", "2020-08-16 23:28:44.465900"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.466699"], ["updated_at", "2020-08-16 23:28:44.466699"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.468394"], ["updated_at", "2020-08-16 23:28:44.468394"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.469225"], ["updated_at", "2020-08-16 23:28:44.469225"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$rzzyef2Iq1vbT1Cha8gzvOwEBr5KiQ16rh8eNgQ71.qPbFCzDtGom"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.473770"], ["updated_at", "2020-08-16 23:28:44.473770"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest") VALUES (?, ?, ?)[0m  [["email", "jd@testmail.com"], ["name", "jon doe"], ["password_digest", "$2a$04$n0V1MkuANWRqp4tbOnafqOIi5wOaLLeCDC5PFFC3A2I5.2Ox2/bci"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "player"], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.485030"], ["updated_at", "2020-08-16 23:28:44.485030"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/users/2" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
Processing by UsersController#show as JSON
  Parameters: {"id"=>"2", "user"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 2], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 2], ["method", 0]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 200 OK in 5ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:28:44.497745"], ["updated_at", "2020-08-16 23:28:44.497745"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:28:44.498901"], ["updated_at", "2020-08-16 23:28:44.498901"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:28:44.499655"], ["updated_at", "2020-08-16 23:28:44.499655"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:28:44.500355"], ["updated_at", "2020-08-16 23:28:44.500355"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:28:44.501090"], ["updated_at", "2020-08-16 23:28:44.501090"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:28:44.501865"], ["updated_at", "2020-08-16 23:28:44.501865"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:28:44.502610"], ["updated_at", "2020-08-16 23:28:44.502610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:28:44.503304"], ["updated_at", "2020-08-16 23:28:44.503304"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:28:44.503999"], ["updated_at", "2020-08-16 23:28:44.503999"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.505990"], ["updated_at", "2020-08-16 23:28:44.505990"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.507026"], ["updated_at", "2020-08-16 23:28:44.507026"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.507921"], ["updated_at", "2020-08-16 23:28:44.507921"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.508780"], ["updated_at", "2020-08-16 23:28:44.508780"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.510539"], ["updated_at", "2020-08-16 23:28:44.510539"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.511449"], ["updated_at", "2020-08-16 23:28:44.511449"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.512315"], ["updated_at", "2020-08-16 23:28:44.512315"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.513186"], ["updated_at", "2020-08-16 23:28:44.513186"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.514961"], ["updated_at", "2020-08-16 23:28:44.514961"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.515853"], ["updated_at", "2020-08-16 23:28:44.515853"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.516777"], ["updated_at", "2020-08-16 23:28:44.516777"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.517666"], ["updated_at", "2020-08-16 23:28:44.517666"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.519505"], ["updated_at", "2020-08-16 23:28:44.519505"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.520432"], ["updated_at", "2020-08-16 23:28:44.520432"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$.GqYW5a/DcV.wSfuNU7DMux/iWRO6.RbbcLjsWDRodeXBwG/JMkGy"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.524607"], ["updated_at", "2020-08-16 23:28:44.524607"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest") VALUES (?, ?, ?)[0m  [["email", "jd@testmail.com"], ["name", "jon doe"], ["password_digest", "$2a$04$zpFa4KvAHMF45lh7ksvLPeI9rknpmF2wO6l5FbrSNH.cXU61EGvKu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "player"], ["LIMIT", 1]]
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.528962"], ["updated_at", "2020-08-16 23:28:44.528962"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/users/2" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
Processing by UsersController#edit as JSON
  Parameters: {"name"=>"updated jon", "id"=>"2", "user"=>{"name"=>"updated jon"}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 2], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 2], ["method", 2]]
Unpermitted parameter: user
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: user
Unpermitted parameter: user
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "jd@testmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "users" SET "name" = ? WHERE "users"."id" = ?[0m  [["name", "updated jon"], ["id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:28:44.536668"], ["updated_at", "2020-08-16 23:28:44.536668"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:28:44.537557"], ["updated_at", "2020-08-16 23:28:44.537557"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:28:44.538206"], ["updated_at", "2020-08-16 23:28:44.538206"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:28:44.538891"], ["updated_at", "2020-08-16 23:28:44.538891"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:28:44.539600"], ["updated_at", "2020-08-16 23:28:44.539600"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:28:44.540366"], ["updated_at", "2020-08-16 23:28:44.540366"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:28:44.541068"], ["updated_at", "2020-08-16 23:28:44.541068"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:28:44.541740"], ["updated_at", "2020-08-16 23:28:44.541740"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:28:44.542504"], ["updated_at", "2020-08-16 23:28:44.542504"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.544694"], ["updated_at", "2020-08-16 23:28:44.544694"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.546012"], ["updated_at", "2020-08-16 23:28:44.546012"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.546948"], ["updated_at", "2020-08-16 23:28:44.546948"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.547815"], ["updated_at", "2020-08-16 23:28:44.547815"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.549643"], ["updated_at", "2020-08-16 23:28:44.549643"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.550560"], ["updated_at", "2020-08-16 23:28:44.550560"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.551403"], ["updated_at", "2020-08-16 23:28:44.551403"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.552254"], ["updated_at", "2020-08-16 23:28:44.552254"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.553981"], ["updated_at", "2020-08-16 23:28:44.553981"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.554864"], ["updated_at", "2020-08-16 23:28:44.554864"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.555743"], ["updated_at", "2020-08-16 23:28:44.555743"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.556584"], ["updated_at", "2020-08-16 23:28:44.556584"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.558300"], ["updated_at", "2020-08-16 23:28:44.558300"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.559140"], ["updated_at", "2020-08-16 23:28:44.559140"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$LXdkfrLOgQinjJrhPN5BrekTvTSW/DNt03nrm777H.gv1Gdna9jg2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.563252"], ["updated_at", "2020-08-16 23:28:44.563252"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest") VALUES (?, ?, ?)[0m  [["email", "jd@testmail.com"], ["name", "jon doe"], ["password_digest", "$2a$04$qXrv.6EVkqd5pFVEw5gnNupYcoZoGw2nL3GnoQtPbDUtUmcHWuCne"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "player"], ["LIMIT", 1]]
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.567519"], ["updated_at", "2020-08-16 23:28:44.567519"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/users/999" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
Processing by UsersController#edit as JSON
  Parameters: {"name"=>"updated jon", "id"=>"999", "user"=>{"name"=>"updated jon"}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 2], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 2], ["method", 2]]
Unpermitted parameter: user
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 999], ["LIMIT", 1]]
Unpermitted parameter: user
Completed 404 Not Found in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:28:44.573569"], ["updated_at", "2020-08-16 23:28:44.573569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:28:44.574542"], ["updated_at", "2020-08-16 23:28:44.574542"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:28:44.575316"], ["updated_at", "2020-08-16 23:28:44.575316"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:28:44.576034"], ["updated_at", "2020-08-16 23:28:44.576034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:28:44.576770"], ["updated_at", "2020-08-16 23:28:44.576770"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:28:44.577571"], ["updated_at", "2020-08-16 23:28:44.577571"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:28:44.578243"], ["updated_at", "2020-08-16 23:28:44.578243"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:28:44.578902"], ["updated_at", "2020-08-16 23:28:44.578902"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:28:44.579581"], ["updated_at", "2020-08-16 23:28:44.579581"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.581560"], ["updated_at", "2020-08-16 23:28:44.581560"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.582551"], ["updated_at", "2020-08-16 23:28:44.582551"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.583551"], ["updated_at", "2020-08-16 23:28:44.583551"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.584501"], ["updated_at", "2020-08-16 23:28:44.584501"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.586375"], ["updated_at", "2020-08-16 23:28:44.586375"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.587415"], ["updated_at", "2020-08-16 23:28:44.587415"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.588447"], ["updated_at", "2020-08-16 23:28:44.588447"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.589376"], ["updated_at", "2020-08-16 23:28:44.589376"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.591303"], ["updated_at", "2020-08-16 23:28:44.591303"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.592210"], ["updated_at", "2020-08-16 23:28:44.592210"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.593390"], ["updated_at", "2020-08-16 23:28:44.593390"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.594337"], ["updated_at", "2020-08-16 23:28:44.594337"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.596440"], ["updated_at", "2020-08-16 23:28:44.596440"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.597345"], ["updated_at", "2020-08-16 23:28:44.597345"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$FNoqgmDF.x4bYt2uHXmumOe4Q5G4dH.RDPX8bmqgesD9LxySBF2Zy"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.601597"], ["updated_at", "2020-08-16 23:28:44.601597"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest") VALUES (?, ?, ?)[0m  [["email", "jd@testmail.com"], ["name", "jon doe"], ["password_digest", "$2a$04$ZRa2m/khG1X6TaE2u1dr.Ocb/dnMSeHDY.82ELLV75Bn31o6h8tQy"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "player"], ["LIMIT", 1]]
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.605820"], ["updated_at", "2020-08-16 23:28:44.605820"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/users/2" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
Processing by UsersController#edit as JSON
  Parameters: {"name"=>"", "id"=>"2", "user"=>{"name"=>""}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 2], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 2], ["method", 2]]
Unpermitted parameter: user
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: user
Unpermitted parameter: user
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? AND ("users"."id" != ?) LIMIT ?[0m  [["email", "jd@testmail.com"], ["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
Completed 422 Unprocessable Entity in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:28:44.613754"], ["updated_at", "2020-08-16 23:28:44.613754"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:28:44.614717"], ["updated_at", "2020-08-16 23:28:44.614717"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:28:44.615398"], ["updated_at", "2020-08-16 23:28:44.615398"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:28:44.616067"], ["updated_at", "2020-08-16 23:28:44.616067"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:28:44.616816"], ["updated_at", "2020-08-16 23:28:44.616816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:28:44.617565"], ["updated_at", "2020-08-16 23:28:44.617565"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:28:44.618275"], ["updated_at", "2020-08-16 23:28:44.618275"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:28:44.618930"], ["updated_at", "2020-08-16 23:28:44.618930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:28:44.619593"], ["updated_at", "2020-08-16 23:28:44.619593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.621902"], ["updated_at", "2020-08-16 23:28:44.621902"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.623003"], ["updated_at", "2020-08-16 23:28:44.623003"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.623928"], ["updated_at", "2020-08-16 23:28:44.623928"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.624835"], ["updated_at", "2020-08-16 23:28:44.624835"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.626752"], ["updated_at", "2020-08-16 23:28:44.626752"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.627685"], ["updated_at", "2020-08-16 23:28:44.627685"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.628633"], ["updated_at", "2020-08-16 23:28:44.628633"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.629540"], ["updated_at", "2020-08-16 23:28:44.629540"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.631337"], ["updated_at", "2020-08-16 23:28:44.631337"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.632221"], ["updated_at", "2020-08-16 23:28:44.632221"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.633078"], ["updated_at", "2020-08-16 23:28:44.633078"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.633948"], ["updated_at", "2020-08-16 23:28:44.633948"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.635773"], ["updated_at", "2020-08-16 23:28:44.635773"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.636674"], ["updated_at", "2020-08-16 23:28:44.636674"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$.VkwP9kLzFFQqsdBO8/cD.LMF8zqajkRMRx5XD6aDFm8EZDZpEiT."]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.640721"], ["updated_at", "2020-08-16 23:28:44.640721"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest") VALUES (?, ?, ?)[0m  [["email", "jd@testmail.com"], ["name", "jon doe"], ["password_digest", "$2a$04$uXRdE6XekZKgZdmVNqn4xuo316BFBZJIy5xxE.ESYbY2DJ0IbguCO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "player"], ["LIMIT", 1]]
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["user_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.645161"], ["updated_at", "2020-08-16 23:28:44.645161"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/users/2" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
Processing by UsersController#edit as JSON
  Parameters: {"id"=>"2", "user"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 2], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 2], ["method", 2]]
Unpermitted parameter: user
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Unpermitted parameter: user
Completed 422 Unprocessable Entity in 2ms (Views: 0.1ms | ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:28:44.651250"], ["updated_at", "2020-08-16 23:28:44.651250"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:28:44.652196"], ["updated_at", "2020-08-16 23:28:44.652196"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:28:44.652893"], ["updated_at", "2020-08-16 23:28:44.652893"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:28:44.653545"], ["updated_at", "2020-08-16 23:28:44.653545"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:28:44.654263"], ["updated_at", "2020-08-16 23:28:44.654263"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:28:44.654991"], ["updated_at", "2020-08-16 23:28:44.654991"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:28:44.655638"], ["updated_at", "2020-08-16 23:28:44.655638"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:28:44.656300"], ["updated_at", "2020-08-16 23:28:44.656300"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:28:44.656970"], ["updated_at", "2020-08-16 23:28:44.656970"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.658859"], ["updated_at", "2020-08-16 23:28:44.658859"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.659865"], ["updated_at", "2020-08-16 23:28:44.659865"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.660955"], ["updated_at", "2020-08-16 23:28:44.660955"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.661939"], ["updated_at", "2020-08-16 23:28:44.661939"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.665976"], ["updated_at", "2020-08-16 23:28:44.665976"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.666922"], ["updated_at", "2020-08-16 23:28:44.666922"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.667786"], ["updated_at", "2020-08-16 23:28:44.667786"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.668647"], ["updated_at", "2020-08-16 23:28:44.668647"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.670482"], ["updated_at", "2020-08-16 23:28:44.670482"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.671400"], ["updated_at", "2020-08-16 23:28:44.671400"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.672293"], ["updated_at", "2020-08-16 23:28:44.672293"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.673191"], ["updated_at", "2020-08-16 23:28:44.673191"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.674990"], ["updated_at", "2020-08-16 23:28:44.674990"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.675885"], ["updated_at", "2020-08-16 23:28:44.675885"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$2tlZdKjRmqrk31hYu29dJuRW3hGjwE4rYu7BQaqdHcEFjEJKLUJ1a"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.680565"], ["updated_at", "2020-08-16 23:28:44.680565"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest") VALUES (?, ?, ?)[0m  [["email", "jd@testmail.com"], ["name", "jon doe"], ["password_digest", "$2a$04$c9QI0EbT38SHtFMniMzzmORfwD1sKaXGbyNQZyKoNN20UYnabpz/u"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "player"], ["LIMIT", 1]]
Started POST "/users/2/roles?role=player&org_id=1" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
Processing by UsersController#add_role as JSON
  Parameters: {"role"=>"player", "org_id"=>"1", "id"=>"2", "user"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "player"], ["LIMIT", 1]]
  [1m[36mRolesUsers Load (0.1ms)[0m  [1m[34mSELECT  "roles_users".* FROM "roles_users" WHERE "roles_users"."user_id" = ? AND "roles_users"."org_id" = ? AND "roles_users"."role_id" = ? LIMIT ?[0m  [["user_id", 2], ["org_id", 1], ["role_id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.689774"], ["updated_at", "2020-08-16 23:28:44.689774"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "roles"."name" FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:28:44.693587"], ["updated_at", "2020-08-16 23:28:44.693587"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:28:44.694573"], ["updated_at", "2020-08-16 23:28:44.694573"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:28:44.695276"], ["updated_at", "2020-08-16 23:28:44.695276"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:28:44.695933"], ["updated_at", "2020-08-16 23:28:44.695933"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:28:44.696647"], ["updated_at", "2020-08-16 23:28:44.696647"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:28:44.697431"], ["updated_at", "2020-08-16 23:28:44.697431"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:28:44.698112"], ["updated_at", "2020-08-16 23:28:44.698112"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:28:44.698789"], ["updated_at", "2020-08-16 23:28:44.698789"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:28:44.699500"], ["updated_at", "2020-08-16 23:28:44.699500"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.701514"], ["updated_at", "2020-08-16 23:28:44.701514"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.702502"], ["updated_at", "2020-08-16 23:28:44.702502"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.703423"], ["updated_at", "2020-08-16 23:28:44.703423"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:28:44.704313"], ["updated_at", "2020-08-16 23:28:44.704313"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.706386"], ["updated_at", "2020-08-16 23:28:44.706386"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.707271"], ["updated_at", "2020-08-16 23:28:44.707271"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.708134"], ["updated_at", "2020-08-16 23:28:44.708134"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:28:44.709091"], ["updated_at", "2020-08-16 23:28:44.709091"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.711072"], ["updated_at", "2020-08-16 23:28:44.711072"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.711979"], ["updated_at", "2020-08-16 23:28:44.711979"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.713139"], ["updated_at", "2020-08-16 23:28:44.713139"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.714036"], ["updated_at", "2020-08-16 23:28:44.714036"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.715809"], ["updated_at", "2020-08-16 23:28:44.715809"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.716672"], ["updated_at", "2020-08-16 23:28:44.716672"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$lQjz6or0kN5h.EAg9dqTFu43EoioDDYpMKFEJRW/2FLN7cXKYPzHq"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:28:44.720771"], ["updated_at", "2020-08-16 23:28:44.720771"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "jd@testmail.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "password_digest") VALUES (?, ?, ?)[0m  [["email", "jd@testmail.com"], ["name", "jon doe"], ["password_digest", "$2a$04$OdNWn2GtpNPry5tlku0T7e2SxKWWV72xlnKNaFj50qu3mHrTf9tqa"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "player"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:28:44.724766"], ["updated_at", "2020-08-16 23:28:44.724766"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/users/2/roles?role=player&org_id=1" for 127.0.0.1 at 2020-08-16 16:28:44 -0700
Processing by UsersController#remove_role as JSON
  Parameters: {"role"=>"player", "org_id"=>"1", "id"=>"2", "user"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "player"], ["LIMIT", 1]]
  [1m[36mRolesUsers Load (0.1ms)[0m  [1m[34mSELECT  "roles_users".* FROM "roles_users" WHERE "roles_users"."user_id" = ? AND "roles_users"."org_id" = ? AND "roles_users"."role_id" = ? LIMIT ?[0m  [["user_id", 2], ["org_id", 1], ["role_id", 1], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[31mDELETE FROM "roles_users" WHERE "roles_users"."id" = ?[0m  [["id", 2]]
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "roles"."name" FROM "roles" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ?[0m  [["user_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:30:14.248209"], ["updated_at", "2020-08-16 23:30:14.248209"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:30:14 -0700
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:30:14.281640"], ["updated_at", "2020-08-16 23:30:14.281640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=Test%20Org" for 127.0.0.1 at 2020-08-16 16:30:14 -0700
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:30:14.287009"], ["updated_at", "2020-08-16 23:30:14.287009"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:30:14 -0700
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:30:14.292987"], ["updated_at", "2020-08-16 23:30:14.292987"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:30:14.328925"], ["updated_at", "2020-08-16 23:30:14.328925"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:30:14 -0700
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:30:14.334484"], ["updated_at", "2020-08-16 23:30:14.334484"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:30:14.344387"], ["updated_at", "2020-08-16 23:30:14.344387"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:30:14 -0700
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:30:14.354276"], ["updated_at", "2020-08-16 23:30:14.354276"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:30:14.382376"], ["updated_at", "2020-08-16 23:30:14.382376"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:30:14 -0700
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:30:14.390054"], ["updated_at", "2020-08-16 23:30:14.390054"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:30:14.406440"], ["updated_at", "2020-08-16 23:30:14.406440"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:31:10.853505"], ["updated_at", "2020-08-16 23:31:10.853505"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:31:10 -0700
Processing by OrgController#create as JSON
  Parameters: {"user_id"=>1, "org_name"=>"New Test Org Name", "org"=>{}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 1ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:31:10.882811"], ["updated_at", "2020-08-16 23:31:10.882811"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=Test%20Org" for 127.0.0.1 at 2020-08-16 16:31:10 -0700
Processing by OrgController#org_search as JSON
  Parameters: {"org_name"=>"Test Org", "org"=>{}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:31:10.889473"], ["updated_at", "2020-08-16 23:31:10.889473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:31:10 -0700
Processing by OrgController#update as JSON
  Parameters: {"org_name"=>"New Test Org Name", "is_verified"=>true, "is_enabled"=>true, "id"=>"1", "org"=>{"is_verified"=>true, "is_enabled"=>true}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:31:10.895761"], ["updated_at", "2020-08-16 23:31:10.895761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:31:10.928466"], ["updated_at", "2020-08-16 23:31:10.928466"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:31:10 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:31:10.934269"], ["updated_at", "2020-08-16 23:31:10.934269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:31:10.943778"], ["updated_at", "2020-08-16 23:31:10.943778"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:31:10 -0700
Processing by OrgController#add_address as JSON
  Parameters: {"addr_1"=>"123 Lane 4th st", "city"=>"Bellevue", "state"=>"WA", "zip"=>"99999", "id"=>"1", "org"=>{}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:31:10.949711"], ["updated_at", "2020-08-16 23:31:10.949711"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:31:10.967068"], ["updated_at", "2020-08-16 23:31:10.967068"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:31:10 -0700
Processing by OrgController#all_addresses as JSON
  Parameters: {"id"=>"1", "org"=>{}}
Filter chain halted as :authenticate_request rendered or redirected
Completed 401 Unauthorized in 0ms (Views: 0.1ms | ActiveRecord: 0.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:31:10.976180"], ["updated_at", "2020-08-16 23:31:10.976180"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:31:10.985123"], ["updated_at", "2020-08-16 23:31:10.985123"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:24.652034"], ["updated_at", "2020-08-16 23:36:24.652034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$xr26k8pXM1KcPGGC3wk1pOOEYGNzZDUZHBuN3SFT737Z6jyUqJPDi"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:24.720129"], ["updated_at", "2020-08-16 23:36:24.720129"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$mDu9RhVY2PAxUzvXaek2QezzeXwHdTz9ZlCbkwVNfGepXjjoWXbpK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:24.727417"], ["updated_at", "2020-08-16 23:36:24.727417"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$1l9vjfH6E2alChOop3f4Q.SBts8h7yN/YxHLSkt/sOiMrDjVy6Uvq"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:24.735614"], ["updated_at", "2020-08-16 23:36:24.735614"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$HKWsLsV6rcC3Mn6nlVfnXeUBT5V2cnrelVl2g2ecjMikqUatTXtXC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:24.743834"], ["updated_at", "2020-08-16 23:36:24.743834"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$dOTve4QiZAyq7.l3c7vjtOj8lajwm0PiHNiqHsQfXg3PwPacw1hYu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:24.751458"], ["updated_at", "2020-08-16 23:36:24.751458"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$3zslGcg0hQ.sUbKw7I7XIOdpU8jtk8ep2BVpjM2E3qm4fMD3pylEu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:24.759419"], ["updated_at", "2020-08-16 23:36:24.759419"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$ryGQ58Hqtk7gBjZwQNzthuTVCzMyQxGUU38DTPKICivFZsqvf5cxC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:24.767429"], ["updated_at", "2020-08-16 23:36:24.767429"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$Evtg1YRphewLwDWCB8Ui8.QMpguq/Ol4QQMjxFPwTiY3/.0fjzbcu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:24.776137"], ["updated_at", "2020-08-16 23:36:24.776137"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$yHmE0.9BhymfUFrJ0W2W6OkX8GUtJz.nQgCPk2hJk2OBngn/7ffz2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:24.789706"], ["updated_at", "2020-08-16 23:36:24.789706"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$DdFnBEgEa2wc3jFcrnWWqucxibdykKoCjHS6vRB1OXpfQaS7r5sHG"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:36:59.558957"], ["updated_at", "2020-08-16 23:36:59.558957"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:36:59.560130"], ["updated_at", "2020-08-16 23:36:59.560130"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:36:59.560749"], ["updated_at", "2020-08-16 23:36:59.560749"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:36:59.561366"], ["updated_at", "2020-08-16 23:36:59.561366"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:36:59.564129"], ["updated_at", "2020-08-16 23:36:59.564129"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:36:59.564823"], ["updated_at", "2020-08-16 23:36:59.564823"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:36:59.565440"], ["updated_at", "2020-08-16 23:36:59.565440"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:36:59.566039"], ["updated_at", "2020-08-16 23:36:59.566039"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:36:59.566648"], ["updated_at", "2020-08-16 23:36:59.566648"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.587588"], ["updated_at", "2020-08-16 23:36:59.587588"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.588992"], ["updated_at", "2020-08-16 23:36:59.588992"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.589985"], ["updated_at", "2020-08-16 23:36:59.589985"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.590937"], ["updated_at", "2020-08-16 23:36:59.590937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.592975"], ["updated_at", "2020-08-16 23:36:59.592975"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.593989"], ["updated_at", "2020-08-16 23:36:59.593989"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.594928"], ["updated_at", "2020-08-16 23:36:59.594928"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.595834"], ["updated_at", "2020-08-16 23:36:59.595834"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.597780"], ["updated_at", "2020-08-16 23:36:59.597780"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.598716"], ["updated_at", "2020-08-16 23:36:59.598716"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.599644"], ["updated_at", "2020-08-16 23:36:59.599644"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.600536"], ["updated_at", "2020-08-16 23:36:59.600536"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.602366"], ["updated_at", "2020-08-16 23:36:59.602366"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.603297"], ["updated_at", "2020-08-16 23:36:59.603297"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:59.613547"], ["updated_at", "2020-08-16 23:36:59.613547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$qpIOqI8O5WR/0ruGIbqrAOiy203BPGtSYc8UU58Dw51USKo40MPVW"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.634656"], ["updated_at", "2020-08-16 23:36:59.634656"], ["org_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:36:59 -0700
Processing by OrgController#create as JSON
  Parameters: {"user_id"=>1, "org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
Unpermitted parameters: user_id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "is_verified", "is_enabled", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "New Test Org Name"], ["is_verified", nil], ["is_enabled", nil], ["created_at", "2020-08-16 23:36:59.648586"], ["updated_at", "2020-08-16 23:36:59.648586"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:36:59.680057"], ["updated_at", "2020-08-16 23:36:59.680057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:36:59.681188"], ["updated_at", "2020-08-16 23:36:59.681188"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:36:59.681940"], ["updated_at", "2020-08-16 23:36:59.681940"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:36:59.682609"], ["updated_at", "2020-08-16 23:36:59.682609"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:36:59.683342"], ["updated_at", "2020-08-16 23:36:59.683342"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:36:59.684128"], ["updated_at", "2020-08-16 23:36:59.684128"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:36:59.684847"], ["updated_at", "2020-08-16 23:36:59.684847"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:36:59.685577"], ["updated_at", "2020-08-16 23:36:59.685577"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:36:59.686355"], ["updated_at", "2020-08-16 23:36:59.686355"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.688609"], ["updated_at", "2020-08-16 23:36:59.688609"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.689775"], ["updated_at", "2020-08-16 23:36:59.689775"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.690733"], ["updated_at", "2020-08-16 23:36:59.690733"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.691700"], ["updated_at", "2020-08-16 23:36:59.691700"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.693911"], ["updated_at", "2020-08-16 23:36:59.693911"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.694949"], ["updated_at", "2020-08-16 23:36:59.694949"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.695897"], ["updated_at", "2020-08-16 23:36:59.695897"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.696901"], ["updated_at", "2020-08-16 23:36:59.696901"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.703111"], ["updated_at", "2020-08-16 23:36:59.703111"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.704095"], ["updated_at", "2020-08-16 23:36:59.704095"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.705063"], ["updated_at", "2020-08-16 23:36:59.705063"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.706005"], ["updated_at", "2020-08-16 23:36:59.706005"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.707910"], ["updated_at", "2020-08-16 23:36:59.707910"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.708873"], ["updated_at", "2020-08-16 23:36:59.708873"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:59.709739"], ["updated_at", "2020-08-16 23:36:59.709739"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$H6G1Que5/2Qw6rN5yyCMpOWnsSjyo3P4ht8qIxVM7VLcllwQkzL7e"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.714148"], ["updated_at", "2020-08-16 23:36:59.714148"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=Test%20Org" for 127.0.0.1 at 2020-08-16 16:36:59 -0700
Processing by OrgController#org_search as JSON
  Parameters: {"org_name"=>"Test Org", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."name" = ?[0m  [["name", "Test Org"]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:36:59.724620"], ["updated_at", "2020-08-16 23:36:59.724620"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:36:59.725616"], ["updated_at", "2020-08-16 23:36:59.725616"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:36:59.726311"], ["updated_at", "2020-08-16 23:36:59.726311"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:36:59.727190"], ["updated_at", "2020-08-16 23:36:59.727190"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:36:59.727914"], ["updated_at", "2020-08-16 23:36:59.727914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:36:59.728761"], ["updated_at", "2020-08-16 23:36:59.728761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:36:59.729532"], ["updated_at", "2020-08-16 23:36:59.729532"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:36:59.730272"], ["updated_at", "2020-08-16 23:36:59.730272"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:36:59.731032"], ["updated_at", "2020-08-16 23:36:59.731032"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.733540"], ["updated_at", "2020-08-16 23:36:59.733540"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.734689"], ["updated_at", "2020-08-16 23:36:59.734689"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.735838"], ["updated_at", "2020-08-16 23:36:59.735838"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.736926"], ["updated_at", "2020-08-16 23:36:59.736926"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.738994"], ["updated_at", "2020-08-16 23:36:59.738994"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.739932"], ["updated_at", "2020-08-16 23:36:59.739932"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.740828"], ["updated_at", "2020-08-16 23:36:59.740828"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.741744"], ["updated_at", "2020-08-16 23:36:59.741744"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.743965"], ["updated_at", "2020-08-16 23:36:59.743965"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.744916"], ["updated_at", "2020-08-16 23:36:59.744916"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.745814"], ["updated_at", "2020-08-16 23:36:59.745814"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.746683"], ["updated_at", "2020-08-16 23:36:59.746683"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.748557"], ["updated_at", "2020-08-16 23:36:59.748557"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.749536"], ["updated_at", "2020-08-16 23:36:59.749536"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:59.750311"], ["updated_at", "2020-08-16 23:36:59.750311"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$jbD8A0zEtDBjAwntS8z2pe6uaZL/LPlZyA1B.BEyRNmRovl0mSZhu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.754687"], ["updated_at", "2020-08-16 23:36:59.754687"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:36:59 -0700
Processing by OrgController#update as JSON
  Parameters: {"org_name"=>"New Test Org Name", "is_verified"=>true, "is_enabled"=>true, "id"=>"1", "org"=>{"is_verified"=>true, "is_enabled"=>true}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Unpermitted parameters: id, org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "orgs" SET "is_verified" = ?, "name" = ?, "updated_at" = ? WHERE "orgs"."id" = ?[0m  [["is_verified", "t"], ["name", "New Test Org Name"], ["updated_at", "2020-08-16 23:36:59.759000"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:36:59.763687"], ["updated_at", "2020-08-16 23:36:59.763687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:36:59.764607"], ["updated_at", "2020-08-16 23:36:59.764607"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:36:59.765391"], ["updated_at", "2020-08-16 23:36:59.765391"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:36:59.766392"], ["updated_at", "2020-08-16 23:36:59.766392"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:36:59.767427"], ["updated_at", "2020-08-16 23:36:59.767427"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:36:59.768328"], ["updated_at", "2020-08-16 23:36:59.768328"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:36:59.769079"], ["updated_at", "2020-08-16 23:36:59.769079"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:36:59.769812"], ["updated_at", "2020-08-16 23:36:59.769812"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:36:59.770524"], ["updated_at", "2020-08-16 23:36:59.770524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.772840"], ["updated_at", "2020-08-16 23:36:59.772840"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.773991"], ["updated_at", "2020-08-16 23:36:59.773991"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.774980"], ["updated_at", "2020-08-16 23:36:59.774980"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.776029"], ["updated_at", "2020-08-16 23:36:59.776029"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.778221"], ["updated_at", "2020-08-16 23:36:59.778221"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.779244"], ["updated_at", "2020-08-16 23:36:59.779244"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.780195"], ["updated_at", "2020-08-16 23:36:59.780195"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.781147"], ["updated_at", "2020-08-16 23:36:59.781147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.783174"], ["updated_at", "2020-08-16 23:36:59.783174"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.784228"], ["updated_at", "2020-08-16 23:36:59.784228"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.785356"], ["updated_at", "2020-08-16 23:36:59.785356"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.788937"], ["updated_at", "2020-08-16 23:36:59.788937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.791955"], ["updated_at", "2020-08-16 23:36:59.791955"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.793282"], ["updated_at", "2020-08-16 23:36:59.793282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:59.794320"], ["updated_at", "2020-08-16 23:36:59.794320"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$EbNdffzk8yv6ZeDHrYP2L.J8nY52sK5Z9..s2FhOdH2srgId40M0O"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.799438"], ["updated_at", "2020-08-16 23:36:59.799438"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:36:59.837393"], ["updated_at", "2020-08-16 23:36:59.837393"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:36:59.838724"], ["updated_at", "2020-08-16 23:36:59.838724"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:36:59.839685"], ["updated_at", "2020-08-16 23:36:59.839685"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:36:59.840597"], ["updated_at", "2020-08-16 23:36:59.840597"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:36:59.841472"], ["updated_at", "2020-08-16 23:36:59.841472"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:36:59.842413"], ["updated_at", "2020-08-16 23:36:59.842413"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:36:59.843225"], ["updated_at", "2020-08-16 23:36:59.843225"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:36:59.844062"], ["updated_at", "2020-08-16 23:36:59.844062"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:36:59.844883"], ["updated_at", "2020-08-16 23:36:59.844883"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.847228"], ["updated_at", "2020-08-16 23:36:59.847228"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.848453"], ["updated_at", "2020-08-16 23:36:59.848453"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.849482"], ["updated_at", "2020-08-16 23:36:59.849482"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.850505"], ["updated_at", "2020-08-16 23:36:59.850505"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.852596"], ["updated_at", "2020-08-16 23:36:59.852596"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.853693"], ["updated_at", "2020-08-16 23:36:59.853693"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.854876"], ["updated_at", "2020-08-16 23:36:59.854876"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.856024"], ["updated_at", "2020-08-16 23:36:59.856024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.861079"], ["updated_at", "2020-08-16 23:36:59.861079"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.863560"], ["updated_at", "2020-08-16 23:36:59.863560"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.866150"], ["updated_at", "2020-08-16 23:36:59.866150"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.868569"], ["updated_at", "2020-08-16 23:36:59.868569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.872913"], ["updated_at", "2020-08-16 23:36:59.872913"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.875472"], ["updated_at", "2020-08-16 23:36:59.875472"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:59.877052"], ["updated_at", "2020-08-16 23:36:59.877052"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$S/HbhFd7YtVqt7mNzBnVNuVtCGuTI222XSMFsK8pvDZZceyaSMiGq"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.884815"], ["updated_at", "2020-08-16 23:36:59.884815"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:36:59 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.4ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:36:59.912392"], ["updated_at", "2020-08-16 23:36:59.912392"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:36:59.913711"], ["updated_at", "2020-08-16 23:36:59.913711"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:36:59.914610"], ["updated_at", "2020-08-16 23:36:59.914610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:36:59.915412"], ["updated_at", "2020-08-16 23:36:59.915412"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:36:59.916260"], ["updated_at", "2020-08-16 23:36:59.916260"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:36:59.917189"], ["updated_at", "2020-08-16 23:36:59.917189"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:36:59.918047"], ["updated_at", "2020-08-16 23:36:59.918047"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:36:59.918849"], ["updated_at", "2020-08-16 23:36:59.918849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:36:59.919638"], ["updated_at", "2020-08-16 23:36:59.919638"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.922076"], ["updated_at", "2020-08-16 23:36:59.922076"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.923447"], ["updated_at", "2020-08-16 23:36:59.923447"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.924588"], ["updated_at", "2020-08-16 23:36:59.924588"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.925620"], ["updated_at", "2020-08-16 23:36:59.925620"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.927884"], ["updated_at", "2020-08-16 23:36:59.927884"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.928953"], ["updated_at", "2020-08-16 23:36:59.928953"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.929988"], ["updated_at", "2020-08-16 23:36:59.929988"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.931060"], ["updated_at", "2020-08-16 23:36:59.931060"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.933269"], ["updated_at", "2020-08-16 23:36:59.933269"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.934388"], ["updated_at", "2020-08-16 23:36:59.934388"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.935458"], ["updated_at", "2020-08-16 23:36:59.935458"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.936460"], ["updated_at", "2020-08-16 23:36:59.936460"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.938588"], ["updated_at", "2020-08-16 23:36:59.938588"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.939596"], ["updated_at", "2020-08-16 23:36:59.939596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:59.940457"], ["updated_at", "2020-08-16 23:36:59.940457"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$VxaK/7RZpQHC/B4zI2JLheLZCmDd4UvrZnKxBY9oWmYLmGIOfG4By"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.945619"], ["updated_at", "2020-08-16 23:36:59.945619"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:36:59.956389"], ["updated_at", "2020-08-16 23:36:59.956389"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:36:59.957506"], ["updated_at", "2020-08-16 23:36:59.957506"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:36:59.958358"], ["updated_at", "2020-08-16 23:36:59.958358"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:36:59.959129"], ["updated_at", "2020-08-16 23:36:59.959129"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:36:59.960023"], ["updated_at", "2020-08-16 23:36:59.960023"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:36:59.961148"], ["updated_at", "2020-08-16 23:36:59.961148"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:36:59.962028"], ["updated_at", "2020-08-16 23:36:59.962028"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:36:59.962816"], ["updated_at", "2020-08-16 23:36:59.962816"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:36:59.963596"], ["updated_at", "2020-08-16 23:36:59.963596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.965893"], ["updated_at", "2020-08-16 23:36:59.965893"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.967186"], ["updated_at", "2020-08-16 23:36:59.967186"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.968311"], ["updated_at", "2020-08-16 23:36:59.968311"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:36:59.969485"], ["updated_at", "2020-08-16 23:36:59.969485"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.971833"], ["updated_at", "2020-08-16 23:36:59.971833"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.973080"], ["updated_at", "2020-08-16 23:36:59.973080"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.974317"], ["updated_at", "2020-08-16 23:36:59.974317"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:36:59.975524"], ["updated_at", "2020-08-16 23:36:59.975524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.978525"], ["updated_at", "2020-08-16 23:36:59.978525"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.979851"], ["updated_at", "2020-08-16 23:36:59.979851"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.980950"], ["updated_at", "2020-08-16 23:36:59.980950"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.981952"], ["updated_at", "2020-08-16 23:36:59.981952"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.984101"], ["updated_at", "2020-08-16 23:36:59.984101"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:36:59.985198"], ["updated_at", "2020-08-16 23:36:59.985198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:36:59.986030"], ["updated_at", "2020-08-16 23:36:59.986030"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$Ef9Y9girIAnJ/IM0eh.X1eIBQViaB3HxakE9QuyHnXk1IcesQ3Ay2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:36:59.991167"], ["updated_at", "2020-08-16 23:36:59.991167"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:36:59 -0700
Processing by OrgController#add_address as JSON
  Parameters: {"addr_1"=>"123 Lane 4th st", "city"=>"Bellevue", "state"=>"WA", "zip"=>"99999", "id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:37:00.005124"], ["updated_at", "2020-08-16 23:37:00.005124"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ? ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["org_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:37:00.010865"], ["updated_at", "2020-08-16 23:37:00.010865"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:37:00.012422"], ["updated_at", "2020-08-16 23:37:00.012422"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:37:00.013494"], ["updated_at", "2020-08-16 23:37:00.013494"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:37:00.014383"], ["updated_at", "2020-08-16 23:37:00.014383"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:37:00.015263"], ["updated_at", "2020-08-16 23:37:00.015263"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:37:00.016237"], ["updated_at", "2020-08-16 23:37:00.016237"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:37:00.017103"], ["updated_at", "2020-08-16 23:37:00.017103"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:37:00.017941"], ["updated_at", "2020-08-16 23:37:00.017941"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:37:00.018728"], ["updated_at", "2020-08-16 23:37:00.018728"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.021045"], ["updated_at", "2020-08-16 23:37:00.021045"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.022179"], ["updated_at", "2020-08-16 23:37:00.022179"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.023132"], ["updated_at", "2020-08-16 23:37:00.023132"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.024119"], ["updated_at", "2020-08-16 23:37:00.024119"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.026148"], ["updated_at", "2020-08-16 23:37:00.026148"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.027121"], ["updated_at", "2020-08-16 23:37:00.027121"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.028060"], ["updated_at", "2020-08-16 23:37:00.028060"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.028983"], ["updated_at", "2020-08-16 23:37:00.028983"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.030890"], ["updated_at", "2020-08-16 23:37:00.030890"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.031781"], ["updated_at", "2020-08-16 23:37:00.031781"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.032685"], ["updated_at", "2020-08-16 23:37:00.032685"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.033888"], ["updated_at", "2020-08-16 23:37:00.033888"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:37:00.035833"], ["updated_at", "2020-08-16 23:37:00.035833"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:37:00.036771"], ["updated_at", "2020-08-16 23:37:00.036771"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:37:00.037529"], ["updated_at", "2020-08-16 23:37:00.037529"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$Sr4rWy5lKlAIOSUekaPzq.Pe8hm6j0Xq03yqRLHzfmu7Mry8m0Kp2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.041848"], ["updated_at", "2020-08-16 23:37:00.041848"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:37:00.043255"], ["updated_at", "2020-08-16 23:37:00.043255"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:37:00 -0700
Processing by OrgController#all_addresses as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:37:00.051518"], ["updated_at", "2020-08-16 23:37:00.051518"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:37:00.052637"], ["updated_at", "2020-08-16 23:37:00.052637"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:37:00.053377"], ["updated_at", "2020-08-16 23:37:00.053377"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:37:00.054032"], ["updated_at", "2020-08-16 23:37:00.054032"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:37:00.054762"], ["updated_at", "2020-08-16 23:37:00.054762"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:37:00.055523"], ["updated_at", "2020-08-16 23:37:00.055523"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:37:00.056262"], ["updated_at", "2020-08-16 23:37:00.056262"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:37:00.056986"], ["updated_at", "2020-08-16 23:37:00.056986"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:37:00.057755"], ["updated_at", "2020-08-16 23:37:00.057755"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.060023"], ["updated_at", "2020-08-16 23:37:00.060023"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.061119"], ["updated_at", "2020-08-16 23:37:00.061119"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.062066"], ["updated_at", "2020-08-16 23:37:00.062066"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.062981"], ["updated_at", "2020-08-16 23:37:00.062981"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.064942"], ["updated_at", "2020-08-16 23:37:00.064942"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.065837"], ["updated_at", "2020-08-16 23:37:00.065837"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.066715"], ["updated_at", "2020-08-16 23:37:00.066715"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.067566"], ["updated_at", "2020-08-16 23:37:00.067566"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.069326"], ["updated_at", "2020-08-16 23:37:00.069326"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.070200"], ["updated_at", "2020-08-16 23:37:00.070200"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.071039"], ["updated_at", "2020-08-16 23:37:00.071039"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.071880"], ["updated_at", "2020-08-16 23:37:00.071880"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:37:00.073662"], ["updated_at", "2020-08-16 23:37:00.073662"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:37:00.074579"], ["updated_at", "2020-08-16 23:37:00.074579"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:37:00.075324"], ["updated_at", "2020-08-16 23:37:00.075324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$gjX.7e7DRlsotpP8KIXrW.tgvNa6lmQjkhWuvzKx8E4FsegN0Rwa2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.079641"], ["updated_at", "2020-08-16 23:37:00.079641"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:37:00.088634"], ["updated_at", "2020-08-16 23:37:00.088634"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:37:00.089689"], ["updated_at", "2020-08-16 23:37:00.089689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:37:00.090370"], ["updated_at", "2020-08-16 23:37:00.090370"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:37:00.091035"], ["updated_at", "2020-08-16 23:37:00.091035"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:37:00.091899"], ["updated_at", "2020-08-16 23:37:00.091899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:37:00.092797"], ["updated_at", "2020-08-16 23:37:00.092797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:37:00.093513"], ["updated_at", "2020-08-16 23:37:00.093513"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:37:00.094242"], ["updated_at", "2020-08-16 23:37:00.094242"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:37:00.094976"], ["updated_at", "2020-08-16 23:37:00.094976"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.097204"], ["updated_at", "2020-08-16 23:37:00.097204"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.098528"], ["updated_at", "2020-08-16 23:37:00.098528"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.099645"], ["updated_at", "2020-08-16 23:37:00.099645"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:37:00.100846"], ["updated_at", "2020-08-16 23:37:00.100846"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.103639"], ["updated_at", "2020-08-16 23:37:00.103639"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.105024"], ["updated_at", "2020-08-16 23:37:00.105024"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.106149"], ["updated_at", "2020-08-16 23:37:00.106149"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:37:00.107234"], ["updated_at", "2020-08-16 23:37:00.107234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.109493"], ["updated_at", "2020-08-16 23:37:00.109493"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.110987"], ["updated_at", "2020-08-16 23:37:00.110987"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.112195"], ["updated_at", "2020-08-16 23:37:00.112195"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.113604"], ["updated_at", "2020-08-16 23:37:00.113604"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:37:00.116625"], ["updated_at", "2020-08-16 23:37:00.116625"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:37:00.117835"], ["updated_at", "2020-08-16 23:37:00.117835"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:37:00.118721"], ["updated_at", "2020-08-16 23:37:00.118721"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$0u.5IfabJSLvUp0v1.gfdekvDAjsdsAQvhn27iH8YBT2ypNmm9q6u"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:37:00.123647"], ["updated_at", "2020-08-16 23:37:00.123647"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:38:18.535484"], ["updated_at", "2020-08-16 23:38:18.535484"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:38:18.536540"], ["updated_at", "2020-08-16 23:38:18.536540"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:38:18.537131"], ["updated_at", "2020-08-16 23:38:18.537131"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:38:18.537692"], ["updated_at", "2020-08-16 23:38:18.537692"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:38:18.540272"], ["updated_at", "2020-08-16 23:38:18.540272"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:38:18.540970"], ["updated_at", "2020-08-16 23:38:18.540970"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:38:18.541572"], ["updated_at", "2020-08-16 23:38:18.541572"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:38:18.542139"], ["updated_at", "2020-08-16 23:38:18.542139"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:38:18.542708"], ["updated_at", "2020-08-16 23:38:18.542708"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.563175"], ["updated_at", "2020-08-16 23:38:18.563175"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.564340"], ["updated_at", "2020-08-16 23:38:18.564340"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.565232"], ["updated_at", "2020-08-16 23:38:18.565232"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.566163"], ["updated_at", "2020-08-16 23:38:18.566163"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.568052"], ["updated_at", "2020-08-16 23:38:18.568052"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.568944"], ["updated_at", "2020-08-16 23:38:18.568944"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.569839"], ["updated_at", "2020-08-16 23:38:18.569839"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.570719"], ["updated_at", "2020-08-16 23:38:18.570719"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.572474"], ["updated_at", "2020-08-16 23:38:18.572474"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.573373"], ["updated_at", "2020-08-16 23:38:18.573373"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.574234"], ["updated_at", "2020-08-16 23:38:18.574234"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.575147"], ["updated_at", "2020-08-16 23:38:18.575147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.576898"], ["updated_at", "2020-08-16 23:38:18.576898"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.577716"], ["updated_at", "2020-08-16 23:38:18.577716"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:38:18.587588"], ["updated_at", "2020-08-16 23:38:18.587588"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$2xaG.kv336KAw0k5PTGx..pzNoJRWVXytklqZtpLx5JJVxHO6gugm"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.609197"], ["updated_at", "2020-08-16 23:38:18.609197"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:38:18 -0700
Processing by OrgController#create as JSON
  Parameters: {"user_id"=>1, "org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
Unpermitted parameters: user_id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "is_verified", "is_enabled", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "New Test Org Name"], ["is_verified", nil], ["is_enabled", nil], ["created_at", "2020-08-16 23:38:18.625596"], ["updated_at", "2020-08-16 23:38:18.625596"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 12ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:38:18.633547"], ["updated_at", "2020-08-16 23:38:18.633547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:38:18.634510"], ["updated_at", "2020-08-16 23:38:18.634510"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:38:18.635225"], ["updated_at", "2020-08-16 23:38:18.635225"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:38:18.635887"], ["updated_at", "2020-08-16 23:38:18.635887"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:38:18.636628"], ["updated_at", "2020-08-16 23:38:18.636628"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:38:18.637383"], ["updated_at", "2020-08-16 23:38:18.637383"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:38:18.638069"], ["updated_at", "2020-08-16 23:38:18.638069"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:38:18.638772"], ["updated_at", "2020-08-16 23:38:18.638772"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:38:18.639533"], ["updated_at", "2020-08-16 23:38:18.639533"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.641615"], ["updated_at", "2020-08-16 23:38:18.641615"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.642737"], ["updated_at", "2020-08-16 23:38:18.642737"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.643817"], ["updated_at", "2020-08-16 23:38:18.643817"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.644813"], ["updated_at", "2020-08-16 23:38:18.644813"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.646759"], ["updated_at", "2020-08-16 23:38:18.646759"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.647653"], ["updated_at", "2020-08-16 23:38:18.647653"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.648595"], ["updated_at", "2020-08-16 23:38:18.648595"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.649530"], ["updated_at", "2020-08-16 23:38:18.649530"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.651379"], ["updated_at", "2020-08-16 23:38:18.651379"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.652276"], ["updated_at", "2020-08-16 23:38:18.652276"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.653156"], ["updated_at", "2020-08-16 23:38:18.653156"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.654047"], ["updated_at", "2020-08-16 23:38:18.654047"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.655866"], ["updated_at", "2020-08-16 23:38:18.655866"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.656745"], ["updated_at", "2020-08-16 23:38:18.656745"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:38:18.657520"], ["updated_at", "2020-08-16 23:38:18.657520"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$OS498SN69hzDPdYKHs27NulLn2DEUuWNrbcF.GOgmeNbY6pWbmoW2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.661836"], ["updated_at", "2020-08-16 23:38:18.661836"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=Test%20Org" for 127.0.0.1 at 2020-08-16 16:38:18 -0700
Processing by OrgController#org_search as JSON
  Parameters: {"org_name"=>"Test Org", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."name" = ?[0m  [["name", "Test Org"]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:38:18.670324"], ["updated_at", "2020-08-16 23:38:18.670324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:38:18.671237"], ["updated_at", "2020-08-16 23:38:18.671237"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:38:18.671884"], ["updated_at", "2020-08-16 23:38:18.671884"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:38:18.672544"], ["updated_at", "2020-08-16 23:38:18.672544"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:38:18.673259"], ["updated_at", "2020-08-16 23:38:18.673259"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:38:18.674198"], ["updated_at", "2020-08-16 23:38:18.674198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:38:18.675004"], ["updated_at", "2020-08-16 23:38:18.675004"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:38:18.675725"], ["updated_at", "2020-08-16 23:38:18.675725"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:38:18.676421"], ["updated_at", "2020-08-16 23:38:18.676421"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.678546"], ["updated_at", "2020-08-16 23:38:18.678546"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.679620"], ["updated_at", "2020-08-16 23:38:18.679620"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.680588"], ["updated_at", "2020-08-16 23:38:18.680588"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.681562"], ["updated_at", "2020-08-16 23:38:18.681562"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.686462"], ["updated_at", "2020-08-16 23:38:18.686462"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.687526"], ["updated_at", "2020-08-16 23:38:18.687526"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.688493"], ["updated_at", "2020-08-16 23:38:18.688493"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.689480"], ["updated_at", "2020-08-16 23:38:18.689480"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.691717"], ["updated_at", "2020-08-16 23:38:18.691717"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.692723"], ["updated_at", "2020-08-16 23:38:18.692723"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.693715"], ["updated_at", "2020-08-16 23:38:18.693715"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.694846"], ["updated_at", "2020-08-16 23:38:18.694846"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.2ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.697569"], ["updated_at", "2020-08-16 23:38:18.697569"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.698938"], ["updated_at", "2020-08-16 23:38:18.698938"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:38:18.700038"], ["updated_at", "2020-08-16 23:38:18.700038"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$FFYVGtqRnCU4NL2/3qUS/eU4A4WVwAdO0nCqORR4L1qHlKXPe0I0e"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.705273"], ["updated_at", "2020-08-16 23:38:18.705273"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:38:18 -0700
Processing by OrgController#update as JSON
  Parameters: {"org_name"=>"New Test Org Name", "is_verified"=>true, "is_enabled"=>true, "id"=>"1", "org"=>{"is_verified"=>true, "is_enabled"=>true}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.2ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Unpermitted parameters: id, org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "orgs" SET "is_verified" = ?, "name" = ?, "updated_at" = ? WHERE "orgs"."id" = ?[0m  [["is_verified", "t"], ["name", "New Test Org Name"], ["updated_at", "2020-08-16 23:38:18.710912"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 5ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:38:18.715527"], ["updated_at", "2020-08-16 23:38:18.715527"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:38:18.716960"], ["updated_at", "2020-08-16 23:38:18.716960"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:38:18.718082"], ["updated_at", "2020-08-16 23:38:18.718082"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:38:18.719114"], ["updated_at", "2020-08-16 23:38:18.719114"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:38:18.720051"], ["updated_at", "2020-08-16 23:38:18.720051"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:38:18.720937"], ["updated_at", "2020-08-16 23:38:18.720937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:38:18.721787"], ["updated_at", "2020-08-16 23:38:18.721787"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:38:18.722583"], ["updated_at", "2020-08-16 23:38:18.722583"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:38:18.723422"], ["updated_at", "2020-08-16 23:38:18.723422"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.725944"], ["updated_at", "2020-08-16 23:38:18.725944"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.727138"], ["updated_at", "2020-08-16 23:38:18.727138"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.728262"], ["updated_at", "2020-08-16 23:38:18.728262"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.729366"], ["updated_at", "2020-08-16 23:38:18.729366"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.732077"], ["updated_at", "2020-08-16 23:38:18.732077"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.733321"], ["updated_at", "2020-08-16 23:38:18.733321"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.734494"], ["updated_at", "2020-08-16 23:38:18.734494"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.735588"], ["updated_at", "2020-08-16 23:38:18.735588"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.737859"], ["updated_at", "2020-08-16 23:38:18.737859"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.738927"], ["updated_at", "2020-08-16 23:38:18.738927"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.739973"], ["updated_at", "2020-08-16 23:38:18.739973"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.741000"], ["updated_at", "2020-08-16 23:38:18.741000"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.743264"], ["updated_at", "2020-08-16 23:38:18.743264"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.744579"], ["updated_at", "2020-08-16 23:38:18.744579"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:38:18.745546"], ["updated_at", "2020-08-16 23:38:18.745546"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$gSlZmkpUnotV8uFu2AlxL.0lTIcad.5d/8ybr6hRLmQH1rgCYBpnm"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.750829"], ["updated_at", "2020-08-16 23:38:18.750829"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:38:18.796614"], ["updated_at", "2020-08-16 23:38:18.796614"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:38:18.798177"], ["updated_at", "2020-08-16 23:38:18.798177"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:38:18.799243"], ["updated_at", "2020-08-16 23:38:18.799243"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:38:18.800154"], ["updated_at", "2020-08-16 23:38:18.800154"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:38:18.800979"], ["updated_at", "2020-08-16 23:38:18.800979"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:38:18.801832"], ["updated_at", "2020-08-16 23:38:18.801832"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:38:18.802582"], ["updated_at", "2020-08-16 23:38:18.802582"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:38:18.803283"], ["updated_at", "2020-08-16 23:38:18.803283"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:38:18.804025"], ["updated_at", "2020-08-16 23:38:18.804025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.806102"], ["updated_at", "2020-08-16 23:38:18.806102"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.807171"], ["updated_at", "2020-08-16 23:38:18.807171"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.808179"], ["updated_at", "2020-08-16 23:38:18.808179"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.809115"], ["updated_at", "2020-08-16 23:38:18.809115"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.811166"], ["updated_at", "2020-08-16 23:38:18.811166"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.812176"], ["updated_at", "2020-08-16 23:38:18.812176"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.813119"], ["updated_at", "2020-08-16 23:38:18.813119"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.814030"], ["updated_at", "2020-08-16 23:38:18.814030"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.816019"], ["updated_at", "2020-08-16 23:38:18.816019"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.817004"], ["updated_at", "2020-08-16 23:38:18.817004"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.817950"], ["updated_at", "2020-08-16 23:38:18.817950"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.818876"], ["updated_at", "2020-08-16 23:38:18.818876"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.820628"], ["updated_at", "2020-08-16 23:38:18.820628"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.821507"], ["updated_at", "2020-08-16 23:38:18.821507"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:38:18.822253"], ["updated_at", "2020-08-16 23:38:18.822253"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$IZHqnJDSVmHnLYmK8aT99e2eXSNMpiXDljaV6nIdtJwFI3UTd0L6q"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.826353"], ["updated_at", "2020-08-16 23:38:18.826353"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:38:18 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:38:18.852117"], ["updated_at", "2020-08-16 23:38:18.852117"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:38:18.853233"], ["updated_at", "2020-08-16 23:38:18.853233"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:38:18.854108"], ["updated_at", "2020-08-16 23:38:18.854108"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:38:18.854913"], ["updated_at", "2020-08-16 23:38:18.854913"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:38:18.856578"], ["updated_at", "2020-08-16 23:38:18.856578"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:38:18.858185"], ["updated_at", "2020-08-16 23:38:18.858185"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:38:18.859504"], ["updated_at", "2020-08-16 23:38:18.859504"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:38:18.860764"], ["updated_at", "2020-08-16 23:38:18.860764"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:38:18.862582"], ["updated_at", "2020-08-16 23:38:18.862582"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.866718"], ["updated_at", "2020-08-16 23:38:18.866718"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.868890"], ["updated_at", "2020-08-16 23:38:18.868890"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.870831"], ["updated_at", "2020-08-16 23:38:18.870831"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.872321"], ["updated_at", "2020-08-16 23:38:18.872321"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.876395"], ["updated_at", "2020-08-16 23:38:18.876395"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.877879"], ["updated_at", "2020-08-16 23:38:18.877879"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.879680"], ["updated_at", "2020-08-16 23:38:18.879680"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.881495"], ["updated_at", "2020-08-16 23:38:18.881495"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.884599"], ["updated_at", "2020-08-16 23:38:18.884599"]]
  [1m[35mSQL (0.4ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.886258"], ["updated_at", "2020-08-16 23:38:18.886258"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.887824"], ["updated_at", "2020-08-16 23:38:18.887824"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.889131"], ["updated_at", "2020-08-16 23:38:18.889131"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.892670"], ["updated_at", "2020-08-16 23:38:18.892670"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.894892"], ["updated_at", "2020-08-16 23:38:18.894892"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:38:18.896239"], ["updated_at", "2020-08-16 23:38:18.896239"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$ea51cHaPpt/MSjTQgws3BeKCdYwE/1zYIE.tKMJvY3bi0obGOpEzq"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.907431"], ["updated_at", "2020-08-16 23:38:18.907431"], ["org_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:38:18.918476"], ["updated_at", "2020-08-16 23:38:18.918476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:38:18.919558"], ["updated_at", "2020-08-16 23:38:18.919558"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:38:18.920449"], ["updated_at", "2020-08-16 23:38:18.920449"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:38:18.921462"], ["updated_at", "2020-08-16 23:38:18.921462"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:38:18.922428"], ["updated_at", "2020-08-16 23:38:18.922428"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:38:18.923299"], ["updated_at", "2020-08-16 23:38:18.923299"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:38:18.924057"], ["updated_at", "2020-08-16 23:38:18.924057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:38:18.924777"], ["updated_at", "2020-08-16 23:38:18.924777"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:38:18.925507"], ["updated_at", "2020-08-16 23:38:18.925507"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.927551"], ["updated_at", "2020-08-16 23:38:18.927551"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.928578"], ["updated_at", "2020-08-16 23:38:18.928578"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.929487"], ["updated_at", "2020-08-16 23:38:18.929487"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.930369"], ["updated_at", "2020-08-16 23:38:18.930369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.932151"], ["updated_at", "2020-08-16 23:38:18.932151"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.933034"], ["updated_at", "2020-08-16 23:38:18.933034"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.933879"], ["updated_at", "2020-08-16 23:38:18.933879"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.934769"], ["updated_at", "2020-08-16 23:38:18.934769"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.936572"], ["updated_at", "2020-08-16 23:38:18.936572"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.937450"], ["updated_at", "2020-08-16 23:38:18.937450"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.938327"], ["updated_at", "2020-08-16 23:38:18.938327"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.939198"], ["updated_at", "2020-08-16 23:38:18.939198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.941004"], ["updated_at", "2020-08-16 23:38:18.941004"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.941881"], ["updated_at", "2020-08-16 23:38:18.941881"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:38:18.942605"], ["updated_at", "2020-08-16 23:38:18.942605"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$SWAoYSejl5DLvtCLUiED1OiW2KO6/OWpPnyQ3oxhqVSE7OskJgfRu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.946733"], ["updated_at", "2020-08-16 23:38:18.946733"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:38:18 -0700
Processing by OrgController#add_address as JSON
  Parameters: {"addr_1"=>"123 Lane 4th st", "city"=>"Bellevue", "state"=>"WA", "zip"=>"99999", "id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:38:18.957737"], ["updated_at", "2020-08-16 23:38:18.957737"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ? ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["org_id", 1], ["LIMIT", 1]]
  [1m[35m (2.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:38:18.964844"], ["updated_at", "2020-08-16 23:38:18.964844"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:38:18.965937"], ["updated_at", "2020-08-16 23:38:18.965937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:38:18.966628"], ["updated_at", "2020-08-16 23:38:18.966628"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:38:18.967280"], ["updated_at", "2020-08-16 23:38:18.967280"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:38:18.967988"], ["updated_at", "2020-08-16 23:38:18.967988"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:38:18.968738"], ["updated_at", "2020-08-16 23:38:18.968738"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:38:18.969400"], ["updated_at", "2020-08-16 23:38:18.969400"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:38:18.970075"], ["updated_at", "2020-08-16 23:38:18.970075"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:38:18.970737"], ["updated_at", "2020-08-16 23:38:18.970737"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.972820"], ["updated_at", "2020-08-16 23:38:18.972820"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.973874"], ["updated_at", "2020-08-16 23:38:18.973874"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.974773"], ["updated_at", "2020-08-16 23:38:18.974773"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:38:18.975648"], ["updated_at", "2020-08-16 23:38:18.975648"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.977657"], ["updated_at", "2020-08-16 23:38:18.977657"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.978641"], ["updated_at", "2020-08-16 23:38:18.978641"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.979584"], ["updated_at", "2020-08-16 23:38:18.979584"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:38:18.980454"], ["updated_at", "2020-08-16 23:38:18.980454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.982221"], ["updated_at", "2020-08-16 23:38:18.982221"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.983059"], ["updated_at", "2020-08-16 23:38:18.983059"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.983877"], ["updated_at", "2020-08-16 23:38:18.983877"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.984697"], ["updated_at", "2020-08-16 23:38:18.984697"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.986424"], ["updated_at", "2020-08-16 23:38:18.986424"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:38:18.987290"], ["updated_at", "2020-08-16 23:38:18.987290"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:38:18.987984"], ["updated_at", "2020-08-16 23:38:18.987984"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$pe3iI1gCxbgXZj/aX79.Ku5sNad.NPmm9BD5C3QmJqno1wtvjhd7G"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:38:18.992080"], ["updated_at", "2020-08-16 23:38:18.992080"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:38:18.993397"], ["updated_at", "2020-08-16 23:38:18.993397"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:38:18 -0700
Processing by OrgController#all_addresses as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:38:19.001068"], ["updated_at", "2020-08-16 23:38:19.001068"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:38:19.002581"], ["updated_at", "2020-08-16 23:38:19.002581"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:38:19.003446"], ["updated_at", "2020-08-16 23:38:19.003446"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:38:19.004231"], ["updated_at", "2020-08-16 23:38:19.004231"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:38:19.004982"], ["updated_at", "2020-08-16 23:38:19.004982"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:38:19.005771"], ["updated_at", "2020-08-16 23:38:19.005771"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:38:19.006450"], ["updated_at", "2020-08-16 23:38:19.006450"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:38:19.007102"], ["updated_at", "2020-08-16 23:38:19.007102"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:38:19.007786"], ["updated_at", "2020-08-16 23:38:19.007786"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:38:19.009888"], ["updated_at", "2020-08-16 23:38:19.009888"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:38:19.010957"], ["updated_at", "2020-08-16 23:38:19.010957"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:38:19.011889"], ["updated_at", "2020-08-16 23:38:19.011889"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:38:19.012741"], ["updated_at", "2020-08-16 23:38:19.012741"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:38:19.014723"], ["updated_at", "2020-08-16 23:38:19.014723"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:38:19.015668"], ["updated_at", "2020-08-16 23:38:19.015668"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:38:19.016543"], ["updated_at", "2020-08-16 23:38:19.016543"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:38:19.017430"], ["updated_at", "2020-08-16 23:38:19.017430"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:38:19.019265"], ["updated_at", "2020-08-16 23:38:19.019265"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:38:19.020150"], ["updated_at", "2020-08-16 23:38:19.020150"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:38:19.021004"], ["updated_at", "2020-08-16 23:38:19.021004"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:38:19.021878"], ["updated_at", "2020-08-16 23:38:19.021878"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:38:19.023625"], ["updated_at", "2020-08-16 23:38:19.023625"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:38:19.024498"], ["updated_at", "2020-08-16 23:38:19.024498"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:38:19.025256"], ["updated_at", "2020-08-16 23:38:19.025256"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$VXcpBFbJg9jaLXwk0WRr..ipdI7hSfssmZQ8gM9DVAIf/bHYy8H8i"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:38:19.029567"], ["updated_at", "2020-08-16 23:38:19.029567"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:38:19.038284"], ["updated_at", "2020-08-16 23:38:19.038284"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:38:19.039309"], ["updated_at", "2020-08-16 23:38:19.039309"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:38:19.039984"], ["updated_at", "2020-08-16 23:38:19.039984"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:38:19.040635"], ["updated_at", "2020-08-16 23:38:19.040635"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:38:19.041406"], ["updated_at", "2020-08-16 23:38:19.041406"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:38:19.042166"], ["updated_at", "2020-08-16 23:38:19.042166"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:38:19.042835"], ["updated_at", "2020-08-16 23:38:19.042835"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:38:19.043506"], ["updated_at", "2020-08-16 23:38:19.043506"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:38:19.044182"], ["updated_at", "2020-08-16 23:38:19.044182"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:38:19.046102"], ["updated_at", "2020-08-16 23:38:19.046102"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:38:19.047062"], ["updated_at", "2020-08-16 23:38:19.047062"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:38:19.047956"], ["updated_at", "2020-08-16 23:38:19.047956"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:38:19.048821"], ["updated_at", "2020-08-16 23:38:19.048821"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:38:19.050592"], ["updated_at", "2020-08-16 23:38:19.050592"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:38:19.051572"], ["updated_at", "2020-08-16 23:38:19.051572"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:38:19.052512"], ["updated_at", "2020-08-16 23:38:19.052512"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:38:19.053425"], ["updated_at", "2020-08-16 23:38:19.053425"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:38:19.055347"], ["updated_at", "2020-08-16 23:38:19.055347"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:38:19.056274"], ["updated_at", "2020-08-16 23:38:19.056274"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:38:19.057144"], ["updated_at", "2020-08-16 23:38:19.057144"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:38:19.058034"], ["updated_at", "2020-08-16 23:38:19.058034"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:38:19.059818"], ["updated_at", "2020-08-16 23:38:19.059818"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:38:19.060676"], ["updated_at", "2020-08-16 23:38:19.060676"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:38:19.061405"], ["updated_at", "2020-08-16 23:38:19.061405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$hb1lVMIr4sYdCrv.C0PXK.vmCyulOS.4zG5VQl7msBCZmlY13l/hC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:38:19.065550"], ["updated_at", "2020-08-16 23:38:19.065550"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:40:20.164721"], ["updated_at", "2020-08-16 23:40:20.164721"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:40:20.165912"], ["updated_at", "2020-08-16 23:40:20.165912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:40:20.166595"], ["updated_at", "2020-08-16 23:40:20.166595"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:40:20.167272"], ["updated_at", "2020-08-16 23:40:20.167272"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:40:20.170323"], ["updated_at", "2020-08-16 23:40:20.170323"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:40:20.171209"], ["updated_at", "2020-08-16 23:40:20.171209"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:40:20.171908"], ["updated_at", "2020-08-16 23:40:20.171908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:40:20.172634"], ["updated_at", "2020-08-16 23:40:20.172634"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:40:20.173380"], ["updated_at", "2020-08-16 23:40:20.173380"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.195581"], ["updated_at", "2020-08-16 23:40:20.195581"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.196847"], ["updated_at", "2020-08-16 23:40:20.196847"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.197778"], ["updated_at", "2020-08-16 23:40:20.197778"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.198696"], ["updated_at", "2020-08-16 23:40:20.198696"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.200649"], ["updated_at", "2020-08-16 23:40:20.200649"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.201621"], ["updated_at", "2020-08-16 23:40:20.201621"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.202535"], ["updated_at", "2020-08-16 23:40:20.202535"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.203428"], ["updated_at", "2020-08-16 23:40:20.203428"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.205292"], ["updated_at", "2020-08-16 23:40:20.205292"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.206218"], ["updated_at", "2020-08-16 23:40:20.206218"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.207170"], ["updated_at", "2020-08-16 23:40:20.207170"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.208085"], ["updated_at", "2020-08-16 23:40:20.208085"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.209950"], ["updated_at", "2020-08-16 23:40:20.209950"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.210865"], ["updated_at", "2020-08-16 23:40:20.210865"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$UOcZd.zRM/7F4cO8VFMEx.aeT4I0fr0kHMhvmaW1yLLbPvteuPhSa"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.236843"], ["updated_at", "2020-08-16 23:40:20.236843"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:40:20.247484"], ["updated_at", "2020-08-16 23:40:20.247484"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:40:20 -0700
Processing by OrgController#create as JSON
  Parameters: {"user_id"=>1, "org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
Unpermitted parameters: user_id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "is_verified", "is_enabled", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "New Test Org Name"], ["is_verified", nil], ["is_enabled", nil], ["created_at", "2020-08-16 23:40:20.265307"], ["updated_at", "2020-08-16 23:40:20.265307"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:40:20.271697"], ["updated_at", "2020-08-16 23:40:20.271697"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:40:20.272687"], ["updated_at", "2020-08-16 23:40:20.272687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:40:20.273419"], ["updated_at", "2020-08-16 23:40:20.273419"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:40:20.274190"], ["updated_at", "2020-08-16 23:40:20.274190"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:40:20.275071"], ["updated_at", "2020-08-16 23:40:20.275071"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:40:20.275940"], ["updated_at", "2020-08-16 23:40:20.275940"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:40:20.276654"], ["updated_at", "2020-08-16 23:40:20.276654"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:40:20.277420"], ["updated_at", "2020-08-16 23:40:20.277420"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:40:20.278183"], ["updated_at", "2020-08-16 23:40:20.278183"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.280477"], ["updated_at", "2020-08-16 23:40:20.280477"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.281624"], ["updated_at", "2020-08-16 23:40:20.281624"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.282596"], ["updated_at", "2020-08-16 23:40:20.282596"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.283520"], ["updated_at", "2020-08-16 23:40:20.283520"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.285874"], ["updated_at", "2020-08-16 23:40:20.285874"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.286985"], ["updated_at", "2020-08-16 23:40:20.286985"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.287967"], ["updated_at", "2020-08-16 23:40:20.287967"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.288874"], ["updated_at", "2020-08-16 23:40:20.288874"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.290848"], ["updated_at", "2020-08-16 23:40:20.290848"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.291796"], ["updated_at", "2020-08-16 23:40:20.291796"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.292715"], ["updated_at", "2020-08-16 23:40:20.292715"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.293689"], ["updated_at", "2020-08-16 23:40:20.293689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.295566"], ["updated_at", "2020-08-16 23:40:20.295566"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.296714"], ["updated_at", "2020-08-16 23:40:20.296714"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$fHC6nzDxH.XaOPNF1jBbH.0UDicJMKKTgZJlC.MAC/Nmj442i3yTa"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.301393"], ["updated_at", "2020-08-16 23:40:20.301393"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:40:20.302872"], ["updated_at", "2020-08-16 23:40:20.302872"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=Test%20Org" for 127.0.0.1 at 2020-08-16 16:40:20 -0700
Processing by OrgController#org_search as JSON
  Parameters: {"org_name"=>"Test Org", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."name" = ?[0m  [["name", "Test Org"]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:40:20.313079"], ["updated_at", "2020-08-16 23:40:20.313079"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:40:20.314099"], ["updated_at", "2020-08-16 23:40:20.314099"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:40:20.314915"], ["updated_at", "2020-08-16 23:40:20.314915"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:40:20.315640"], ["updated_at", "2020-08-16 23:40:20.315640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:40:20.316399"], ["updated_at", "2020-08-16 23:40:20.316399"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:40:20.317198"], ["updated_at", "2020-08-16 23:40:20.317198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:40:20.317912"], ["updated_at", "2020-08-16 23:40:20.317912"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:40:20.318623"], ["updated_at", "2020-08-16 23:40:20.318623"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:40:20.319353"], ["updated_at", "2020-08-16 23:40:20.319353"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.321561"], ["updated_at", "2020-08-16 23:40:20.321561"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.326516"], ["updated_at", "2020-08-16 23:40:20.326516"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.327975"], ["updated_at", "2020-08-16 23:40:20.327975"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.329218"], ["updated_at", "2020-08-16 23:40:20.329218"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.331665"], ["updated_at", "2020-08-16 23:40:20.331665"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.332842"], ["updated_at", "2020-08-16 23:40:20.332842"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.333877"], ["updated_at", "2020-08-16 23:40:20.333877"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.334851"], ["updated_at", "2020-08-16 23:40:20.334851"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.336879"], ["updated_at", "2020-08-16 23:40:20.336879"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.337893"], ["updated_at", "2020-08-16 23:40:20.337893"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.338886"], ["updated_at", "2020-08-16 23:40:20.338886"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.339867"], ["updated_at", "2020-08-16 23:40:20.339867"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.342063"], ["updated_at", "2020-08-16 23:40:20.342063"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.343141"], ["updated_at", "2020-08-16 23:40:20.343141"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$pVtMSRSQTNlsoKE7mHEfVe/sna6lyA0EwbC4r5GrBfGQYenoPKaay"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.347627"], ["updated_at", "2020-08-16 23:40:20.347627"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:40:20.349065"], ["updated_at", "2020-08-16 23:40:20.349065"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:40:20 -0700
Processing by OrgController#update as JSON
  Parameters: {"org_name"=>"New Test Org Name", "is_verified"=>true, "is_enabled"=>true, "id"=>"1", "org"=>{"is_verified"=>true, "is_enabled"=>true}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Unpermitted parameters: id, org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "orgs" SET "is_verified" = ?, "name" = ?, "updated_at" = ? WHERE "orgs"."id" = ?[0m  [["is_verified", "t"], ["name", "New Test Org Name"], ["updated_at", "2020-08-16 23:40:20.354873"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:40:20.358614"], ["updated_at", "2020-08-16 23:40:20.358614"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:40:20.359631"], ["updated_at", "2020-08-16 23:40:20.359631"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:40:20.360454"], ["updated_at", "2020-08-16 23:40:20.360454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:40:20.361539"], ["updated_at", "2020-08-16 23:40:20.361539"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:40:20.362325"], ["updated_at", "2020-08-16 23:40:20.362325"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:40:20.363115"], ["updated_at", "2020-08-16 23:40:20.363115"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:40:20.363813"], ["updated_at", "2020-08-16 23:40:20.363813"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:40:20.364501"], ["updated_at", "2020-08-16 23:40:20.364501"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:40:20.365224"], ["updated_at", "2020-08-16 23:40:20.365224"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.367327"], ["updated_at", "2020-08-16 23:40:20.367327"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.368552"], ["updated_at", "2020-08-16 23:40:20.368552"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.369562"], ["updated_at", "2020-08-16 23:40:20.369562"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.370562"], ["updated_at", "2020-08-16 23:40:20.370562"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.372674"], ["updated_at", "2020-08-16 23:40:20.372674"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.373725"], ["updated_at", "2020-08-16 23:40:20.373725"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.374716"], ["updated_at", "2020-08-16 23:40:20.374716"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.375700"], ["updated_at", "2020-08-16 23:40:20.375700"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.377743"], ["updated_at", "2020-08-16 23:40:20.377743"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.378683"], ["updated_at", "2020-08-16 23:40:20.378683"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.379761"], ["updated_at", "2020-08-16 23:40:20.379761"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.380663"], ["updated_at", "2020-08-16 23:40:20.380663"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.382545"], ["updated_at", "2020-08-16 23:40:20.382545"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.383680"], ["updated_at", "2020-08-16 23:40:20.383680"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$EbPwOpjSCnSJXOi64xR3VenqwtRK6OiNj9.zp78bDvPnlIJkdeg1C"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.388158"], ["updated_at", "2020-08-16 23:40:20.388158"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:40:20.389605"], ["updated_at", "2020-08-16 23:40:20.389605"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:40:20.435500"], ["updated_at", "2020-08-16 23:40:20.435500"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:40:20.436596"], ["updated_at", "2020-08-16 23:40:20.436596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:40:20.437455"], ["updated_at", "2020-08-16 23:40:20.437455"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:40:20.438237"], ["updated_at", "2020-08-16 23:40:20.438237"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:40:20.438998"], ["updated_at", "2020-08-16 23:40:20.438998"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:40:20.439871"], ["updated_at", "2020-08-16 23:40:20.439871"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:40:20.440750"], ["updated_at", "2020-08-16 23:40:20.440750"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:40:20.441558"], ["updated_at", "2020-08-16 23:40:20.441558"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:40:20.442569"], ["updated_at", "2020-08-16 23:40:20.442569"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.445107"], ["updated_at", "2020-08-16 23:40:20.445107"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.446291"], ["updated_at", "2020-08-16 23:40:20.446291"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.447527"], ["updated_at", "2020-08-16 23:40:20.447527"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.448515"], ["updated_at", "2020-08-16 23:40:20.448515"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.450483"], ["updated_at", "2020-08-16 23:40:20.450483"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.451400"], ["updated_at", "2020-08-16 23:40:20.451400"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.452342"], ["updated_at", "2020-08-16 23:40:20.452342"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.453322"], ["updated_at", "2020-08-16 23:40:20.453322"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.455456"], ["updated_at", "2020-08-16 23:40:20.455456"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.456505"], ["updated_at", "2020-08-16 23:40:20.456505"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.457465"], ["updated_at", "2020-08-16 23:40:20.457465"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.458325"], ["updated_at", "2020-08-16 23:40:20.458325"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.460083"], ["updated_at", "2020-08-16 23:40:20.460083"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.460960"], ["updated_at", "2020-08-16 23:40:20.460960"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$eCLgohaZjRdm3HwJsARNe.FiHQTZVt9gHOgpJlVJtu/FlHUYDrM8W"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.465232"], ["updated_at", "2020-08-16 23:40:20.465232"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:40:20.466728"], ["updated_at", "2020-08-16 23:40:20.466728"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:40:20 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:40:20.499658"], ["updated_at", "2020-08-16 23:40:20.499658"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:40:20.501419"], ["updated_at", "2020-08-16 23:40:20.501419"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:40:20.502696"], ["updated_at", "2020-08-16 23:40:20.502696"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:40:20.503884"], ["updated_at", "2020-08-16 23:40:20.503884"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:40:20.505639"], ["updated_at", "2020-08-16 23:40:20.505639"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:40:20.507045"], ["updated_at", "2020-08-16 23:40:20.507045"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:40:20.508369"], ["updated_at", "2020-08-16 23:40:20.508369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:40:20.509818"], ["updated_at", "2020-08-16 23:40:20.509818"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:40:20.511247"], ["updated_at", "2020-08-16 23:40:20.511247"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.515714"], ["updated_at", "2020-08-16 23:40:20.515714"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.517262"], ["updated_at", "2020-08-16 23:40:20.517262"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.518667"], ["updated_at", "2020-08-16 23:40:20.518667"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.520592"], ["updated_at", "2020-08-16 23:40:20.520592"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.6ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.524080"], ["updated_at", "2020-08-16 23:40:20.524080"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.525905"], ["updated_at", "2020-08-16 23:40:20.525905"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.527466"], ["updated_at", "2020-08-16 23:40:20.527466"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.529495"], ["updated_at", "2020-08-16 23:40:20.529495"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.534026"], ["updated_at", "2020-08-16 23:40:20.534026"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.536574"], ["updated_at", "2020-08-16 23:40:20.536574"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.538857"], ["updated_at", "2020-08-16 23:40:20.538857"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.546516"], ["updated_at", "2020-08-16 23:40:20.546516"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.548943"], ["updated_at", "2020-08-16 23:40:20.548943"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.549990"], ["updated_at", "2020-08-16 23:40:20.549990"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$UbooQQvABPMtCSHL8gOxK.Po9YHCl90RsOIxybf66BSlsSPtSSgwK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.555108"], ["updated_at", "2020-08-16 23:40:20.555108"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:40:20.556988"], ["updated_at", "2020-08-16 23:40:20.556988"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:40:20.568916"], ["updated_at", "2020-08-16 23:40:20.568916"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:40:20.569951"], ["updated_at", "2020-08-16 23:40:20.569951"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:40:20.571001"], ["updated_at", "2020-08-16 23:40:20.571001"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:40:20.571862"], ["updated_at", "2020-08-16 23:40:20.571862"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:40:20.572733"], ["updated_at", "2020-08-16 23:40:20.572733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:40:20.573575"], ["updated_at", "2020-08-16 23:40:20.573575"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:40:20.574359"], ["updated_at", "2020-08-16 23:40:20.574359"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:40:20.575081"], ["updated_at", "2020-08-16 23:40:20.575081"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:40:20.575802"], ["updated_at", "2020-08-16 23:40:20.575802"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.578076"], ["updated_at", "2020-08-16 23:40:20.578076"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.579126"], ["updated_at", "2020-08-16 23:40:20.579126"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.580075"], ["updated_at", "2020-08-16 23:40:20.580075"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.580988"], ["updated_at", "2020-08-16 23:40:20.580988"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.582992"], ["updated_at", "2020-08-16 23:40:20.582992"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.583909"], ["updated_at", "2020-08-16 23:40:20.583909"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.584815"], ["updated_at", "2020-08-16 23:40:20.584815"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.585731"], ["updated_at", "2020-08-16 23:40:20.585731"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.587574"], ["updated_at", "2020-08-16 23:40:20.587574"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.588505"], ["updated_at", "2020-08-16 23:40:20.588505"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.589429"], ["updated_at", "2020-08-16 23:40:20.589429"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.590302"], ["updated_at", "2020-08-16 23:40:20.590302"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.592078"], ["updated_at", "2020-08-16 23:40:20.592078"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.592962"], ["updated_at", "2020-08-16 23:40:20.592962"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$6E.fGKOC.AUV8xFW1oJVT..kU3VO9yGH6roQhFTScj2RxWSnH1VSa"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.597148"], ["updated_at", "2020-08-16 23:40:20.597148"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:40:20.598434"], ["updated_at", "2020-08-16 23:40:20.598434"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:40:20 -0700
Processing by OrgController#add_address as JSON
  Parameters: {"addr_1"=>"123 Lane 4th st", "city"=>"Bellevue", "state"=>"WA", "zip"=>"99999", "id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: id, org
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:40:20.610224"], ["updated_at", "2020-08-16 23:40:20.610224"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ? ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["org_id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:40:20.615511"], ["updated_at", "2020-08-16 23:40:20.615511"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:40:20.616462"], ["updated_at", "2020-08-16 23:40:20.616462"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:40:20.617099"], ["updated_at", "2020-08-16 23:40:20.617099"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:40:20.617731"], ["updated_at", "2020-08-16 23:40:20.617731"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:40:20.618409"], ["updated_at", "2020-08-16 23:40:20.618409"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:40:20.619185"], ["updated_at", "2020-08-16 23:40:20.619185"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:40:20.619905"], ["updated_at", "2020-08-16 23:40:20.619905"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:40:20.620590"], ["updated_at", "2020-08-16 23:40:20.620590"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:40:20.621249"], ["updated_at", "2020-08-16 23:40:20.621249"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.623260"], ["updated_at", "2020-08-16 23:40:20.623260"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.624491"], ["updated_at", "2020-08-16 23:40:20.624491"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.625406"], ["updated_at", "2020-08-16 23:40:20.625406"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.626296"], ["updated_at", "2020-08-16 23:40:20.626296"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.628464"], ["updated_at", "2020-08-16 23:40:20.628464"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.629540"], ["updated_at", "2020-08-16 23:40:20.629540"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.630477"], ["updated_at", "2020-08-16 23:40:20.630477"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.631409"], ["updated_at", "2020-08-16 23:40:20.631409"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.633291"], ["updated_at", "2020-08-16 23:40:20.633291"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.634272"], ["updated_at", "2020-08-16 23:40:20.634272"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.635169"], ["updated_at", "2020-08-16 23:40:20.635169"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.636024"], ["updated_at", "2020-08-16 23:40:20.636024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.637841"], ["updated_at", "2020-08-16 23:40:20.637841"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.638707"], ["updated_at", "2020-08-16 23:40:20.638707"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$LgaqrtJSb1CjIg.WJrVIEueFG1q4ksLAjBb8057pT4TO/cXoY1Zzi"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.643474"], ["updated_at", "2020-08-16 23:40:20.643474"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:40:20.645009"], ["updated_at", "2020-08-16 23:40:20.645009"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:40:20.647437"], ["updated_at", "2020-08-16 23:40:20.647437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:40:20 -0700
Processing by OrgController#all_addresses as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:40:20.655510"], ["updated_at", "2020-08-16 23:40:20.655510"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:40:20.656633"], ["updated_at", "2020-08-16 23:40:20.656633"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:40:20.657386"], ["updated_at", "2020-08-16 23:40:20.657386"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:40:20.658084"], ["updated_at", "2020-08-16 23:40:20.658084"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:40:20.658827"], ["updated_at", "2020-08-16 23:40:20.658827"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:40:20.659579"], ["updated_at", "2020-08-16 23:40:20.659579"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:40:20.660267"], ["updated_at", "2020-08-16 23:40:20.660267"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:40:20.660934"], ["updated_at", "2020-08-16 23:40:20.660934"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:40:20.661639"], ["updated_at", "2020-08-16 23:40:20.661639"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.663706"], ["updated_at", "2020-08-16 23:40:20.663706"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.664693"], ["updated_at", "2020-08-16 23:40:20.664693"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.665589"], ["updated_at", "2020-08-16 23:40:20.665589"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.666444"], ["updated_at", "2020-08-16 23:40:20.666444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.668265"], ["updated_at", "2020-08-16 23:40:20.668265"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.669134"], ["updated_at", "2020-08-16 23:40:20.669134"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.670013"], ["updated_at", "2020-08-16 23:40:20.670013"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.670869"], ["updated_at", "2020-08-16 23:40:20.670869"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.672655"], ["updated_at", "2020-08-16 23:40:20.672655"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.673560"], ["updated_at", "2020-08-16 23:40:20.673560"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.674400"], ["updated_at", "2020-08-16 23:40:20.674400"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.675269"], ["updated_at", "2020-08-16 23:40:20.675269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.677064"], ["updated_at", "2020-08-16 23:40:20.677064"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.677944"], ["updated_at", "2020-08-16 23:40:20.677944"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$eGmJQyaClcB0tN4TUZRUc.uJwd176peRdcUXWUThjA8OE4KUubbIK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.682168"], ["updated_at", "2020-08-16 23:40:20.682168"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:40:20.683587"], ["updated_at", "2020-08-16 23:40:20.683587"]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:40:20.693116"], ["updated_at", "2020-08-16 23:40:20.693116"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:40:20.693957"], ["updated_at", "2020-08-16 23:40:20.693957"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:40:20.694557"], ["updated_at", "2020-08-16 23:40:20.694557"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:40:20.695149"], ["updated_at", "2020-08-16 23:40:20.695149"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:40:20.695814"], ["updated_at", "2020-08-16 23:40:20.695814"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:40:20.696501"], ["updated_at", "2020-08-16 23:40:20.696501"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:40:20.697253"], ["updated_at", "2020-08-16 23:40:20.697253"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:40:20.697965"], ["updated_at", "2020-08-16 23:40:20.697965"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:40:20.698702"], ["updated_at", "2020-08-16 23:40:20.698702"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.700705"], ["updated_at", "2020-08-16 23:40:20.700705"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.701706"], ["updated_at", "2020-08-16 23:40:20.701706"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.702557"], ["updated_at", "2020-08-16 23:40:20.702557"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:40:20.703398"], ["updated_at", "2020-08-16 23:40:20.703398"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.705146"], ["updated_at", "2020-08-16 23:40:20.705146"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.705957"], ["updated_at", "2020-08-16 23:40:20.705957"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.706779"], ["updated_at", "2020-08-16 23:40:20.706779"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:40:20.707604"], ["updated_at", "2020-08-16 23:40:20.707604"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.709346"], ["updated_at", "2020-08-16 23:40:20.709346"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.710453"], ["updated_at", "2020-08-16 23:40:20.710453"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.711368"], ["updated_at", "2020-08-16 23:40:20.711368"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.712254"], ["updated_at", "2020-08-16 23:40:20.712254"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.714151"], ["updated_at", "2020-08-16 23:40:20.714151"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:40:20.715019"], ["updated_at", "2020-08-16 23:40:20.715019"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$CSp5kOfiQOxzbfUM5y3n5uUgZJtwutNvzkpDwbuYqgUNmhyIwdY7W"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:40:20.719047"], ["updated_at", "2020-08-16 23:40:20.719047"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Test Org"], ["created_at", "2020-08-16 23:40:20.720345"], ["updated_at", "2020-08-16 23:40:20.720345"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:44:06.047038"], ["updated_at", "2020-08-16 23:44:06.047038"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:44:06.048285"], ["updated_at", "2020-08-16 23:44:06.048285"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:44:06.048954"], ["updated_at", "2020-08-16 23:44:06.048954"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:44:06.049555"], ["updated_at", "2020-08-16 23:44:06.049555"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:44:06.052610"], ["updated_at", "2020-08-16 23:44:06.052610"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:44:06.053414"], ["updated_at", "2020-08-16 23:44:06.053414"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:44:06.054126"], ["updated_at", "2020-08-16 23:44:06.054126"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:44:06.054773"], ["updated_at", "2020-08-16 23:44:06.054773"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:44:06.055418"], ["updated_at", "2020-08-16 23:44:06.055418"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:44:06.077385"], ["updated_at", "2020-08-16 23:44:06.077385"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:44:06.078592"], ["updated_at", "2020-08-16 23:44:06.078592"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:44:06.079520"], ["updated_at", "2020-08-16 23:44:06.079520"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:44:06.080459"], ["updated_at", "2020-08-16 23:44:06.080459"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:44:06.082625"], ["updated_at", "2020-08-16 23:44:06.082625"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:44:06.083547"], ["updated_at", "2020-08-16 23:44:06.083547"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:44:06.084423"], ["updated_at", "2020-08-16 23:44:06.084423"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:44:06.085292"], ["updated_at", "2020-08-16 23:44:06.085292"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:44:06.087098"], ["updated_at", "2020-08-16 23:44:06.087098"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:44:06.088003"], ["updated_at", "2020-08-16 23:44:06.088003"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:44:06.089133"], ["updated_at", "2020-08-16 23:44:06.089133"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:44:06.090025"], ["updated_at", "2020-08-16 23:44:06.090025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:44:06.091860"], ["updated_at", "2020-08-16 23:44:06.091860"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:44:06.092783"], ["updated_at", "2020-08-16 23:44:06.092783"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$9feCLAPto2VAnPvD3Iscdu4b00Tu3jbYz4av.zLVb9U0CKUlxdEFK"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$7sjqq8QYCow0JDHLndcpj.WgutrljsDsJD2N4B.t7eEx2z3fOfDoi"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:44:06.119356"], ["updated_at", "2020-08-16 23:44:06.119356"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:44:06.126362"], ["updated_at", "2020-08-16 23:44:06.126362"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/users" for 127.0.0.1 at 2020-08-16 16:44:06 -0700
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:45:27.642499"], ["updated_at", "2020-08-16 23:45:27.642499"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:45:27.643527"], ["updated_at", "2020-08-16 23:45:27.643527"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:45:27.644161"], ["updated_at", "2020-08-16 23:45:27.644161"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:45:27.644727"], ["updated_at", "2020-08-16 23:45:27.644727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:45:27.647518"], ["updated_at", "2020-08-16 23:45:27.647518"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:45:27.648232"], ["updated_at", "2020-08-16 23:45:27.648232"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:45:27.648847"], ["updated_at", "2020-08-16 23:45:27.648847"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:45:27.649473"], ["updated_at", "2020-08-16 23:45:27.649473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:45:27.650080"], ["updated_at", "2020-08-16 23:45:27.650080"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:45:27.676577"], ["updated_at", "2020-08-16 23:45:27.676577"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:45:27.677842"], ["updated_at", "2020-08-16 23:45:27.677842"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:45:27.678737"], ["updated_at", "2020-08-16 23:45:27.678737"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:45:27.679616"], ["updated_at", "2020-08-16 23:45:27.679616"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:45:27.681547"], ["updated_at", "2020-08-16 23:45:27.681547"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:45:27.682451"], ["updated_at", "2020-08-16 23:45:27.682451"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:45:27.683661"], ["updated_at", "2020-08-16 23:45:27.683661"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:45:27.684537"], ["updated_at", "2020-08-16 23:45:27.684537"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:45:27.686321"], ["updated_at", "2020-08-16 23:45:27.686321"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:45:27.687483"], ["updated_at", "2020-08-16 23:45:27.687483"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:45:27.688708"], ["updated_at", "2020-08-16 23:45:27.688708"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:45:27.689614"], ["updated_at", "2020-08-16 23:45:27.689614"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:45:27.691707"], ["updated_at", "2020-08-16 23:45:27.691707"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:45:27.692665"], ["updated_at", "2020-08-16 23:45:27.692665"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$kMrosmb4b89AEPfI6c4oJOQhDhheB235OWPQNlXqJ/WFlFXjmexAG"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$eztRgANI5jlYzz7UKgb9SOWa/OXy8YEaibozPmc4HIOEIcfJFZP82"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:45:27.716074"], ["updated_at", "2020-08-16 23:45:27.716074"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:45:27.722898"], ["updated_at", "2020-08-16 23:45:27.722898"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/users" for 127.0.0.1 at 2020-08-16 16:45:27 -0700
Processing by OrgController#all_users as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.3ms)
  [1m[35m (1.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:45:45.215623"], ["updated_at", "2020-08-16 23:45:45.215623"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:45:45.216757"], ["updated_at", "2020-08-16 23:45:45.216757"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:45:45.217426"], ["updated_at", "2020-08-16 23:45:45.217426"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:45:45.218070"], ["updated_at", "2020-08-16 23:45:45.218070"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:45:45.221053"], ["updated_at", "2020-08-16 23:45:45.221053"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:45:45.222107"], ["updated_at", "2020-08-16 23:45:45.222107"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:45:45.222751"], ["updated_at", "2020-08-16 23:45:45.222751"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:45:45.223390"], ["updated_at", "2020-08-16 23:45:45.223390"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:45:45.223994"], ["updated_at", "2020-08-16 23:45:45.223994"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.244062"], ["updated_at", "2020-08-16 23:45:45.244062"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.245080"], ["updated_at", "2020-08-16 23:45:45.245080"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.245981"], ["updated_at", "2020-08-16 23:45:45.245981"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.246814"], ["updated_at", "2020-08-16 23:45:45.246814"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.248571"], ["updated_at", "2020-08-16 23:45:45.248571"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.249425"], ["updated_at", "2020-08-16 23:45:45.249425"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.250273"], ["updated_at", "2020-08-16 23:45:45.250273"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.251089"], ["updated_at", "2020-08-16 23:45:45.251089"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.252718"], ["updated_at", "2020-08-16 23:45:45.252718"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.253497"], ["updated_at", "2020-08-16 23:45:45.253497"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.254277"], ["updated_at", "2020-08-16 23:45:45.254277"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.255084"], ["updated_at", "2020-08-16 23:45:45.255084"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.256752"], ["updated_at", "2020-08-16 23:45:45.256752"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.257556"], ["updated_at", "2020-08-16 23:45:45.257556"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$OwoZgphYZPTIqijujBw2WejlhwhUI5VkFZi909B0nrkKrLP6X6dzK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$rsmzpPOLvYv6eC0/2B86T.y0tyXAmkBoKtbJeAXGOibFNMX7t5EKS"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.282741"], ["updated_at", "2020-08-16 23:45:45.282741"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:45:45.289877"], ["updated_at", "2020-08-16 23:45:45.289877"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:45:45 -0700
Processing by OrgController#create as JSON
  Parameters: {"user_id"=>1, "org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
Unpermitted parameters: user_id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "is_verified", "is_enabled", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "New Test Org Name"], ["is_verified", nil], ["is_enabled", nil], ["created_at", "2020-08-16 23:45:45.311007"], ["updated_at", "2020-08-16 23:45:45.311007"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:45:45.319854"], ["updated_at", "2020-08-16 23:45:45.319854"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:45:45.321057"], ["updated_at", "2020-08-16 23:45:45.321057"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:45:45.321761"], ["updated_at", "2020-08-16 23:45:45.321761"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:45:45.322475"], ["updated_at", "2020-08-16 23:45:45.322475"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:45:45.323408"], ["updated_at", "2020-08-16 23:45:45.323408"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:45:45.324314"], ["updated_at", "2020-08-16 23:45:45.324314"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:45:45.325054"], ["updated_at", "2020-08-16 23:45:45.325054"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:45:45.325783"], ["updated_at", "2020-08-16 23:45:45.325783"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:45:45.326586"], ["updated_at", "2020-08-16 23:45:45.326586"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.328958"], ["updated_at", "2020-08-16 23:45:45.328958"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.330068"], ["updated_at", "2020-08-16 23:45:45.330068"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.330993"], ["updated_at", "2020-08-16 23:45:45.330993"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.331917"], ["updated_at", "2020-08-16 23:45:45.331917"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.333875"], ["updated_at", "2020-08-16 23:45:45.333875"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.334774"], ["updated_at", "2020-08-16 23:45:45.334774"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.335672"], ["updated_at", "2020-08-16 23:45:45.335672"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.336563"], ["updated_at", "2020-08-16 23:45:45.336563"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.338386"], ["updated_at", "2020-08-16 23:45:45.338386"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.339301"], ["updated_at", "2020-08-16 23:45:45.339301"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.340200"], ["updated_at", "2020-08-16 23:45:45.340200"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.341089"], ["updated_at", "2020-08-16 23:45:45.341089"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.342809"], ["updated_at", "2020-08-16 23:45:45.342809"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.343666"], ["updated_at", "2020-08-16 23:45:45.343666"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$ocqMGZz3N6ylR9M9i0Tpz.vTV7p8tAyZMpur8dc1kOBtNxBsHYN3."]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$YgcqUAvT2RYCFaw.UHbZneiSjdH3r3DyC25vNAOhALOTuWvMt70R2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.349657"], ["updated_at", "2020-08-16 23:45:45.349657"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:45:45.350495"], ["updated_at", "2020-08-16 23:45:45.350495"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=New%20Test%20Org%20Name" for 127.0.0.1 at 2020-08-16 16:45:45 -0700
Processing by OrgController#org_search as JSON
  Parameters: {"org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."name" = ?[0m  [["name", "New Test Org Name"]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:45:45.361590"], ["updated_at", "2020-08-16 23:45:45.361590"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:45:45.363029"], ["updated_at", "2020-08-16 23:45:45.363029"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:45:45.367271"], ["updated_at", "2020-08-16 23:45:45.367271"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:45:45.368100"], ["updated_at", "2020-08-16 23:45:45.368100"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:45:45.368922"], ["updated_at", "2020-08-16 23:45:45.368922"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:45:45.369745"], ["updated_at", "2020-08-16 23:45:45.369745"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:45:45.370575"], ["updated_at", "2020-08-16 23:45:45.370575"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:45:45.371311"], ["updated_at", "2020-08-16 23:45:45.371311"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:45:45.372043"], ["updated_at", "2020-08-16 23:45:45.372043"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.374235"], ["updated_at", "2020-08-16 23:45:45.374235"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.375378"], ["updated_at", "2020-08-16 23:45:45.375378"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.376336"], ["updated_at", "2020-08-16 23:45:45.376336"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.377330"], ["updated_at", "2020-08-16 23:45:45.377330"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.379724"], ["updated_at", "2020-08-16 23:45:45.379724"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.380834"], ["updated_at", "2020-08-16 23:45:45.380834"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.381848"], ["updated_at", "2020-08-16 23:45:45.381848"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.382785"], ["updated_at", "2020-08-16 23:45:45.382785"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.384685"], ["updated_at", "2020-08-16 23:45:45.384685"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.385581"], ["updated_at", "2020-08-16 23:45:45.385581"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.386507"], ["updated_at", "2020-08-16 23:45:45.386507"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.387399"], ["updated_at", "2020-08-16 23:45:45.387399"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.389215"], ["updated_at", "2020-08-16 23:45:45.389215"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.390120"], ["updated_at", "2020-08-16 23:45:45.390120"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$b0dYi5BofPdunx2fxeXnIuZerU0pR7CZ5cfbhapTC32E68l.eZ3GG"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$mRWjThuxRwFJ7SPouoKMsO/.J3I8vcCHoWpv6aHjze4lyG6GU1NbK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.396441"], ["updated_at", "2020-08-16 23:45:45.396441"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:45:45.397314"], ["updated_at", "2020-08-16 23:45:45.397314"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:45:45 -0700
Processing by OrgController#update as JSON
  Parameters: {"org_name"=>"New Test Org Name", "is_verified"=>true, "is_enabled"=>true, "id"=>"1", "org"=>{"is_verified"=>true, "is_enabled"=>true}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Unpermitted parameters: id, org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "orgs" SET "is_verified" = ?, "updated_at" = ? WHERE "orgs"."id" = ?[0m  [["is_verified", "t"], ["updated_at", "2020-08-16 23:45:45.404367"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:45:45.408040"], ["updated_at", "2020-08-16 23:45:45.408040"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:45:45.408951"], ["updated_at", "2020-08-16 23:45:45.408951"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:45:45.409635"], ["updated_at", "2020-08-16 23:45:45.409635"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:45:45.410314"], ["updated_at", "2020-08-16 23:45:45.410314"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:45:45.411156"], ["updated_at", "2020-08-16 23:45:45.411156"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:45:45.411983"], ["updated_at", "2020-08-16 23:45:45.411983"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:45:45.412702"], ["updated_at", "2020-08-16 23:45:45.412702"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:45:45.413392"], ["updated_at", "2020-08-16 23:45:45.413392"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:45:45.414100"], ["updated_at", "2020-08-16 23:45:45.414100"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.416177"], ["updated_at", "2020-08-16 23:45:45.416177"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.417282"], ["updated_at", "2020-08-16 23:45:45.417282"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.418192"], ["updated_at", "2020-08-16 23:45:45.418192"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.419139"], ["updated_at", "2020-08-16 23:45:45.419139"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.421108"], ["updated_at", "2020-08-16 23:45:45.421108"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.422151"], ["updated_at", "2020-08-16 23:45:45.422151"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.423115"], ["updated_at", "2020-08-16 23:45:45.423115"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.424037"], ["updated_at", "2020-08-16 23:45:45.424037"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.425986"], ["updated_at", "2020-08-16 23:45:45.425986"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.426908"], ["updated_at", "2020-08-16 23:45:45.426908"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.427856"], ["updated_at", "2020-08-16 23:45:45.427856"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.428769"], ["updated_at", "2020-08-16 23:45:45.428769"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.430632"], ["updated_at", "2020-08-16 23:45:45.430632"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.431533"], ["updated_at", "2020-08-16 23:45:45.431533"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$HwYu.F0yTY6rl/Z4tR77A.I1lZncJUtOXccbxK./T5cpB8tEJ/O4K"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$JTrzx.cS.VxBAZLePIV7ZOresubk9xBlmYejOF2TtzSXrF6nwYf0O"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.437793"], ["updated_at", "2020-08-16 23:45:45.437793"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:45:45.438688"], ["updated_at", "2020-08-16 23:45:45.438688"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/users" for 127.0.0.1 at 2020-08-16 16:45:45 -0700
Processing by OrgController#all_users as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:45:45.479064"], ["updated_at", "2020-08-16 23:45:45.479064"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:45:45.480196"], ["updated_at", "2020-08-16 23:45:45.480196"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:45:45.480916"], ["updated_at", "2020-08-16 23:45:45.480916"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:45:45.481621"], ["updated_at", "2020-08-16 23:45:45.481621"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:45:45.482394"], ["updated_at", "2020-08-16 23:45:45.482394"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:45:45.483510"], ["updated_at", "2020-08-16 23:45:45.483510"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:45:45.484290"], ["updated_at", "2020-08-16 23:45:45.484290"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:45:45.485018"], ["updated_at", "2020-08-16 23:45:45.485018"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:45:45.485723"], ["updated_at", "2020-08-16 23:45:45.485723"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.487790"], ["updated_at", "2020-08-16 23:45:45.487790"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.488780"], ["updated_at", "2020-08-16 23:45:45.488780"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.489694"], ["updated_at", "2020-08-16 23:45:45.489694"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.490578"], ["updated_at", "2020-08-16 23:45:45.490578"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.492406"], ["updated_at", "2020-08-16 23:45:45.492406"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.493284"], ["updated_at", "2020-08-16 23:45:45.493284"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.494163"], ["updated_at", "2020-08-16 23:45:45.494163"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.495036"], ["updated_at", "2020-08-16 23:45:45.495036"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.496852"], ["updated_at", "2020-08-16 23:45:45.496852"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.497728"], ["updated_at", "2020-08-16 23:45:45.497728"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.498584"], ["updated_at", "2020-08-16 23:45:45.498584"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.499434"], ["updated_at", "2020-08-16 23:45:45.499434"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.501207"], ["updated_at", "2020-08-16 23:45:45.501207"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.502079"], ["updated_at", "2020-08-16 23:45:45.502079"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$V4y2crwzhFaSjqYfPVRieOqr27rYRO0OUiKmW9WIB3WRdPV2nNvKe"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$L4gnv6XTifBzko22mCPH3uSvD9Ob1OEI0pdwdcX.XUsx7SuO1vJJO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.508180"], ["updated_at", "2020-08-16 23:45:45.508180"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:45:45.509010"], ["updated_at", "2020-08-16 23:45:45.509010"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:45:45 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:45:45.523972"], ["updated_at", "2020-08-16 23:45:45.523972"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:45:45.524850"], ["updated_at", "2020-08-16 23:45:45.524850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:45:45.525480"], ["updated_at", "2020-08-16 23:45:45.525480"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:45:45.526095"], ["updated_at", "2020-08-16 23:45:45.526095"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:45:45.526784"], ["updated_at", "2020-08-16 23:45:45.526784"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:45:45.527622"], ["updated_at", "2020-08-16 23:45:45.527622"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:45:45.528548"], ["updated_at", "2020-08-16 23:45:45.528548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:45:45.529326"], ["updated_at", "2020-08-16 23:45:45.529326"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:45:45.530046"], ["updated_at", "2020-08-16 23:45:45.530046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.532247"], ["updated_at", "2020-08-16 23:45:45.532247"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.533291"], ["updated_at", "2020-08-16 23:45:45.533291"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.534196"], ["updated_at", "2020-08-16 23:45:45.534196"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.535028"], ["updated_at", "2020-08-16 23:45:45.535028"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.536910"], ["updated_at", "2020-08-16 23:45:45.536910"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.537933"], ["updated_at", "2020-08-16 23:45:45.537933"]]
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.538972"], ["updated_at", "2020-08-16 23:45:45.538972"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.540331"], ["updated_at", "2020-08-16 23:45:45.540331"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.544549"], ["updated_at", "2020-08-16 23:45:45.544549"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.545596"], ["updated_at", "2020-08-16 23:45:45.545596"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.546459"], ["updated_at", "2020-08-16 23:45:45.546459"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.547301"], ["updated_at", "2020-08-16 23:45:45.547301"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.549056"], ["updated_at", "2020-08-16 23:45:45.549056"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.550122"], ["updated_at", "2020-08-16 23:45:45.550122"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$4pu7Uy8aJWSFpIXKz985HOQeE.HwGDUPwqjGGChLxoaDTfkFxr9Hm"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$GWQ8pHNJmVSJFol983FSwePM5Epl0SaETPKAGTBbf3wshgSfCRJIW"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.556341"], ["updated_at", "2020-08-16 23:45:45.556341"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:45:45.557308"], ["updated_at", "2020-08-16 23:45:45.557308"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:45:45.594504"], ["updated_at", "2020-08-16 23:45:45.594504"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:45:45.595698"], ["updated_at", "2020-08-16 23:45:45.595698"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:45:45.596473"], ["updated_at", "2020-08-16 23:45:45.596473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:45:45.597146"], ["updated_at", "2020-08-16 23:45:45.597146"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:45:45.597878"], ["updated_at", "2020-08-16 23:45:45.597878"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:45:45.598678"], ["updated_at", "2020-08-16 23:45:45.598678"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:45:45.599383"], ["updated_at", "2020-08-16 23:45:45.599383"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:45:45.600102"], ["updated_at", "2020-08-16 23:45:45.600102"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:45:45.600798"], ["updated_at", "2020-08-16 23:45:45.600798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.602903"], ["updated_at", "2020-08-16 23:45:45.602903"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.604021"], ["updated_at", "2020-08-16 23:45:45.604021"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.605024"], ["updated_at", "2020-08-16 23:45:45.605024"]]
  [1m[35mSQL (0.7ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.607466"], ["updated_at", "2020-08-16 23:45:45.607466"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.612389"], ["updated_at", "2020-08-16 23:45:45.612389"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.615083"], ["updated_at", "2020-08-16 23:45:45.615083"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.617640"], ["updated_at", "2020-08-16 23:45:45.617640"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.620025"], ["updated_at", "2020-08-16 23:45:45.620025"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.8ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.624311"], ["updated_at", "2020-08-16 23:45:45.624311"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.626788"], ["updated_at", "2020-08-16 23:45:45.626788"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.629188"], ["updated_at", "2020-08-16 23:45:45.629188"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.630914"], ["updated_at", "2020-08-16 23:45:45.630914"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.635334"], ["updated_at", "2020-08-16 23:45:45.635334"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.637343"], ["updated_at", "2020-08-16 23:45:45.637343"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$Rd5ZFVTr4CCdy.S3fp2Kgefop.fQQrzlEPUR3o1dmdeJMPZ8HpnRW"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$l3RLYaQQY2nWoRYGNkLAvONbwzAoEN3kx3fZPOOtRlDLY.uS9vaAC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.647395"], ["updated_at", "2020-08-16 23:45:45.647395"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:45:45.649185"], ["updated_at", "2020-08-16 23:45:45.649185"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:45:45 -0700
Processing by OrgController#add_address as JSON
  Parameters: {"addr_1"=>"123 Lane 4th st", "city"=>"Bellevue", "state"=>"WA", "zip"=>"99999", "id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:45:45.673460"], ["updated_at", "2020-08-16 23:45:45.673460"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 0.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
  [1m[36mAddress Load (0.2ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ? ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["org_id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:45:45.679602"], ["updated_at", "2020-08-16 23:45:45.679602"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:45:45.680716"], ["updated_at", "2020-08-16 23:45:45.680716"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:45:45.681505"], ["updated_at", "2020-08-16 23:45:45.681505"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:45:45.682391"], ["updated_at", "2020-08-16 23:45:45.682391"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:45:45.683371"], ["updated_at", "2020-08-16 23:45:45.683371"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:45:45.684342"], ["updated_at", "2020-08-16 23:45:45.684342"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:45:45.685126"], ["updated_at", "2020-08-16 23:45:45.685126"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:45:45.685884"], ["updated_at", "2020-08-16 23:45:45.685884"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:45:45.686663"], ["updated_at", "2020-08-16 23:45:45.686663"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.689051"], ["updated_at", "2020-08-16 23:45:45.689051"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.690214"], ["updated_at", "2020-08-16 23:45:45.690214"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.691213"], ["updated_at", "2020-08-16 23:45:45.691213"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.692215"], ["updated_at", "2020-08-16 23:45:45.692215"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.694231"], ["updated_at", "2020-08-16 23:45:45.694231"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.695206"], ["updated_at", "2020-08-16 23:45:45.695206"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.696131"], ["updated_at", "2020-08-16 23:45:45.696131"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.697068"], ["updated_at", "2020-08-16 23:45:45.697068"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.698932"], ["updated_at", "2020-08-16 23:45:45.698932"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.699846"], ["updated_at", "2020-08-16 23:45:45.699846"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.700756"], ["updated_at", "2020-08-16 23:45:45.700756"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.701682"], ["updated_at", "2020-08-16 23:45:45.701682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.703449"], ["updated_at", "2020-08-16 23:45:45.703449"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.704388"], ["updated_at", "2020-08-16 23:45:45.704388"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$XB6SHfHmTckJIPWN2mrjR.U4lHH0Ldezc3aiNF91RT6r.xhiea3F6"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$S5TJJVhP0MIvxn3oeM0gD.DH47KLXVuy2omp9QhaIXPEl34bQejny"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.710683"], ["updated_at", "2020-08-16 23:45:45.710683"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:45:45.711573"], ["updated_at", "2020-08-16 23:45:45.711573"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:45:45.715943"], ["updated_at", "2020-08-16 23:45:45.715943"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:45:45 -0700
Processing by OrgController#all_addresses as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:45:45.724111"], ["updated_at", "2020-08-16 23:45:45.724111"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:45:45.725185"], ["updated_at", "2020-08-16 23:45:45.725185"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:45:45.725902"], ["updated_at", "2020-08-16 23:45:45.725902"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:45:45.726640"], ["updated_at", "2020-08-16 23:45:45.726640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:45:45.727446"], ["updated_at", "2020-08-16 23:45:45.727446"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:45:45.728405"], ["updated_at", "2020-08-16 23:45:45.728405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:45:45.729118"], ["updated_at", "2020-08-16 23:45:45.729118"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:45:45.729827"], ["updated_at", "2020-08-16 23:45:45.729827"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:45:45.730473"], ["updated_at", "2020-08-16 23:45:45.730473"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.732527"], ["updated_at", "2020-08-16 23:45:45.732527"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.733705"], ["updated_at", "2020-08-16 23:45:45.733705"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.734677"], ["updated_at", "2020-08-16 23:45:45.734677"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.735613"], ["updated_at", "2020-08-16 23:45:45.735613"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.737843"], ["updated_at", "2020-08-16 23:45:45.737843"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.738864"], ["updated_at", "2020-08-16 23:45:45.738864"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.739777"], ["updated_at", "2020-08-16 23:45:45.739777"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.740630"], ["updated_at", "2020-08-16 23:45:45.740630"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.742481"], ["updated_at", "2020-08-16 23:45:45.742481"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.743335"], ["updated_at", "2020-08-16 23:45:45.743335"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.744208"], ["updated_at", "2020-08-16 23:45:45.744208"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.745063"], ["updated_at", "2020-08-16 23:45:45.745063"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.746811"], ["updated_at", "2020-08-16 23:45:45.746811"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.747687"], ["updated_at", "2020-08-16 23:45:45.747687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$FJ/9oF.48RYZb/q49lvl/uY4KFdQGu9l8YZiHr/ees68KG8GJqsRG"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$uz9teLeqQemDilGZkO6aSecYeI91EbnMH3svq0ybvw2U803I6vL2C"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.753659"], ["updated_at", "2020-08-16 23:45:45.753659"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:45:45.754501"], ["updated_at", "2020-08-16 23:45:45.754501"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:45:45.765913"], ["updated_at", "2020-08-16 23:45:45.765913"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:45:45.767219"], ["updated_at", "2020-08-16 23:45:45.767219"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:45:45.768003"], ["updated_at", "2020-08-16 23:45:45.768003"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:45:45.768853"], ["updated_at", "2020-08-16 23:45:45.768853"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:45:45.769672"], ["updated_at", "2020-08-16 23:45:45.769672"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:45:45.770519"], ["updated_at", "2020-08-16 23:45:45.770519"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:45:45.771237"], ["updated_at", "2020-08-16 23:45:45.771237"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:45:45.772005"], ["updated_at", "2020-08-16 23:45:45.772005"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:45:45.772869"], ["updated_at", "2020-08-16 23:45:45.772869"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.775057"], ["updated_at", "2020-08-16 23:45:45.775057"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.776126"], ["updated_at", "2020-08-16 23:45:45.776126"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.777002"], ["updated_at", "2020-08-16 23:45:45.777002"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:45:45.777873"], ["updated_at", "2020-08-16 23:45:45.777873"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.779831"], ["updated_at", "2020-08-16 23:45:45.779831"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.780921"], ["updated_at", "2020-08-16 23:45:45.780921"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.782140"], ["updated_at", "2020-08-16 23:45:45.782140"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:45:45.783349"], ["updated_at", "2020-08-16 23:45:45.783349"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.785670"], ["updated_at", "2020-08-16 23:45:45.785670"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.786631"], ["updated_at", "2020-08-16 23:45:45.786631"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.787526"], ["updated_at", "2020-08-16 23:45:45.787526"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.788366"], ["updated_at", "2020-08-16 23:45:45.788366"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.790146"], ["updated_at", "2020-08-16 23:45:45.790146"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:45:45.791024"], ["updated_at", "2020-08-16 23:45:45.791024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$.V0n2B4V2lUOVKqRh21KU.yp93REIuhSzR8tlIpEDHSdaW0r.97D2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$qQk/wUguX0OivcU/2S7ODeyUP97N8G3eAw1bmKSt6BhFO8oqCfhJu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:45:45.797551"], ["updated_at", "2020-08-16 23:45:45.797551"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:45:45.798440"], ["updated_at", "2020-08-16 23:45:45.798440"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:09.070323"], ["updated_at", "2020-08-16 23:48:09.070323"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:09.071348"], ["updated_at", "2020-08-16 23:48:09.071348"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:09.071940"], ["updated_at", "2020-08-16 23:48:09.071940"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:09.072501"], ["updated_at", "2020-08-16 23:48:09.072501"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:09.075197"], ["updated_at", "2020-08-16 23:48:09.075197"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:09.075911"], ["updated_at", "2020-08-16 23:48:09.075911"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:09.076525"], ["updated_at", "2020-08-16 23:48:09.076525"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:09.077102"], ["updated_at", "2020-08-16 23:48:09.077102"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:09.077733"], ["updated_at", "2020-08-16 23:48:09.077733"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:09.099596"], ["updated_at", "2020-08-16 23:48:09.099596"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:09.100948"], ["updated_at", "2020-08-16 23:48:09.100948"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:09.101928"], ["updated_at", "2020-08-16 23:48:09.101928"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:09.102873"], ["updated_at", "2020-08-16 23:48:09.102873"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:09.104867"], ["updated_at", "2020-08-16 23:48:09.104867"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:09.105799"], ["updated_at", "2020-08-16 23:48:09.105799"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:09.106703"], ["updated_at", "2020-08-16 23:48:09.106703"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:09.107601"], ["updated_at", "2020-08-16 23:48:09.107601"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:09.109451"], ["updated_at", "2020-08-16 23:48:09.109451"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:09.110366"], ["updated_at", "2020-08-16 23:48:09.110366"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:09.111295"], ["updated_at", "2020-08-16 23:48:09.111295"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:09.112212"], ["updated_at", "2020-08-16 23:48:09.112212"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:09.114096"], ["updated_at", "2020-08-16 23:48:09.114096"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:09.115036"], ["updated_at", "2020-08-16 23:48:09.115036"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$CoRnASyMssKmx2qTSxSIH.hhHqVo6B8RSgba3eihernoAWxBEdnle"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$UvbU1LSKMC3Mqw.IQHlwZuaYoGLB5NnjoYV4F9egfLnulq06n8ryi"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:09.141240"], ["updated_at", "2020-08-16 23:48:09.141240"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:09.149486"], ["updated_at", "2020-08-16 23:48:09.149486"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:48:09 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 7ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:48.798260"], ["updated_at", "2020-08-16 23:48:48.798260"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:48.799492"], ["updated_at", "2020-08-16 23:48:48.799492"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:48.800229"], ["updated_at", "2020-08-16 23:48:48.800229"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:48.800905"], ["updated_at", "2020-08-16 23:48:48.800905"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:48.804106"], ["updated_at", "2020-08-16 23:48:48.804106"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:48.804978"], ["updated_at", "2020-08-16 23:48:48.804978"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:48.805708"], ["updated_at", "2020-08-16 23:48:48.805708"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:48.806454"], ["updated_at", "2020-08-16 23:48:48.806454"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:48.807189"], ["updated_at", "2020-08-16 23:48:48.807189"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:48.835040"], ["updated_at", "2020-08-16 23:48:48.835040"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:48.836457"], ["updated_at", "2020-08-16 23:48:48.836457"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:48.837508"], ["updated_at", "2020-08-16 23:48:48.837508"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:48.838509"], ["updated_at", "2020-08-16 23:48:48.838509"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:48.840628"], ["updated_at", "2020-08-16 23:48:48.840628"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:48.841765"], ["updated_at", "2020-08-16 23:48:48.841765"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:48.842850"], ["updated_at", "2020-08-16 23:48:48.842850"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:48.843873"], ["updated_at", "2020-08-16 23:48:48.843873"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:48.846100"], ["updated_at", "2020-08-16 23:48:48.846100"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:48.847479"], ["updated_at", "2020-08-16 23:48:48.847479"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:48.848500"], ["updated_at", "2020-08-16 23:48:48.848500"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:48.849507"], ["updated_at", "2020-08-16 23:48:48.849507"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:48.851572"], ["updated_at", "2020-08-16 23:48:48.851572"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:48.852576"], ["updated_at", "2020-08-16 23:48:48.852576"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$t43ArqMG25hBY8aiL3ymqeNC7mvtE8KW5UlrhOBUirbSjuZtknLwa"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$YFcQj9yG43pg0l2EKYcGZufejYQYPHLgcOOz39bxuLrqLsw7vdsZa"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:48.877559"], ["updated_at", "2020-08-16 23:48:48.877559"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:48.885095"], ["updated_at", "2020-08-16 23:48:48.885095"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:48:48 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 8ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:56.773421"], ["updated_at", "2020-08-16 23:48:56.773421"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:56.774437"], ["updated_at", "2020-08-16 23:48:56.774437"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:56.775047"], ["updated_at", "2020-08-16 23:48:56.775047"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:56.775593"], ["updated_at", "2020-08-16 23:48:56.775593"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:56.778259"], ["updated_at", "2020-08-16 23:48:56.778259"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:56.779129"], ["updated_at", "2020-08-16 23:48:56.779129"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:56.779755"], ["updated_at", "2020-08-16 23:48:56.779755"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:56.780337"], ["updated_at", "2020-08-16 23:48:56.780337"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:56.780939"], ["updated_at", "2020-08-16 23:48:56.780939"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.801616"], ["updated_at", "2020-08-16 23:48:56.801616"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.803011"], ["updated_at", "2020-08-16 23:48:56.803011"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.804017"], ["updated_at", "2020-08-16 23:48:56.804017"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.804936"], ["updated_at", "2020-08-16 23:48:56.804936"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.807011"], ["updated_at", "2020-08-16 23:48:56.807011"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.808069"], ["updated_at", "2020-08-16 23:48:56.808069"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.809039"], ["updated_at", "2020-08-16 23:48:56.809039"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.810013"], ["updated_at", "2020-08-16 23:48:56.810013"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.812044"], ["updated_at", "2020-08-16 23:48:56.812044"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.813064"], ["updated_at", "2020-08-16 23:48:56.813064"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.814013"], ["updated_at", "2020-08-16 23:48:56.814013"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.814953"], ["updated_at", "2020-08-16 23:48:56.814953"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:56.816854"], ["updated_at", "2020-08-16 23:48:56.816854"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:56.817758"], ["updated_at", "2020-08-16 23:48:56.817758"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$uUm6vz0IpICgdJ6QM0xqGOWI54jI7sfB.u62Z3Me0u01Cwcrok2lC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$LgD9cEXsr66EVofQrzKFEOzeoSHNHk3TUUoPXw7BcTPFh88uWuwgS"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.844102"], ["updated_at", "2020-08-16 23:48:56.844102"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:56.851082"], ["updated_at", "2020-08-16 23:48:56.851082"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:48:56 -0700
Processing by OrgController#create as JSON
  Parameters: {"user_id"=>1, "org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
Unpermitted parameters: user_id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "is_verified", "is_enabled", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "New Test Org Name"], ["is_verified", nil], ["is_enabled", nil], ["created_at", "2020-08-16 23:48:56.873123"], ["updated_at", "2020-08-16 23:48:56.873123"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:56.881650"], ["updated_at", "2020-08-16 23:48:56.881650"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:56.882649"], ["updated_at", "2020-08-16 23:48:56.882649"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:56.883341"], ["updated_at", "2020-08-16 23:48:56.883341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:56.883996"], ["updated_at", "2020-08-16 23:48:56.883996"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:56.884727"], ["updated_at", "2020-08-16 23:48:56.884727"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:56.885498"], ["updated_at", "2020-08-16 23:48:56.885498"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:56.886576"], ["updated_at", "2020-08-16 23:48:56.886576"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:56.887604"], ["updated_at", "2020-08-16 23:48:56.887604"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:56.888430"], ["updated_at", "2020-08-16 23:48:56.888430"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.890625"], ["updated_at", "2020-08-16 23:48:56.890625"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.891664"], ["updated_at", "2020-08-16 23:48:56.891664"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.892548"], ["updated_at", "2020-08-16 23:48:56.892548"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.893435"], ["updated_at", "2020-08-16 23:48:56.893435"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.895277"], ["updated_at", "2020-08-16 23:48:56.895277"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.896194"], ["updated_at", "2020-08-16 23:48:56.896194"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.897102"], ["updated_at", "2020-08-16 23:48:56.897102"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.898004"], ["updated_at", "2020-08-16 23:48:56.898004"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.900057"], ["updated_at", "2020-08-16 23:48:56.900057"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.901114"], ["updated_at", "2020-08-16 23:48:56.901114"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.902219"], ["updated_at", "2020-08-16 23:48:56.902219"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.903218"], ["updated_at", "2020-08-16 23:48:56.903218"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:56.905175"], ["updated_at", "2020-08-16 23:48:56.905175"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:56.906133"], ["updated_at", "2020-08-16 23:48:56.906133"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$MO6hq43.BZgvnyYfPDAboe8ZqQyLIGveeIDVFDO93kK53NmniMxpa"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$ZmIOR30MnlTZ0xEleocjbO64LLwgnXgmT5YGB7G7f1USEVxMlpyIi"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.912642"], ["updated_at", "2020-08-16 23:48:56.912642"], ["org_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:56.913577"], ["updated_at", "2020-08-16 23:48:56.913577"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=New%20Test%20Org%20Name" for 127.0.0.1 at 2020-08-16 16:48:56 -0700
Processing by OrgController#org_search as JSON
  Parameters: {"org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."name" = ?[0m  [["name", "New Test Org Name"]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (2.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:56.928066"], ["updated_at", "2020-08-16 23:48:56.928066"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:56.929296"], ["updated_at", "2020-08-16 23:48:56.929296"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:56.933074"], ["updated_at", "2020-08-16 23:48:56.933074"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:56.933846"], ["updated_at", "2020-08-16 23:48:56.933846"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:56.934627"], ["updated_at", "2020-08-16 23:48:56.934627"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:56.935531"], ["updated_at", "2020-08-16 23:48:56.935531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:56.936366"], ["updated_at", "2020-08-16 23:48:56.936366"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:56.937095"], ["updated_at", "2020-08-16 23:48:56.937095"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:56.937874"], ["updated_at", "2020-08-16 23:48:56.937874"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.940259"], ["updated_at", "2020-08-16 23:48:56.940259"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.941458"], ["updated_at", "2020-08-16 23:48:56.941458"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.942513"], ["updated_at", "2020-08-16 23:48:56.942513"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.943522"], ["updated_at", "2020-08-16 23:48:56.943522"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.945817"], ["updated_at", "2020-08-16 23:48:56.945817"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.946928"], ["updated_at", "2020-08-16 23:48:56.946928"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.947919"], ["updated_at", "2020-08-16 23:48:56.947919"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.948879"], ["updated_at", "2020-08-16 23:48:56.948879"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.950763"], ["updated_at", "2020-08-16 23:48:56.950763"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.951666"], ["updated_at", "2020-08-16 23:48:56.951666"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.952608"], ["updated_at", "2020-08-16 23:48:56.952608"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.953515"], ["updated_at", "2020-08-16 23:48:56.953515"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:56.955438"], ["updated_at", "2020-08-16 23:48:56.955438"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:56.956408"], ["updated_at", "2020-08-16 23:48:56.956408"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$lSirNlSH4A89IxZHqq8PgOcoxUhy1pmWqzFnRHsDGiisdwq3h/Rvq"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$xaIUQMDkSDPdJMx1SS/2o..kUyegtko.r3nz7TBPm07dN3e9P7QQS"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.963038"], ["updated_at", "2020-08-16 23:48:56.963038"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:56.964079"], ["updated_at", "2020-08-16 23:48:56.964079"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:48:56 -0700
Processing by OrgController#update as JSON
  Parameters: {"org_name"=>"New Test Org Name", "is_verified"=>true, "is_enabled"=>true, "id"=>"1", "org"=>{"is_verified"=>true, "is_enabled"=>true}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Unpermitted parameters: id, org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "orgs" SET "is_verified" = ?, "updated_at" = ? WHERE "orgs"."id" = ?[0m  [["is_verified", "t"], ["updated_at", "2020-08-16 23:48:56.972157"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:56.975938"], ["updated_at", "2020-08-16 23:48:56.975938"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:56.976870"], ["updated_at", "2020-08-16 23:48:56.976870"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:56.977930"], ["updated_at", "2020-08-16 23:48:56.977930"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:56.979162"], ["updated_at", "2020-08-16 23:48:56.979162"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:56.980024"], ["updated_at", "2020-08-16 23:48:56.980024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:56.980952"], ["updated_at", "2020-08-16 23:48:56.980952"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:56.981693"], ["updated_at", "2020-08-16 23:48:56.981693"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:56.982478"], ["updated_at", "2020-08-16 23:48:56.982478"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:56.983286"], ["updated_at", "2020-08-16 23:48:56.983286"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.985505"], ["updated_at", "2020-08-16 23:48:56.985505"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.986685"], ["updated_at", "2020-08-16 23:48:56.986685"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.987697"], ["updated_at", "2020-08-16 23:48:56.987697"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:56.988636"], ["updated_at", "2020-08-16 23:48:56.988636"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.990682"], ["updated_at", "2020-08-16 23:48:56.990682"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.991652"], ["updated_at", "2020-08-16 23:48:56.991652"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.992563"], ["updated_at", "2020-08-16 23:48:56.992563"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:56.993464"], ["updated_at", "2020-08-16 23:48:56.993464"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.995374"], ["updated_at", "2020-08-16 23:48:56.995374"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.996312"], ["updated_at", "2020-08-16 23:48:56.996312"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.997219"], ["updated_at", "2020-08-16 23:48:56.997219"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:56.998147"], ["updated_at", "2020-08-16 23:48:56.998147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:56.999991"], ["updated_at", "2020-08-16 23:48:56.999991"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.001174"], ["updated_at", "2020-08-16 23:48:57.001174"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$q.a06wWtSF5k/OCSTerso.TFLSZpNswSb6L3YCI8zzMX.zu0JRxhC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$YMlfss6QxR3dX8hFU9EUUeTf5t1kKVjWXt16rnfPJ7tAQOJIg6tYG"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.008169"], ["updated_at", "2020-08-16 23:48:57.008169"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:57.009135"], ["updated_at", "2020-08-16 23:48:57.009135"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/users" for 127.0.0.1 at 2020-08-16 16:48:57 -0700
Processing by OrgController#all_users as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:57.049234"], ["updated_at", "2020-08-16 23:48:57.049234"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:57.050218"], ["updated_at", "2020-08-16 23:48:57.050218"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:57.050918"], ["updated_at", "2020-08-16 23:48:57.050918"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:57.051581"], ["updated_at", "2020-08-16 23:48:57.051581"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:57.052405"], ["updated_at", "2020-08-16 23:48:57.052405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:57.053346"], ["updated_at", "2020-08-16 23:48:57.053346"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:57.054119"], ["updated_at", "2020-08-16 23:48:57.054119"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:57.054817"], ["updated_at", "2020-08-16 23:48:57.054817"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:57.055513"], ["updated_at", "2020-08-16 23:48:57.055513"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.057657"], ["updated_at", "2020-08-16 23:48:57.057657"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.058707"], ["updated_at", "2020-08-16 23:48:57.058707"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.059618"], ["updated_at", "2020-08-16 23:48:57.059618"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.060578"], ["updated_at", "2020-08-16 23:48:57.060578"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.062507"], ["updated_at", "2020-08-16 23:48:57.062507"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.063437"], ["updated_at", "2020-08-16 23:48:57.063437"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.064330"], ["updated_at", "2020-08-16 23:48:57.064330"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.065216"], ["updated_at", "2020-08-16 23:48:57.065216"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.067007"], ["updated_at", "2020-08-16 23:48:57.067007"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.067913"], ["updated_at", "2020-08-16 23:48:57.067913"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.068823"], ["updated_at", "2020-08-16 23:48:57.068823"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.069724"], ["updated_at", "2020-08-16 23:48:57.069724"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.071470"], ["updated_at", "2020-08-16 23:48:57.071470"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.072346"], ["updated_at", "2020-08-16 23:48:57.072346"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$s1Eo6avCyPQhZZO713lUiucReXEY/ZY9w02FsCNzTlN2CqXPBTvpK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$GvIFXEbSz/giiCfTUhfIDetD6dNRg1l.KC8figAcaQjrCpvyHEfgu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.078421"], ["updated_at", "2020-08-16 23:48:57.078421"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:57.079333"], ["updated_at", "2020-08-16 23:48:57.079333"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:48:57 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:57.090747"], ["updated_at", "2020-08-16 23:48:57.090747"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:57.091667"], ["updated_at", "2020-08-16 23:48:57.091667"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:57.092340"], ["updated_at", "2020-08-16 23:48:57.092340"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:57.093013"], ["updated_at", "2020-08-16 23:48:57.093013"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:57.093770"], ["updated_at", "2020-08-16 23:48:57.093770"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:57.094574"], ["updated_at", "2020-08-16 23:48:57.094574"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:57.095299"], ["updated_at", "2020-08-16 23:48:57.095299"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:57.096187"], ["updated_at", "2020-08-16 23:48:57.096187"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:57.096932"], ["updated_at", "2020-08-16 23:48:57.096932"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.098957"], ["updated_at", "2020-08-16 23:48:57.098957"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.100067"], ["updated_at", "2020-08-16 23:48:57.100067"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.101079"], ["updated_at", "2020-08-16 23:48:57.101079"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.102178"], ["updated_at", "2020-08-16 23:48:57.102178"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.104217"], ["updated_at", "2020-08-16 23:48:57.104217"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.105481"], ["updated_at", "2020-08-16 23:48:57.105481"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.106770"], ["updated_at", "2020-08-16 23:48:57.106770"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.108138"], ["updated_at", "2020-08-16 23:48:57.108138"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.110484"], ["updated_at", "2020-08-16 23:48:57.110484"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.111589"], ["updated_at", "2020-08-16 23:48:57.111589"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.114962"], ["updated_at", "2020-08-16 23:48:57.114962"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.115999"], ["updated_at", "2020-08-16 23:48:57.115999"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.117834"], ["updated_at", "2020-08-16 23:48:57.117834"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.118808"], ["updated_at", "2020-08-16 23:48:57.118808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$Ndi2V01IUl843P810Hq78.IYZJXgl1vRNk3WXCWtEGe/fwe47HrCC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$Tb.gHhF7vqHQf6XvKRBUKe3KIiAN3sqDl7anrTE2NZ8SHJ4bbbqB2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.125400"], ["updated_at", "2020-08-16 23:48:57.125400"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:57.126357"], ["updated_at", "2020-08-16 23:48:57.126357"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:57.162369"], ["updated_at", "2020-08-16 23:48:57.162369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:57.163383"], ["updated_at", "2020-08-16 23:48:57.163383"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:57.164162"], ["updated_at", "2020-08-16 23:48:57.164162"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:57.164975"], ["updated_at", "2020-08-16 23:48:57.164975"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:57.165798"], ["updated_at", "2020-08-16 23:48:57.165798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:57.166590"], ["updated_at", "2020-08-16 23:48:57.166590"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:57.167270"], ["updated_at", "2020-08-16 23:48:57.167270"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:57.167950"], ["updated_at", "2020-08-16 23:48:57.167950"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:57.168635"], ["updated_at", "2020-08-16 23:48:57.168635"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.170671"], ["updated_at", "2020-08-16 23:48:57.170671"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.171686"], ["updated_at", "2020-08-16 23:48:57.171686"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.172629"], ["updated_at", "2020-08-16 23:48:57.172629"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.173640"], ["updated_at", "2020-08-16 23:48:57.173640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.177488"], ["updated_at", "2020-08-16 23:48:57.177488"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.179674"], ["updated_at", "2020-08-16 23:48:57.179674"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.182085"], ["updated_at", "2020-08-16 23:48:57.182085"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.183692"], ["updated_at", "2020-08-16 23:48:57.183692"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.188316"], ["updated_at", "2020-08-16 23:48:57.188316"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.190716"], ["updated_at", "2020-08-16 23:48:57.190716"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.192521"], ["updated_at", "2020-08-16 23:48:57.192521"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.195017"], ["updated_at", "2020-08-16 23:48:57.195017"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.199145"], ["updated_at", "2020-08-16 23:48:57.199145"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.200969"], ["updated_at", "2020-08-16 23:48:57.200969"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$GBdEnk4QAWQgPkWek7SN8u29FlE/jyLxgSj9B/KV/UjLiQNpJGz3O"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$EW0FYucNRSo7e6ml22y9HuyMOpS5MoXF.2rToUjZa8voHL6kpYuBO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.210878"], ["updated_at", "2020-08-16 23:48:57.210878"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:57.212312"], ["updated_at", "2020-08-16 23:48:57.212312"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:48:57 -0700
Processing by OrgController#add_address as JSON
  Parameters: {"addr_1"=>"123 Lane 4th st", "city"=>"Bellevue", "state"=>"WA", "zip"=>"99999", "id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:48:57.236287"], ["updated_at", "2020-08-16 23:48:57.236287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 12ms (Views: 0.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ? ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["org_id", 1], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:57.241705"], ["updated_at", "2020-08-16 23:48:57.241705"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:57.242674"], ["updated_at", "2020-08-16 23:48:57.242674"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:57.243581"], ["updated_at", "2020-08-16 23:48:57.243581"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:57.244380"], ["updated_at", "2020-08-16 23:48:57.244380"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:57.245198"], ["updated_at", "2020-08-16 23:48:57.245198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:57.245992"], ["updated_at", "2020-08-16 23:48:57.245992"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:57.246707"], ["updated_at", "2020-08-16 23:48:57.246707"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:57.247456"], ["updated_at", "2020-08-16 23:48:57.247456"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:57.248285"], ["updated_at", "2020-08-16 23:48:57.248285"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.250419"], ["updated_at", "2020-08-16 23:48:57.250419"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.251469"], ["updated_at", "2020-08-16 23:48:57.251469"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.252375"], ["updated_at", "2020-08-16 23:48:57.252375"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.253275"], ["updated_at", "2020-08-16 23:48:57.253275"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.255179"], ["updated_at", "2020-08-16 23:48:57.255179"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.256059"], ["updated_at", "2020-08-16 23:48:57.256059"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.256946"], ["updated_at", "2020-08-16 23:48:57.256946"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.257832"], ["updated_at", "2020-08-16 23:48:57.257832"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.259718"], ["updated_at", "2020-08-16 23:48:57.259718"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.260647"], ["updated_at", "2020-08-16 23:48:57.260647"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.261537"], ["updated_at", "2020-08-16 23:48:57.261537"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.262420"], ["updated_at", "2020-08-16 23:48:57.262420"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.264240"], ["updated_at", "2020-08-16 23:48:57.264240"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.265135"], ["updated_at", "2020-08-16 23:48:57.265135"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$EUKEnJ90T64R.IyO5kUsmOr9w8iJjlKfnMAh3G6ZiLfRDCmUN37f2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$6BEmi4n9cLaG1YMQUH2ILujvvVGbInjqaWA3RPCPXOTiw7o7hdvXO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.271294"], ["updated_at", "2020-08-16 23:48:57.271294"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:57.272214"], ["updated_at", "2020-08-16 23:48:57.272214"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:48:57.276088"], ["updated_at", "2020-08-16 23:48:57.276088"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:48:57 -0700
Processing by OrgController#all_addresses as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (1.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:57.284693"], ["updated_at", "2020-08-16 23:48:57.284693"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:57.285636"], ["updated_at", "2020-08-16 23:48:57.285636"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:57.286372"], ["updated_at", "2020-08-16 23:48:57.286372"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:57.287456"], ["updated_at", "2020-08-16 23:48:57.287456"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:57.288355"], ["updated_at", "2020-08-16 23:48:57.288355"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:57.289130"], ["updated_at", "2020-08-16 23:48:57.289130"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:57.289850"], ["updated_at", "2020-08-16 23:48:57.289850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:57.290535"], ["updated_at", "2020-08-16 23:48:57.290535"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:57.291216"], ["updated_at", "2020-08-16 23:48:57.291216"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.293298"], ["updated_at", "2020-08-16 23:48:57.293298"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.294471"], ["updated_at", "2020-08-16 23:48:57.294471"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.295524"], ["updated_at", "2020-08-16 23:48:57.295524"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.296700"], ["updated_at", "2020-08-16 23:48:57.296700"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.298789"], ["updated_at", "2020-08-16 23:48:57.298789"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.299744"], ["updated_at", "2020-08-16 23:48:57.299744"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.300738"], ["updated_at", "2020-08-16 23:48:57.300738"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.301696"], ["updated_at", "2020-08-16 23:48:57.301696"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.303547"], ["updated_at", "2020-08-16 23:48:57.303547"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.304516"], ["updated_at", "2020-08-16 23:48:57.304516"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.305394"], ["updated_at", "2020-08-16 23:48:57.305394"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.306276"], ["updated_at", "2020-08-16 23:48:57.306276"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.308059"], ["updated_at", "2020-08-16 23:48:57.308059"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.308995"], ["updated_at", "2020-08-16 23:48:57.308995"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$/lJef2FMWWjJhk6QwhLtHeBW0bnN3QBwf/CB2SjxGHKtDA9fsNGLG"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$bVvy6wUcbHTUMGPwEFU45Oy.LmwhQl74Qan3gn7yyaZASy.YKbHhK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.316171"], ["updated_at", "2020-08-16 23:48:57.316171"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:57.317257"], ["updated_at", "2020-08-16 23:48:57.317257"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:48:57.329789"], ["updated_at", "2020-08-16 23:48:57.329789"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:48:57.330817"], ["updated_at", "2020-08-16 23:48:57.330817"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:48:57.331506"], ["updated_at", "2020-08-16 23:48:57.331506"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:48:57.332212"], ["updated_at", "2020-08-16 23:48:57.332212"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:48:57.333040"], ["updated_at", "2020-08-16 23:48:57.333040"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:48:57.333899"], ["updated_at", "2020-08-16 23:48:57.333899"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:48:57.334642"], ["updated_at", "2020-08-16 23:48:57.334642"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:48:57.335329"], ["updated_at", "2020-08-16 23:48:57.335329"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:48:57.336000"], ["updated_at", "2020-08-16 23:48:57.336000"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.338236"], ["updated_at", "2020-08-16 23:48:57.338236"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.339413"], ["updated_at", "2020-08-16 23:48:57.339413"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.340386"], ["updated_at", "2020-08-16 23:48:57.340386"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:48:57.341261"], ["updated_at", "2020-08-16 23:48:57.341261"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.343151"], ["updated_at", "2020-08-16 23:48:57.343151"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.344115"], ["updated_at", "2020-08-16 23:48:57.344115"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.344987"], ["updated_at", "2020-08-16 23:48:57.344987"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:48:57.345891"], ["updated_at", "2020-08-16 23:48:57.345891"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.347732"], ["updated_at", "2020-08-16 23:48:57.347732"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.348613"], ["updated_at", "2020-08-16 23:48:57.348613"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.349551"], ["updated_at", "2020-08-16 23:48:57.349551"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.350452"], ["updated_at", "2020-08-16 23:48:57.350452"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.352291"], ["updated_at", "2020-08-16 23:48:57.352291"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:48:57.353195"], ["updated_at", "2020-08-16 23:48:57.353195"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$dGPn1Um6deBxFDiHbV1ChOcj6qf31M.IFclJSAF2y3alO2BZDPUqu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$SUiz/51/LhKUBoI7PNjfHOj30UGeFlHEPE9fbwiKZthgG0wPAPGLa"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:48:57.359338"], ["updated_at", "2020-08-16 23:48:57.359338"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:48:57.360219"], ["updated_at", "2020-08-16 23:48:57.360219"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:49:41.273253"], ["updated_at", "2020-08-16 23:49:41.273253"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:49:41.274271"], ["updated_at", "2020-08-16 23:49:41.274271"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:49:41.274882"], ["updated_at", "2020-08-16 23:49:41.274882"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:49:41.275462"], ["updated_at", "2020-08-16 23:49:41.275462"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:49:41.278195"], ["updated_at", "2020-08-16 23:49:41.278195"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:49:41.278926"], ["updated_at", "2020-08-16 23:49:41.278926"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:49:41.279506"], ["updated_at", "2020-08-16 23:49:41.279506"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:49:41.280132"], ["updated_at", "2020-08-16 23:49:41.280132"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:49:41.280716"], ["updated_at", "2020-08-16 23:49:41.280716"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.300283"], ["updated_at", "2020-08-16 23:49:41.300283"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.301341"], ["updated_at", "2020-08-16 23:49:41.301341"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.302170"], ["updated_at", "2020-08-16 23:49:41.302170"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.303004"], ["updated_at", "2020-08-16 23:49:41.303004"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.304717"], ["updated_at", "2020-08-16 23:49:41.304717"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.305538"], ["updated_at", "2020-08-16 23:49:41.305538"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.306353"], ["updated_at", "2020-08-16 23:49:41.306353"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.307161"], ["updated_at", "2020-08-16 23:49:41.307161"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.308779"], ["updated_at", "2020-08-16 23:49:41.308779"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.309597"], ["updated_at", "2020-08-16 23:49:41.309597"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.310404"], ["updated_at", "2020-08-16 23:49:41.310404"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.311220"], ["updated_at", "2020-08-16 23:49:41.311220"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.313024"], ["updated_at", "2020-08-16 23:49:41.313024"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.314022"], ["updated_at", "2020-08-16 23:49:41.314022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$ekjSR/ynyz50dYOeQf5GgeiOcSYGgKM4K4BAHBp/jka/.e0XEayY6"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$mXvzvfGD1qhN/TGmlU/MPuTfhBKIVxeYGEFjZviM9Io5.lMbbsdZe"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.341752"], ["updated_at", "2020-08-16 23:49:41.341752"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:49:41.349428"], ["updated_at", "2020-08-16 23:49:41.349428"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:49:41 -0700
Processing by OrgController#create as JSON
  Parameters: {"user_id"=>1, "org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
Unpermitted parameters: user_id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "is_verified", "is_enabled", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "New Test Org Name"], ["is_verified", nil], ["is_enabled", nil], ["created_at", "2020-08-16 23:49:41.371616"], ["updated_at", "2020-08-16 23:49:41.371616"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:49:41.379999"], ["updated_at", "2020-08-16 23:49:41.379999"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:49:41.380980"], ["updated_at", "2020-08-16 23:49:41.380980"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:49:41.381674"], ["updated_at", "2020-08-16 23:49:41.381674"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:49:41.382419"], ["updated_at", "2020-08-16 23:49:41.382419"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:49:41.383248"], ["updated_at", "2020-08-16 23:49:41.383248"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:49:41.384063"], ["updated_at", "2020-08-16 23:49:41.384063"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:49:41.384772"], ["updated_at", "2020-08-16 23:49:41.384772"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:49:41.385465"], ["updated_at", "2020-08-16 23:49:41.385465"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:49:41.386144"], ["updated_at", "2020-08-16 23:49:41.386144"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.388278"], ["updated_at", "2020-08-16 23:49:41.388278"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.389279"], ["updated_at", "2020-08-16 23:49:41.389279"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.390128"], ["updated_at", "2020-08-16 23:49:41.390128"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.390985"], ["updated_at", "2020-08-16 23:49:41.390985"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.392785"], ["updated_at", "2020-08-16 23:49:41.392785"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.393668"], ["updated_at", "2020-08-16 23:49:41.393668"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.394543"], ["updated_at", "2020-08-16 23:49:41.394543"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.395432"], ["updated_at", "2020-08-16 23:49:41.395432"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.397312"], ["updated_at", "2020-08-16 23:49:41.397312"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.398224"], ["updated_at", "2020-08-16 23:49:41.398224"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.399103"], ["updated_at", "2020-08-16 23:49:41.399103"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.399961"], ["updated_at", "2020-08-16 23:49:41.399961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.401726"], ["updated_at", "2020-08-16 23:49:41.401726"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.402596"], ["updated_at", "2020-08-16 23:49:41.402596"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$79v0eIlif2TVGAyqw5E9bu9IQsCSJ/v.WgvsXMPnpyHs1LxeG3ASC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$7GNe5sM2exA15Pi95r9WOOxqPVYAVlf6447qYQhJU9sKfv3fnWdPS"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.408681"], ["updated_at", "2020-08-16 23:49:41.408681"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:49:41.409514"], ["updated_at", "2020-08-16 23:49:41.409514"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=New%20Test%20Org%20Name" for 127.0.0.1 at 2020-08-16 16:49:41 -0700
Processing by OrgController#org_search as JSON
  Parameters: {"org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."name" = ?[0m  [["name", "New Test Org Name"]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:49:41.421051"], ["updated_at", "2020-08-16 23:49:41.421051"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:49:41.422160"], ["updated_at", "2020-08-16 23:49:41.422160"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:49:41.426233"], ["updated_at", "2020-08-16 23:49:41.426233"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:49:41.427048"], ["updated_at", "2020-08-16 23:49:41.427048"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:49:41.427834"], ["updated_at", "2020-08-16 23:49:41.427834"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:49:41.428643"], ["updated_at", "2020-08-16 23:49:41.428643"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:49:41.429376"], ["updated_at", "2020-08-16 23:49:41.429376"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:49:41.430354"], ["updated_at", "2020-08-16 23:49:41.430354"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:49:41.431122"], ["updated_at", "2020-08-16 23:49:41.431122"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.433282"], ["updated_at", "2020-08-16 23:49:41.433282"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.434503"], ["updated_at", "2020-08-16 23:49:41.434503"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.435558"], ["updated_at", "2020-08-16 23:49:41.435558"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.436549"], ["updated_at", "2020-08-16 23:49:41.436549"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.438559"], ["updated_at", "2020-08-16 23:49:41.438559"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.439525"], ["updated_at", "2020-08-16 23:49:41.439525"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.440442"], ["updated_at", "2020-08-16 23:49:41.440442"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.441341"], ["updated_at", "2020-08-16 23:49:41.441341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.443128"], ["updated_at", "2020-08-16 23:49:41.443128"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.444018"], ["updated_at", "2020-08-16 23:49:41.444018"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.444905"], ["updated_at", "2020-08-16 23:49:41.444905"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.445808"], ["updated_at", "2020-08-16 23:49:41.445808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.447665"], ["updated_at", "2020-08-16 23:49:41.447665"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.448524"], ["updated_at", "2020-08-16 23:49:41.448524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$Q4mNxfgv06gun1xZmOITzuTNlRlbl/vYHJQ8oXXP4q9ElBCZ/EIMy"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$sMc4dUfjgFdyWLOVT1pB5ejnw5oBjhjE6NN8VE9SLlZ5L2VOjBQKu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.454595"], ["updated_at", "2020-08-16 23:49:41.454595"], ["org_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:49:41.455444"], ["updated_at", "2020-08-16 23:49:41.455444"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:49:41 -0700
Processing by OrgController#update as JSON
  Parameters: {"org_name"=>"New Test Org Name", "is_verified"=>true, "is_enabled"=>true, "id"=>"1", "org"=>{"is_verified"=>true, "is_enabled"=>true}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Unpermitted parameters: id, org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "orgs" SET "is_verified" = ?, "updated_at" = ? WHERE "orgs"."id" = ?[0m  [["is_verified", "t"], ["updated_at", "2020-08-16 23:49:41.462554"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:49:41.466229"], ["updated_at", "2020-08-16 23:49:41.466229"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:49:41.467130"], ["updated_at", "2020-08-16 23:49:41.467130"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:49:41.467937"], ["updated_at", "2020-08-16 23:49:41.467937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:49:41.468726"], ["updated_at", "2020-08-16 23:49:41.468726"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:49:41.469476"], ["updated_at", "2020-08-16 23:49:41.469476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:49:41.470236"], ["updated_at", "2020-08-16 23:49:41.470236"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:49:41.470908"], ["updated_at", "2020-08-16 23:49:41.470908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:49:41.471583"], ["updated_at", "2020-08-16 23:49:41.471583"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:49:41.472258"], ["updated_at", "2020-08-16 23:49:41.472258"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.474228"], ["updated_at", "2020-08-16 23:49:41.474228"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.475317"], ["updated_at", "2020-08-16 23:49:41.475317"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.476249"], ["updated_at", "2020-08-16 23:49:41.476249"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.477158"], ["updated_at", "2020-08-16 23:49:41.477158"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.479024"], ["updated_at", "2020-08-16 23:49:41.479024"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.480007"], ["updated_at", "2020-08-16 23:49:41.480007"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.481016"], ["updated_at", "2020-08-16 23:49:41.481016"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.481948"], ["updated_at", "2020-08-16 23:49:41.481948"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.483942"], ["updated_at", "2020-08-16 23:49:41.483942"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.484894"], ["updated_at", "2020-08-16 23:49:41.484894"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.485774"], ["updated_at", "2020-08-16 23:49:41.485774"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.486640"], ["updated_at", "2020-08-16 23:49:41.486640"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.488600"], ["updated_at", "2020-08-16 23:49:41.488600"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.489548"], ["updated_at", "2020-08-16 23:49:41.489548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$94dZXLRbcGlnt4A.PZ6y0uuwnAEeGPX7P/5ZpSAv.EWe/PPt/vDC6"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$eYe3o1n0U/j.7SV7XoX5DeHXnrVHASiiyhPTZVqRCOvxuHwqxMEBO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.496019"], ["updated_at", "2020-08-16 23:49:41.496019"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:49:41.496918"], ["updated_at", "2020-08-16 23:49:41.496918"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/users" for 127.0.0.1 at 2020-08-16 16:49:41 -0700
Processing by OrgController#all_users as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:49:41.535906"], ["updated_at", "2020-08-16 23:49:41.535906"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:49:41.536970"], ["updated_at", "2020-08-16 23:49:41.536970"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:49:41.537706"], ["updated_at", "2020-08-16 23:49:41.537706"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:49:41.538378"], ["updated_at", "2020-08-16 23:49:41.538378"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:49:41.539135"], ["updated_at", "2020-08-16 23:49:41.539135"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:49:41.539953"], ["updated_at", "2020-08-16 23:49:41.539953"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:49:41.540734"], ["updated_at", "2020-08-16 23:49:41.540734"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:49:41.541471"], ["updated_at", "2020-08-16 23:49:41.541471"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:49:41.542196"], ["updated_at", "2020-08-16 23:49:41.542196"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.544315"], ["updated_at", "2020-08-16 23:49:41.544315"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.545374"], ["updated_at", "2020-08-16 23:49:41.545374"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.546261"], ["updated_at", "2020-08-16 23:49:41.546261"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.547143"], ["updated_at", "2020-08-16 23:49:41.547143"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.549037"], ["updated_at", "2020-08-16 23:49:41.549037"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.549964"], ["updated_at", "2020-08-16 23:49:41.549964"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.550900"], ["updated_at", "2020-08-16 23:49:41.550900"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.551818"], ["updated_at", "2020-08-16 23:49:41.551818"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.553736"], ["updated_at", "2020-08-16 23:49:41.553736"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.554685"], ["updated_at", "2020-08-16 23:49:41.554685"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.555617"], ["updated_at", "2020-08-16 23:49:41.555617"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.556493"], ["updated_at", "2020-08-16 23:49:41.556493"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.558274"], ["updated_at", "2020-08-16 23:49:41.558274"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.559153"], ["updated_at", "2020-08-16 23:49:41.559153"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$89wThziqZwv1e8I6ezMXRefX1Fp9f6SMvVJgBKCaEJG3H9aEjiAwG"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$6OP7sodjpN6xcat7vZvPWeo.Xy1CwyV0rtuviPk/txIPJwb./zqoq"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.565468"], ["updated_at", "2020-08-16 23:49:41.565468"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:49:41.566338"], ["updated_at", "2020-08-16 23:49:41.566338"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:49:41 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:49:41.578073"], ["updated_at", "2020-08-16 23:49:41.578073"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:49:41.579161"], ["updated_at", "2020-08-16 23:49:41.579161"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:49:41.579885"], ["updated_at", "2020-08-16 23:49:41.579885"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:49:41.580555"], ["updated_at", "2020-08-16 23:49:41.580555"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:49:41.581293"], ["updated_at", "2020-08-16 23:49:41.581293"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:49:41.582055"], ["updated_at", "2020-08-16 23:49:41.582055"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:49:41.582756"], ["updated_at", "2020-08-16 23:49:41.582756"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:49:41.583436"], ["updated_at", "2020-08-16 23:49:41.583436"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:49:41.584233"], ["updated_at", "2020-08-16 23:49:41.584233"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.586833"], ["updated_at", "2020-08-16 23:49:41.586833"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.588246"], ["updated_at", "2020-08-16 23:49:41.588246"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.589488"], ["updated_at", "2020-08-16 23:49:41.589488"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.590662"], ["updated_at", "2020-08-16 23:49:41.590662"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.592673"], ["updated_at", "2020-08-16 23:49:41.592673"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.593624"], ["updated_at", "2020-08-16 23:49:41.593624"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.594573"], ["updated_at", "2020-08-16 23:49:41.594573"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.595692"], ["updated_at", "2020-08-16 23:49:41.595692"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.598068"], ["updated_at", "2020-08-16 23:49:41.598068"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.599257"], ["updated_at", "2020-08-16 23:49:41.599257"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.602529"], ["updated_at", "2020-08-16 23:49:41.602529"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.603589"], ["updated_at", "2020-08-16 23:49:41.603589"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.605481"], ["updated_at", "2020-08-16 23:49:41.605481"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.606402"], ["updated_at", "2020-08-16 23:49:41.606402"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$OTR8KgzbLcKWrT.aHku/X.xIOGLg/5ZfF1sERVuWRZu05o8f/av7i"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$CjXLIHYyXvtPuSD4aoN37.kLxtivAB3yK23pv7ViTqnHz/vlZ11p."]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.612999"], ["updated_at", "2020-08-16 23:49:41.612999"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:49:41.613949"], ["updated_at", "2020-08-16 23:49:41.613949"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:49:41 -0700
Processing by OrgController#remove_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:49:41.626427"], ["updated_at", "2020-08-16 23:49:41.626427"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:49:41.627792"], ["updated_at", "2020-08-16 23:49:41.627792"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:49:41.628918"], ["updated_at", "2020-08-16 23:49:41.628918"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:49:41.629948"], ["updated_at", "2020-08-16 23:49:41.629948"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:49:41.630913"], ["updated_at", "2020-08-16 23:49:41.630913"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:49:41.631886"], ["updated_at", "2020-08-16 23:49:41.631886"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:49:41.632965"], ["updated_at", "2020-08-16 23:49:41.632965"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:49:41.634116"], ["updated_at", "2020-08-16 23:49:41.634116"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:49:41.634928"], ["updated_at", "2020-08-16 23:49:41.634928"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.637106"], ["updated_at", "2020-08-16 23:49:41.637106"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.638190"], ["updated_at", "2020-08-16 23:49:41.638190"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.639113"], ["updated_at", "2020-08-16 23:49:41.639113"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.640111"], ["updated_at", "2020-08-16 23:49:41.640111"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.642281"], ["updated_at", "2020-08-16 23:49:41.642281"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.643316"], ["updated_at", "2020-08-16 23:49:41.643316"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.644311"], ["updated_at", "2020-08-16 23:49:41.644311"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.645322"], ["updated_at", "2020-08-16 23:49:41.645322"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.647313"], ["updated_at", "2020-08-16 23:49:41.647313"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.648222"], ["updated_at", "2020-08-16 23:49:41.648222"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.649100"], ["updated_at", "2020-08-16 23:49:41.649100"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.649952"], ["updated_at", "2020-08-16 23:49:41.649952"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.652132"], ["updated_at", "2020-08-16 23:49:41.652132"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.653128"], ["updated_at", "2020-08-16 23:49:41.653128"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$dA9Jg07kmu4DkTE7MflbIO7JTm3L2q7XaVlFhni5Syp1/tGM05oKy"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$fwvnX53W5eBlcbbymFIfg.hyjMvn/4efnDdePY2KLTkEru1wt21dm"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.659400"], ["updated_at", "2020-08-16 23:49:41.659400"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:49:41.660279"], ["updated_at", "2020-08-16 23:49:41.660279"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:49:41 -0700
Processing by OrgController#add_address as JSON
  Parameters: {"addr_1"=>"123 Lane 4th st", "city"=>"Bellevue", "state"=>"WA", "zip"=>"99999", "id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:49:41.674192"], ["updated_at", "2020-08-16 23:49:41.674192"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ? ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["org_id", 1], ["LIMIT", 1]]
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:49:41.679922"], ["updated_at", "2020-08-16 23:49:41.679922"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:49:41.681040"], ["updated_at", "2020-08-16 23:49:41.681040"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:49:41.681781"], ["updated_at", "2020-08-16 23:49:41.681781"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:49:41.682493"], ["updated_at", "2020-08-16 23:49:41.682493"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:49:41.683254"], ["updated_at", "2020-08-16 23:49:41.683254"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:49:41.684059"], ["updated_at", "2020-08-16 23:49:41.684059"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:49:41.684946"], ["updated_at", "2020-08-16 23:49:41.684946"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:49:41.688078"], ["updated_at", "2020-08-16 23:49:41.688078"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:49:41.688920"], ["updated_at", "2020-08-16 23:49:41.688920"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.691066"], ["updated_at", "2020-08-16 23:49:41.691066"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.692150"], ["updated_at", "2020-08-16 23:49:41.692150"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.693101"], ["updated_at", "2020-08-16 23:49:41.693101"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.694024"], ["updated_at", "2020-08-16 23:49:41.694024"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.695995"], ["updated_at", "2020-08-16 23:49:41.695995"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.696939"], ["updated_at", "2020-08-16 23:49:41.696939"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.697913"], ["updated_at", "2020-08-16 23:49:41.697913"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.698875"], ["updated_at", "2020-08-16 23:49:41.698875"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.700767"], ["updated_at", "2020-08-16 23:49:41.700767"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.701672"], ["updated_at", "2020-08-16 23:49:41.701672"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.702571"], ["updated_at", "2020-08-16 23:49:41.702571"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.703506"], ["updated_at", "2020-08-16 23:49:41.703506"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.705328"], ["updated_at", "2020-08-16 23:49:41.705328"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.706248"], ["updated_at", "2020-08-16 23:49:41.706248"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$7cyI7FrXWsMJV4GBDTqEXOyPnwZT63T6NVija3j4aSfXGo7HxMbf6"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$JWWWE/nETES8Dzye0/gRKehCzhAR85JQFON7/XJZJZDRz0jWUe4vO"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.712986"], ["updated_at", "2020-08-16 23:49:41.712986"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:49:41.713903"], ["updated_at", "2020-08-16 23:49:41.713903"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:49:41.717849"], ["updated_at", "2020-08-16 23:49:41.717849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:49:41 -0700
Processing by OrgController#all_addresses as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:49:41.725833"], ["updated_at", "2020-08-16 23:49:41.725833"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:49:41.727120"], ["updated_at", "2020-08-16 23:49:41.727120"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:49:41.727975"], ["updated_at", "2020-08-16 23:49:41.727975"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:49:41.728786"], ["updated_at", "2020-08-16 23:49:41.728786"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:49:41.729677"], ["updated_at", "2020-08-16 23:49:41.729677"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:49:41.730611"], ["updated_at", "2020-08-16 23:49:41.730611"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:49:41.731438"], ["updated_at", "2020-08-16 23:49:41.731438"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:49:41.732192"], ["updated_at", "2020-08-16 23:49:41.732192"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:49:41.732963"], ["updated_at", "2020-08-16 23:49:41.732963"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.735533"], ["updated_at", "2020-08-16 23:49:41.735533"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.737246"], ["updated_at", "2020-08-16 23:49:41.737246"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.738382"], ["updated_at", "2020-08-16 23:49:41.738382"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.739433"], ["updated_at", "2020-08-16 23:49:41.739433"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.741773"], ["updated_at", "2020-08-16 23:49:41.741773"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.742983"], ["updated_at", "2020-08-16 23:49:41.742983"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.744131"], ["updated_at", "2020-08-16 23:49:41.744131"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.745240"], ["updated_at", "2020-08-16 23:49:41.745240"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.747507"], ["updated_at", "2020-08-16 23:49:41.747507"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.748570"], ["updated_at", "2020-08-16 23:49:41.748570"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.749582"], ["updated_at", "2020-08-16 23:49:41.749582"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.750601"], ["updated_at", "2020-08-16 23:49:41.750601"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.752745"], ["updated_at", "2020-08-16 23:49:41.752745"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.753812"], ["updated_at", "2020-08-16 23:49:41.753812"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$tsIXWU7qof2QRaBIctiexOodlu7O05u3gsTkLDtx61ZqWWinoZ8MS"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$Fc6a.UOVVqsyJKRSt/QDPOtR6gYyuco7k590TNTUH6Lrh1aFCwa2S"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.761190"], ["updated_at", "2020-08-16 23:49:41.761190"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:49:41.762284"], ["updated_at", "2020-08-16 23:49:41.762284"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:49:41.819873"], ["updated_at", "2020-08-16 23:49:41.819873"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:49:41.821298"], ["updated_at", "2020-08-16 23:49:41.821298"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:49:41.822356"], ["updated_at", "2020-08-16 23:49:41.822356"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:49:41.829729"], ["updated_at", "2020-08-16 23:49:41.829729"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:49:41.830607"], ["updated_at", "2020-08-16 23:49:41.830607"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:49:41.831470"], ["updated_at", "2020-08-16 23:49:41.831470"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:49:41.832255"], ["updated_at", "2020-08-16 23:49:41.832255"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:49:41.833030"], ["updated_at", "2020-08-16 23:49:41.833030"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:49:41.833799"], ["updated_at", "2020-08-16 23:49:41.833799"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.836793"], ["updated_at", "2020-08-16 23:49:41.836793"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.838147"], ["updated_at", "2020-08-16 23:49:41.838147"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.839160"], ["updated_at", "2020-08-16 23:49:41.839160"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:49:41.840157"], ["updated_at", "2020-08-16 23:49:41.840157"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.842240"], ["updated_at", "2020-08-16 23:49:41.842240"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.843264"], ["updated_at", "2020-08-16 23:49:41.843264"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.844356"], ["updated_at", "2020-08-16 23:49:41.844356"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:49:41.845355"], ["updated_at", "2020-08-16 23:49:41.845355"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.847638"], ["updated_at", "2020-08-16 23:49:41.847638"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.848693"], ["updated_at", "2020-08-16 23:49:41.848693"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.849708"], ["updated_at", "2020-08-16 23:49:41.849708"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.850719"], ["updated_at", "2020-08-16 23:49:41.850719"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.852823"], ["updated_at", "2020-08-16 23:49:41.852823"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:49:41.853779"], ["updated_at", "2020-08-16 23:49:41.853779"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$BU..kYYXaL9aehnnPdQD.euPJYLJpN8b858mn1UgK1Gn9WRwad9BG"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$alM3N3GVE5EhKWaSJFTgwOcaCotO/tsj5kuvuGNTLIvjM2qx0XDu2"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:49:41.860262"], ["updated_at", "2020-08-16 23:49:41.860262"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:49:41.861149"], ["updated_at", "2020-08-16 23:49:41.861149"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:51:56.813600"], ["updated_at", "2020-08-16 23:51:56.813600"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:51:56.814667"], ["updated_at", "2020-08-16 23:51:56.814667"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:51:56.815246"], ["updated_at", "2020-08-16 23:51:56.815246"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:51:56.815838"], ["updated_at", "2020-08-16 23:51:56.815838"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:51:56.818486"], ["updated_at", "2020-08-16 23:51:56.818486"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:51:56.819323"], ["updated_at", "2020-08-16 23:51:56.819323"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:51:56.819905"], ["updated_at", "2020-08-16 23:51:56.819905"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:51:56.820502"], ["updated_at", "2020-08-16 23:51:56.820502"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:51:56.821065"], ["updated_at", "2020-08-16 23:51:56.821065"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:51:56.841849"], ["updated_at", "2020-08-16 23:51:56.841849"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:51:56.843294"], ["updated_at", "2020-08-16 23:51:56.843294"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:51:56.844476"], ["updated_at", "2020-08-16 23:51:56.844476"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:51:56.845462"], ["updated_at", "2020-08-16 23:51:56.845462"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:51:56.847495"], ["updated_at", "2020-08-16 23:51:56.847495"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:51:56.848443"], ["updated_at", "2020-08-16 23:51:56.848443"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:51:56.849359"], ["updated_at", "2020-08-16 23:51:56.849359"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:51:56.850279"], ["updated_at", "2020-08-16 23:51:56.850279"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:51:56.852163"], ["updated_at", "2020-08-16 23:51:56.852163"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:51:56.853081"], ["updated_at", "2020-08-16 23:51:56.853081"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:51:56.853994"], ["updated_at", "2020-08-16 23:51:56.853994"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:51:56.854969"], ["updated_at", "2020-08-16 23:51:56.854969"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:51:56.856924"], ["updated_at", "2020-08-16 23:51:56.856924"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:51:56.857867"], ["updated_at", "2020-08-16 23:51:56.857867"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$3zE2AdJJu2wS6G4hLAk9uuAvX0KwlVcR7QRicmpo4Ght8EfdQ0Y.S"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$ve6M1tgDkQ9tPYwhYZ12lOTnSh/EMkO9VoGa61OJgmNLZ1QQk4ize"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:51:56.884740"], ["updated_at", "2020-08-16 23:51:56.884740"], ["org_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:51:56.891462"], ["updated_at", "2020-08-16 23:51:56.891462"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:51:56 -0700
Processing by OrgController#remove_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "orgs_users" WHERE "orgs_users"."org_id" = ? AND "orgs_users"."user_id" = 1[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 7ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:54:05.497877"], ["updated_at", "2020-08-16 23:54:05.497877"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:54:05.498954"], ["updated_at", "2020-08-16 23:54:05.498954"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:54:05.499544"], ["updated_at", "2020-08-16 23:54:05.499544"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:54:05.500139"], ["updated_at", "2020-08-16 23:54:05.500139"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:54:05.502790"], ["updated_at", "2020-08-16 23:54:05.502790"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:54:05.503534"], ["updated_at", "2020-08-16 23:54:05.503534"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:54:05.504136"], ["updated_at", "2020-08-16 23:54:05.504136"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:54:05.504749"], ["updated_at", "2020-08-16 23:54:05.504749"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:54:05.505328"], ["updated_at", "2020-08-16 23:54:05.505328"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:54:05.525334"], ["updated_at", "2020-08-16 23:54:05.525334"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:54:05.526514"], ["updated_at", "2020-08-16 23:54:05.526514"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:54:05.527402"], ["updated_at", "2020-08-16 23:54:05.527402"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:54:05.528266"], ["updated_at", "2020-08-16 23:54:05.528266"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:54:05.530127"], ["updated_at", "2020-08-16 23:54:05.530127"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:54:05.531011"], ["updated_at", "2020-08-16 23:54:05.531011"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:54:05.531861"], ["updated_at", "2020-08-16 23:54:05.531861"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:54:05.532720"], ["updated_at", "2020-08-16 23:54:05.532720"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:54:05.534403"], ["updated_at", "2020-08-16 23:54:05.534403"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:54:05.535241"], ["updated_at", "2020-08-16 23:54:05.535241"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:54:05.536075"], ["updated_at", "2020-08-16 23:54:05.536075"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:54:05.536953"], ["updated_at", "2020-08-16 23:54:05.536953"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:54:05.538896"], ["updated_at", "2020-08-16 23:54:05.538896"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:54:05.539804"], ["updated_at", "2020-08-16 23:54:05.539804"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$jwv1hmQwPOp7vJVEJ1/6n.Unufe2IYtp5OVF6oIbmJnPZSz5tSGIq"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$W/ZxVU8u8twfiyQUe2hn0eYdorBm3gnIXwl/vGSfho/.zWanbKLea"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:54:05.565955"], ["updated_at", "2020-08-16 23:54:05.565955"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:54:05.573308"], ["updated_at", "2020-08-16 23:54:05.573308"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Org 1"], ["created_at", "2020-08-16 23:54:05.581201"], ["updated_at", "2020-08-16 23:54:05.581201"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/orgs/2/users/2" for 127.0.0.1 at 2020-08-16 16:54:05 -0700
Processing by OrgController#remove_user as JSON
  Parameters: {"id"=>"2", "user_id"=>"2", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "orgs_users" WHERE "orgs_users"."org_id" = ? AND "orgs_users"."user_id" = 2[0m  [["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 6ms (ActiveRecord: 0.5ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 2]]
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:54:20.047010"], ["updated_at", "2020-08-16 23:54:20.047010"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:54:20.048136"], ["updated_at", "2020-08-16 23:54:20.048136"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:54:20.048803"], ["updated_at", "2020-08-16 23:54:20.048803"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:54:20.049405"], ["updated_at", "2020-08-16 23:54:20.049405"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:54:20.052265"], ["updated_at", "2020-08-16 23:54:20.052265"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:54:20.053030"], ["updated_at", "2020-08-16 23:54:20.053030"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:54:20.053679"], ["updated_at", "2020-08-16 23:54:20.053679"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:54:20.054295"], ["updated_at", "2020-08-16 23:54:20.054295"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:54:20.054915"], ["updated_at", "2020-08-16 23:54:20.054915"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.073996"], ["updated_at", "2020-08-16 23:54:20.073996"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.075024"], ["updated_at", "2020-08-16 23:54:20.075024"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.075822"], ["updated_at", "2020-08-16 23:54:20.075822"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.076595"], ["updated_at", "2020-08-16 23:54:20.076595"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.078231"], ["updated_at", "2020-08-16 23:54:20.078231"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.079020"], ["updated_at", "2020-08-16 23:54:20.079020"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.079791"], ["updated_at", "2020-08-16 23:54:20.079791"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.080582"], ["updated_at", "2020-08-16 23:54:20.080582"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.082157"], ["updated_at", "2020-08-16 23:54:20.082157"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.082946"], ["updated_at", "2020-08-16 23:54:20.082946"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.083761"], ["updated_at", "2020-08-16 23:54:20.083761"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.084825"], ["updated_at", "2020-08-16 23:54:20.084825"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.086457"], ["updated_at", "2020-08-16 23:54:20.086457"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.087243"], ["updated_at", "2020-08-16 23:54:20.087243"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$Fp1CDL3Ouj0j5Tj0bveiReiLAMTFY11/fs7Ry/IqcesUzxufwjlXq"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$OfVspa2vTPTa6CtpiPY.4On3a5ifn7OleaCDAWdKKsgzeuGdkrvoO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.112464"], ["updated_at", "2020-08-16 23:54:20.112464"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:54:20.118981"], ["updated_at", "2020-08-16 23:54:20.118981"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:54:20 -0700
Processing by OrgController#create as JSON
  Parameters: {"user_id"=>1, "org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
Unpermitted parameters: user_id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "is_verified", "is_enabled", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "New Test Org Name"], ["is_verified", nil], ["is_enabled", nil], ["created_at", "2020-08-16 23:54:20.141988"], ["updated_at", "2020-08-16 23:54:20.141988"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:54:20.150170"], ["updated_at", "2020-08-16 23:54:20.150170"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:54:20.151164"], ["updated_at", "2020-08-16 23:54:20.151164"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:54:20.151861"], ["updated_at", "2020-08-16 23:54:20.151861"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:54:20.152559"], ["updated_at", "2020-08-16 23:54:20.152559"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:54:20.153402"], ["updated_at", "2020-08-16 23:54:20.153402"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:54:20.154245"], ["updated_at", "2020-08-16 23:54:20.154245"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:54:20.155011"], ["updated_at", "2020-08-16 23:54:20.155011"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:54:20.155747"], ["updated_at", "2020-08-16 23:54:20.155747"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:54:20.156511"], ["updated_at", "2020-08-16 23:54:20.156511"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.158868"], ["updated_at", "2020-08-16 23:54:20.158868"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.160227"], ["updated_at", "2020-08-16 23:54:20.160227"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.161170"], ["updated_at", "2020-08-16 23:54:20.161170"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.162107"], ["updated_at", "2020-08-16 23:54:20.162107"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.164088"], ["updated_at", "2020-08-16 23:54:20.164088"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.165054"], ["updated_at", "2020-08-16 23:54:20.165054"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.166009"], ["updated_at", "2020-08-16 23:54:20.166009"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.166922"], ["updated_at", "2020-08-16 23:54:20.166922"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.168840"], ["updated_at", "2020-08-16 23:54:20.168840"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.169799"], ["updated_at", "2020-08-16 23:54:20.169799"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.170696"], ["updated_at", "2020-08-16 23:54:20.170696"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.171568"], ["updated_at", "2020-08-16 23:54:20.171568"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.173329"], ["updated_at", "2020-08-16 23:54:20.173329"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.174214"], ["updated_at", "2020-08-16 23:54:20.174214"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$DUyCQ0zRBgZwHVHdC/nHMOjdAd3R12xUucJQXwjMU4ILvG5fzJNzC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$VEw7X8p23RCK3.G5t/vz7OAoN0CFmHfh60hsme9UKKkhVf8a59wsi"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.180315"], ["updated_at", "2020-08-16 23:54:20.180315"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:54:20.181169"], ["updated_at", "2020-08-16 23:54:20.181169"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=New%20Test%20Org%20Name" for 127.0.0.1 at 2020-08-16 16:54:20 -0700
Processing by OrgController#org_search as JSON
  Parameters: {"org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."name" = ?[0m  [["name", "New Test Org Name"]]
Completed 200 OK in 4ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:54:20.192274"], ["updated_at", "2020-08-16 23:54:20.192274"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:54:20.196139"], ["updated_at", "2020-08-16 23:54:20.196139"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:54:20.197101"], ["updated_at", "2020-08-16 23:54:20.197101"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:54:20.197787"], ["updated_at", "2020-08-16 23:54:20.197787"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:54:20.198516"], ["updated_at", "2020-08-16 23:54:20.198516"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:54:20.199301"], ["updated_at", "2020-08-16 23:54:20.199301"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:54:20.199977"], ["updated_at", "2020-08-16 23:54:20.199977"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:54:20.200655"], ["updated_at", "2020-08-16 23:54:20.200655"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:54:20.201469"], ["updated_at", "2020-08-16 23:54:20.201469"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.203695"], ["updated_at", "2020-08-16 23:54:20.203695"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.204797"], ["updated_at", "2020-08-16 23:54:20.204797"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.205711"], ["updated_at", "2020-08-16 23:54:20.205711"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.206675"], ["updated_at", "2020-08-16 23:54:20.206675"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.208698"], ["updated_at", "2020-08-16 23:54:20.208698"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.209912"], ["updated_at", "2020-08-16 23:54:20.209912"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.210966"], ["updated_at", "2020-08-16 23:54:20.210966"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.212051"], ["updated_at", "2020-08-16 23:54:20.212051"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.214097"], ["updated_at", "2020-08-16 23:54:20.214097"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.215055"], ["updated_at", "2020-08-16 23:54:20.215055"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.216027"], ["updated_at", "2020-08-16 23:54:20.216027"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.216968"], ["updated_at", "2020-08-16 23:54:20.216968"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.218923"], ["updated_at", "2020-08-16 23:54:20.218923"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.219876"], ["updated_at", "2020-08-16 23:54:20.219876"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$srSzw8NVvzioNgYBfN7SoeuCTK7esML8e277VohzVNTmhHCPiXzZO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$vLQ1mZOsdydWSsSbnj0GW.5vEIMB9fLIfszVl7FCf3DzV60dYkgxu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.226698"], ["updated_at", "2020-08-16 23:54:20.226698"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:54:20.227938"], ["updated_at", "2020-08-16 23:54:20.227938"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:54:20 -0700
Processing by OrgController#update as JSON
  Parameters: {"org_name"=>"New Test Org Name", "is_verified"=>true, "is_enabled"=>true, "id"=>"1", "org"=>{"is_verified"=>true, "is_enabled"=>true}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Unpermitted parameters: id, org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "orgs" SET "is_verified" = ?, "updated_at" = ? WHERE "orgs"."id" = ?[0m  [["is_verified", "t"], ["updated_at", "2020-08-16 23:54:20.236753"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:54:20.241046"], ["updated_at", "2020-08-16 23:54:20.241046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:54:20.242130"], ["updated_at", "2020-08-16 23:54:20.242130"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:54:20.242922"], ["updated_at", "2020-08-16 23:54:20.242922"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:54:20.243682"], ["updated_at", "2020-08-16 23:54:20.243682"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:54:20.244508"], ["updated_at", "2020-08-16 23:54:20.244508"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:54:20.245456"], ["updated_at", "2020-08-16 23:54:20.245456"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:54:20.246393"], ["updated_at", "2020-08-16 23:54:20.246393"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:54:20.247236"], ["updated_at", "2020-08-16 23:54:20.247236"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:54:20.248046"], ["updated_at", "2020-08-16 23:54:20.248046"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.250834"], ["updated_at", "2020-08-16 23:54:20.250834"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.252258"], ["updated_at", "2020-08-16 23:54:20.252258"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.253503"], ["updated_at", "2020-08-16 23:54:20.253503"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.254649"], ["updated_at", "2020-08-16 23:54:20.254649"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.256920"], ["updated_at", "2020-08-16 23:54:20.256920"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.257984"], ["updated_at", "2020-08-16 23:54:20.257984"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.259037"], ["updated_at", "2020-08-16 23:54:20.259037"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.260181"], ["updated_at", "2020-08-16 23:54:20.260181"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.262609"], ["updated_at", "2020-08-16 23:54:20.262609"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.263858"], ["updated_at", "2020-08-16 23:54:20.263858"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.264929"], ["updated_at", "2020-08-16 23:54:20.264929"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.265988"], ["updated_at", "2020-08-16 23:54:20.265988"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.268171"], ["updated_at", "2020-08-16 23:54:20.268171"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.269265"], ["updated_at", "2020-08-16 23:54:20.269265"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$.Rqucqs0K6houoh/0O1lPOJ7bT49hqz2MlPt7yngif63mV8Inutdi"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$hDDeulOVVOy6slFnutWv0uIhoXyJUl0qJY5oq4G4UCtVukFZiSsgi"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.276586"], ["updated_at", "2020-08-16 23:54:20.276586"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:54:20.277638"], ["updated_at", "2020-08-16 23:54:20.277638"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/users" for 127.0.0.1 at 2020-08-16 16:54:20 -0700
Processing by OrgController#all_users as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.3ms)
  [1m[35m (1.2ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:54:20.319811"], ["updated_at", "2020-08-16 23:54:20.319811"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:54:20.320807"], ["updated_at", "2020-08-16 23:54:20.320807"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:54:20.321498"], ["updated_at", "2020-08-16 23:54:20.321498"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:54:20.322182"], ["updated_at", "2020-08-16 23:54:20.322182"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:54:20.322998"], ["updated_at", "2020-08-16 23:54:20.322998"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:54:20.323888"], ["updated_at", "2020-08-16 23:54:20.323888"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:54:20.324717"], ["updated_at", "2020-08-16 23:54:20.324717"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:54:20.325474"], ["updated_at", "2020-08-16 23:54:20.325474"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:54:20.326240"], ["updated_at", "2020-08-16 23:54:20.326240"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.328769"], ["updated_at", "2020-08-16 23:54:20.328769"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.330086"], ["updated_at", "2020-08-16 23:54:20.330086"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.331133"], ["updated_at", "2020-08-16 23:54:20.331133"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.332142"], ["updated_at", "2020-08-16 23:54:20.332142"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.334201"], ["updated_at", "2020-08-16 23:54:20.334201"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.335205"], ["updated_at", "2020-08-16 23:54:20.335205"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.336155"], ["updated_at", "2020-08-16 23:54:20.336155"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.337081"], ["updated_at", "2020-08-16 23:54:20.337081"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.338982"], ["updated_at", "2020-08-16 23:54:20.338982"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.340100"], ["updated_at", "2020-08-16 23:54:20.340100"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.341059"], ["updated_at", "2020-08-16 23:54:20.341059"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.341967"], ["updated_at", "2020-08-16 23:54:20.341967"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.343886"], ["updated_at", "2020-08-16 23:54:20.343886"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.344798"], ["updated_at", "2020-08-16 23:54:20.344798"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$0sEBjoUwwfsQ8pyAJJl6y.EZ2219n3pCGsVAqBOrBn8rvmCWTLZB."]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$HwpM03xBdXGM8cE2o/M.eej.bXM1iIzTJi98WETGIzxxVzVcfjiDS"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.351042"], ["updated_at", "2020-08-16 23:54:20.351042"], ["org_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:54:20.351954"], ["updated_at", "2020-08-16 23:54:20.351954"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:54:20 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:54:20.363631"], ["updated_at", "2020-08-16 23:54:20.363631"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:54:20.364808"], ["updated_at", "2020-08-16 23:54:20.364808"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:54:20.365515"], ["updated_at", "2020-08-16 23:54:20.365515"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:54:20.366197"], ["updated_at", "2020-08-16 23:54:20.366197"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:54:20.366943"], ["updated_at", "2020-08-16 23:54:20.366943"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:54:20.367715"], ["updated_at", "2020-08-16 23:54:20.367715"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:54:20.368404"], ["updated_at", "2020-08-16 23:54:20.368404"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:54:20.369083"], ["updated_at", "2020-08-16 23:54:20.369083"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:54:20.369764"], ["updated_at", "2020-08-16 23:54:20.369764"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.371819"], ["updated_at", "2020-08-16 23:54:20.371819"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.372857"], ["updated_at", "2020-08-16 23:54:20.372857"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.373773"], ["updated_at", "2020-08-16 23:54:20.373773"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.374701"], ["updated_at", "2020-08-16 23:54:20.374701"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.376499"], ["updated_at", "2020-08-16 23:54:20.376499"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.377473"], ["updated_at", "2020-08-16 23:54:20.377473"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.378447"], ["updated_at", "2020-08-16 23:54:20.378447"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.379538"], ["updated_at", "2020-08-16 23:54:20.379538"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.381884"], ["updated_at", "2020-08-16 23:54:20.381884"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.383003"], ["updated_at", "2020-08-16 23:54:20.383003"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.386218"], ["updated_at", "2020-08-16 23:54:20.386218"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.387268"], ["updated_at", "2020-08-16 23:54:20.387268"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.389160"], ["updated_at", "2020-08-16 23:54:20.389160"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.390051"], ["updated_at", "2020-08-16 23:54:20.390051"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$JXrrT09bwZa.KjbKtQGqP.sgT8IyluqKIy9rqqhzCqn2neUhSxe3G"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$Z7PcCCP7yXFlPLm4HOK94OZSb2B6kEfsl8aGe8QO2RiMv/h7XForO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.396369"], ["updated_at", "2020-08-16 23:54:20.396369"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:54:20.397282"], ["updated_at", "2020-08-16 23:54:20.397282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Org 1"], ["created_at", "2020-08-16 23:54:20.400882"], ["updated_at", "2020-08-16 23:54:20.400882"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/orgs/2/users/2" for 127.0.0.1 at 2020-08-16 16:54:20 -0700
Processing by OrgController#remove_user as JSON
  Parameters: {"id"=>"2", "user_id"=>"2", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "orgs_users" WHERE "orgs_users"."org_id" = ? AND "orgs_users"."user_id" = 2[0m  [["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 2]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:54:20.410377"], ["updated_at", "2020-08-16 23:54:20.410377"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:54:20.411287"], ["updated_at", "2020-08-16 23:54:20.411287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:54:20.412011"], ["updated_at", "2020-08-16 23:54:20.412011"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:54:20.412713"], ["updated_at", "2020-08-16 23:54:20.412713"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:54:20.413429"], ["updated_at", "2020-08-16 23:54:20.413429"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:54:20.414205"], ["updated_at", "2020-08-16 23:54:20.414205"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:54:20.414876"], ["updated_at", "2020-08-16 23:54:20.414876"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:54:20.415539"], ["updated_at", "2020-08-16 23:54:20.415539"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:54:20.416207"], ["updated_at", "2020-08-16 23:54:20.416207"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.418191"], ["updated_at", "2020-08-16 23:54:20.418191"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.419186"], ["updated_at", "2020-08-16 23:54:20.419186"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.420143"], ["updated_at", "2020-08-16 23:54:20.420143"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.421041"], ["updated_at", "2020-08-16 23:54:20.421041"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.422867"], ["updated_at", "2020-08-16 23:54:20.422867"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.423757"], ["updated_at", "2020-08-16 23:54:20.423757"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.424615"], ["updated_at", "2020-08-16 23:54:20.424615"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.425477"], ["updated_at", "2020-08-16 23:54:20.425477"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.427210"], ["updated_at", "2020-08-16 23:54:20.427210"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.428083"], ["updated_at", "2020-08-16 23:54:20.428083"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.429005"], ["updated_at", "2020-08-16 23:54:20.429005"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.430140"], ["updated_at", "2020-08-16 23:54:20.430140"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.432192"], ["updated_at", "2020-08-16 23:54:20.432192"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.433147"], ["updated_at", "2020-08-16 23:54:20.433147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$PDHI2sLY8gg1WhEMZ76toeGUN3aHFfIWq7Dc6z9VZVId8Kk4/S6ZO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$EU6hmIX5Uiqg58AJRvyNWewp5LbXjn0xZIz3VpwoHzLseiHYk.y8."]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.439363"], ["updated_at", "2020-08-16 23:54:20.439363"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:54:20.440254"], ["updated_at", "2020-08-16 23:54:20.440254"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:54:20 -0700
Processing by OrgController#add_address as JSON
  Parameters: {"addr_1"=>"123 Lane 4th st", "city"=>"Bellevue", "state"=>"WA", "zip"=>"99999", "id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:54:20.454298"], ["updated_at", "2020-08-16 23:54:20.454298"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ? ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["org_id", 1], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:54:20.459001"], ["updated_at", "2020-08-16 23:54:20.459001"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:54:20.460037"], ["updated_at", "2020-08-16 23:54:20.460037"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:54:20.461411"], ["updated_at", "2020-08-16 23:54:20.461411"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:54:20.462348"], ["updated_at", "2020-08-16 23:54:20.462348"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:54:20.463163"], ["updated_at", "2020-08-16 23:54:20.463163"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:54:20.465935"], ["updated_at", "2020-08-16 23:54:20.465935"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:54:20.466760"], ["updated_at", "2020-08-16 23:54:20.466760"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:54:20.467557"], ["updated_at", "2020-08-16 23:54:20.467557"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:54:20.468694"], ["updated_at", "2020-08-16 23:54:20.468694"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.471029"], ["updated_at", "2020-08-16 23:54:20.471029"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.472156"], ["updated_at", "2020-08-16 23:54:20.472156"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.473100"], ["updated_at", "2020-08-16 23:54:20.473100"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.474021"], ["updated_at", "2020-08-16 23:54:20.474021"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.475867"], ["updated_at", "2020-08-16 23:54:20.475867"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.476764"], ["updated_at", "2020-08-16 23:54:20.476764"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.477638"], ["updated_at", "2020-08-16 23:54:20.477638"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.478526"], ["updated_at", "2020-08-16 23:54:20.478526"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.480348"], ["updated_at", "2020-08-16 23:54:20.480348"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.481230"], ["updated_at", "2020-08-16 23:54:20.481230"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.482081"], ["updated_at", "2020-08-16 23:54:20.482081"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.482936"], ["updated_at", "2020-08-16 23:54:20.482936"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.484899"], ["updated_at", "2020-08-16 23:54:20.484899"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.485873"], ["updated_at", "2020-08-16 23:54:20.485873"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$cH3zS50KOfi9ONKdOr.PB.fxsPFDXxO.nI4.7NMrhWBfJ021Qkb5a"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$07XNFI.neFMO9mqLmy0nTexnnZxazrSXtbk0cfmHBF/AJIvMi1dxu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.492070"], ["updated_at", "2020-08-16 23:54:20.492070"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:54:20.492922"], ["updated_at", "2020-08-16 23:54:20.492922"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:54:20.497121"], ["updated_at", "2020-08-16 23:54:20.497121"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:54:20 -0700
Processing by OrgController#all_addresses as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
Completed 200 OK in 3ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:54:20.504996"], ["updated_at", "2020-08-16 23:54:20.504996"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:54:20.505962"], ["updated_at", "2020-08-16 23:54:20.505962"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:54:20.507022"], ["updated_at", "2020-08-16 23:54:20.507022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:54:20.507878"], ["updated_at", "2020-08-16 23:54:20.507878"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:54:20.508760"], ["updated_at", "2020-08-16 23:54:20.508760"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:54:20.509547"], ["updated_at", "2020-08-16 23:54:20.509547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:54:20.510245"], ["updated_at", "2020-08-16 23:54:20.510245"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:54:20.510954"], ["updated_at", "2020-08-16 23:54:20.510954"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:54:20.511621"], ["updated_at", "2020-08-16 23:54:20.511621"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.513751"], ["updated_at", "2020-08-16 23:54:20.513751"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.514836"], ["updated_at", "2020-08-16 23:54:20.514836"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.515726"], ["updated_at", "2020-08-16 23:54:20.515726"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.516600"], ["updated_at", "2020-08-16 23:54:20.516600"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.518796"], ["updated_at", "2020-08-16 23:54:20.518796"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.519756"], ["updated_at", "2020-08-16 23:54:20.519756"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.520673"], ["updated_at", "2020-08-16 23:54:20.520673"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.521575"], ["updated_at", "2020-08-16 23:54:20.521575"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.523402"], ["updated_at", "2020-08-16 23:54:20.523402"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.524371"], ["updated_at", "2020-08-16 23:54:20.524371"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.525670"], ["updated_at", "2020-08-16 23:54:20.525670"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.526631"], ["updated_at", "2020-08-16 23:54:20.526631"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.529876"], ["updated_at", "2020-08-16 23:54:20.529876"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.531282"], ["updated_at", "2020-08-16 23:54:20.531282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$WtPztijQcD2QvYH8wsR2QORNoytsVoDKDd/Q3fjhp8pOji8vC2t6y"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$E8zo4SYse9joCcNC.3WP6e8f1CoeG7pp3RuG5eEt8LwfkMPa/L12y"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.538384"], ["updated_at", "2020-08-16 23:54:20.538384"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:54:20.539337"], ["updated_at", "2020-08-16 23:54:20.539337"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:54:20.604617"], ["updated_at", "2020-08-16 23:54:20.604617"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:54:20.605827"], ["updated_at", "2020-08-16 23:54:20.605827"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:54:20.606626"], ["updated_at", "2020-08-16 23:54:20.606626"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:54:20.607384"], ["updated_at", "2020-08-16 23:54:20.607384"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:54:20.608341"], ["updated_at", "2020-08-16 23:54:20.608341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:54:20.609275"], ["updated_at", "2020-08-16 23:54:20.609275"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:54:20.610041"], ["updated_at", "2020-08-16 23:54:20.610041"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:54:20.610791"], ["updated_at", "2020-08-16 23:54:20.610791"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:54:20.611581"], ["updated_at", "2020-08-16 23:54:20.611581"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.613839"], ["updated_at", "2020-08-16 23:54:20.613839"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.614987"], ["updated_at", "2020-08-16 23:54:20.614987"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.615971"], ["updated_at", "2020-08-16 23:54:20.615971"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:54:20.616978"], ["updated_at", "2020-08-16 23:54:20.616978"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.619144"], ["updated_at", "2020-08-16 23:54:20.619144"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.620267"], ["updated_at", "2020-08-16 23:54:20.620267"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.621293"], ["updated_at", "2020-08-16 23:54:20.621293"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:54:20.622296"], ["updated_at", "2020-08-16 23:54:20.622296"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.624333"], ["updated_at", "2020-08-16 23:54:20.624333"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.625312"], ["updated_at", "2020-08-16 23:54:20.625312"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.626243"], ["updated_at", "2020-08-16 23:54:20.626243"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.627231"], ["updated_at", "2020-08-16 23:54:20.627231"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.629092"], ["updated_at", "2020-08-16 23:54:20.629092"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:54:20.630292"], ["updated_at", "2020-08-16 23:54:20.630292"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$vjART5lJ2rcnZa.o5ut2Eub4tXZ.AITtMUiUevqr7KmCBq6Q5uBRO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$Yi5.pXuV2Ns./jq6.f/Mbu2AIaGEyQmW7kezuAnD8hopgw65Gdkpy"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:54:20.637424"], ["updated_at", "2020-08-16 23:54:20.637424"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:54:20.638369"], ["updated_at", "2020-08-16 23:54:20.638369"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:57:07.204223"], ["updated_at", "2020-08-16 23:57:07.204223"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:57:07.205301"], ["updated_at", "2020-08-16 23:57:07.205301"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:57:07.205920"], ["updated_at", "2020-08-16 23:57:07.205920"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:57:07.206492"], ["updated_at", "2020-08-16 23:57:07.206492"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:57:07.209269"], ["updated_at", "2020-08-16 23:57:07.209269"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:57:07.210023"], ["updated_at", "2020-08-16 23:57:07.210023"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:57:07.210651"], ["updated_at", "2020-08-16 23:57:07.210651"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:57:07.211297"], ["updated_at", "2020-08-16 23:57:07.211297"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:57:07.211901"], ["updated_at", "2020-08-16 23:57:07.211901"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:57:07.231484"], ["updated_at", "2020-08-16 23:57:07.231484"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:57:07.232516"], ["updated_at", "2020-08-16 23:57:07.232516"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:57:07.233323"], ["updated_at", "2020-08-16 23:57:07.233323"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:57:07.234119"], ["updated_at", "2020-08-16 23:57:07.234119"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:57:07.235851"], ["updated_at", "2020-08-16 23:57:07.235851"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:57:07.236688"], ["updated_at", "2020-08-16 23:57:07.236688"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:57:07.237469"], ["updated_at", "2020-08-16 23:57:07.237469"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:57:07.238271"], ["updated_at", "2020-08-16 23:57:07.238271"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:57:07.239962"], ["updated_at", "2020-08-16 23:57:07.239962"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:57:07.240811"], ["updated_at", "2020-08-16 23:57:07.240811"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:57:07.241628"], ["updated_at", "2020-08-16 23:57:07.241628"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:57:07.242445"], ["updated_at", "2020-08-16 23:57:07.242445"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:57:07.244289"], ["updated_at", "2020-08-16 23:57:07.244289"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:57:07.245295"], ["updated_at", "2020-08-16 23:57:07.245295"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$.wWWN3f/DCB2EFT.e/1lBe8TYBxuNZ4h2bLa/TvqMrAwTYS343IN."]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$RldrRYd2bB1PEJbbLZVHZuEM49ocPfaFrRYHY/kcIzgpsvXiMmYWG"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:57:07.272303"], ["updated_at", "2020-08-16 23:57:07.272303"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:57:07.279170"], ["updated_at", "2020-08-16 23:57:07.279170"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:57:07.293186"], ["updated_at", "2020-08-16 23:57:07.293186"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1/addresses/1" for 127.0.0.1 at 2020-08-16 16:57:07 -0700
  [1m[35m (0.8ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:58:19.833228"], ["updated_at", "2020-08-16 23:58:19.833228"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:58:19.834548"], ["updated_at", "2020-08-16 23:58:19.834548"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:58:19.835310"], ["updated_at", "2020-08-16 23:58:19.835310"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:58:19.836021"], ["updated_at", "2020-08-16 23:58:19.836021"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:58:19.839398"], ["updated_at", "2020-08-16 23:58:19.839398"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:58:19.840308"], ["updated_at", "2020-08-16 23:58:19.840308"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:58:19.841115"], ["updated_at", "2020-08-16 23:58:19.841115"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:58:19.841837"], ["updated_at", "2020-08-16 23:58:19.841837"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:58:19.842602"], ["updated_at", "2020-08-16 23:58:19.842602"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:58:19.868551"], ["updated_at", "2020-08-16 23:58:19.868551"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:58:19.870000"], ["updated_at", "2020-08-16 23:58:19.870000"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:58:19.871080"], ["updated_at", "2020-08-16 23:58:19.871080"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:58:19.872141"], ["updated_at", "2020-08-16 23:58:19.872141"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:58:19.874473"], ["updated_at", "2020-08-16 23:58:19.874473"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:58:19.875603"], ["updated_at", "2020-08-16 23:58:19.875603"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:58:19.876855"], ["updated_at", "2020-08-16 23:58:19.876855"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:58:19.878009"], ["updated_at", "2020-08-16 23:58:19.878009"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:58:19.880288"], ["updated_at", "2020-08-16 23:58:19.880288"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:58:19.881358"], ["updated_at", "2020-08-16 23:58:19.881358"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:58:19.882376"], ["updated_at", "2020-08-16 23:58:19.882376"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:58:19.883393"], ["updated_at", "2020-08-16 23:58:19.883393"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:58:19.885747"], ["updated_at", "2020-08-16 23:58:19.885747"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:58:19.886955"], ["updated_at", "2020-08-16 23:58:19.886955"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$7U.lo7/R6KG6XcyLKGKEOOIfOodpBFPfORysylReI6qf9ZuUJ0PvW"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$BsGRPHFRw1vtV/azQ0XddOcfwl0WROKn1GQKF3abDvbGUaaHUrHiO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:58:19.916015"], ["updated_at", "2020-08-16 23:58:19.916015"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:58:19.923513"], ["updated_at", "2020-08-16 23:58:19.923513"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:58:19.938738"], ["updated_at", "2020-08-16 23:58:19.938738"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1/addresses/1" for 127.0.0.1 at 2020-08-16 16:58:19 -0700
Processing by OrgController#update_address as JSON
  Parameters: {"zip"=>"00000", "id"=>"1", "address_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:58:26.688357"], ["updated_at", "2020-08-16 23:58:26.688357"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:58:26.689459"], ["updated_at", "2020-08-16 23:58:26.689459"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:58:26.690107"], ["updated_at", "2020-08-16 23:58:26.690107"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:58:26.690760"], ["updated_at", "2020-08-16 23:58:26.690760"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:58:26.693506"], ["updated_at", "2020-08-16 23:58:26.693506"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:58:26.694267"], ["updated_at", "2020-08-16 23:58:26.694267"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:58:26.694889"], ["updated_at", "2020-08-16 23:58:26.694889"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:58:26.695547"], ["updated_at", "2020-08-16 23:58:26.695547"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:58:26.696127"], ["updated_at", "2020-08-16 23:58:26.696127"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.716988"], ["updated_at", "2020-08-16 23:58:26.716988"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.718392"], ["updated_at", "2020-08-16 23:58:26.718392"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.719425"], ["updated_at", "2020-08-16 23:58:26.719425"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.720390"], ["updated_at", "2020-08-16 23:58:26.720390"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.722967"], ["updated_at", "2020-08-16 23:58:26.722967"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.724275"], ["updated_at", "2020-08-16 23:58:26.724275"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.725229"], ["updated_at", "2020-08-16 23:58:26.725229"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.726156"], ["updated_at", "2020-08-16 23:58:26.726156"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.728087"], ["updated_at", "2020-08-16 23:58:26.728087"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.729033"], ["updated_at", "2020-08-16 23:58:26.729033"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.729933"], ["updated_at", "2020-08-16 23:58:26.729933"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.730850"], ["updated_at", "2020-08-16 23:58:26.730850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:58:26.732780"], ["updated_at", "2020-08-16 23:58:26.732780"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:58:26.733739"], ["updated_at", "2020-08-16 23:58:26.733739"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$vyzNYqsewvsRzjh2R3v5me/gPtv/ULeEdS5MUZSE0CPBQzcTL29C6"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$aHcnPWuFNSd4iq/2LGCjsOcKwvRRqP2Afm5BYhkPzFp6qdExDcGlW"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.759866"], ["updated_at", "2020-08-16 23:58:26.759866"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:58:26.767113"], ["updated_at", "2020-08-16 23:58:26.767113"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:58:26 -0700
Processing by OrgController#create as JSON
  Parameters: {"user_id"=>1, "org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
Unpermitted parameters: user_id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "is_verified", "is_enabled", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "New Test Org Name"], ["is_verified", nil], ["is_enabled", nil], ["created_at", "2020-08-16 23:58:26.789014"], ["updated_at", "2020-08-16 23:58:26.789014"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:58:26.797406"], ["updated_at", "2020-08-16 23:58:26.797406"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:58:26.798399"], ["updated_at", "2020-08-16 23:58:26.798399"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:58:26.799098"], ["updated_at", "2020-08-16 23:58:26.799098"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:58:26.799771"], ["updated_at", "2020-08-16 23:58:26.799771"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:58:26.800771"], ["updated_at", "2020-08-16 23:58:26.800771"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:58:26.801815"], ["updated_at", "2020-08-16 23:58:26.801815"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:58:26.802619"], ["updated_at", "2020-08-16 23:58:26.802619"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:58:26.803377"], ["updated_at", "2020-08-16 23:58:26.803377"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:58:26.804081"], ["updated_at", "2020-08-16 23:58:26.804081"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.806340"], ["updated_at", "2020-08-16 23:58:26.806340"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.807418"], ["updated_at", "2020-08-16 23:58:26.807418"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.808371"], ["updated_at", "2020-08-16 23:58:26.808371"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.809287"], ["updated_at", "2020-08-16 23:58:26.809287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.811134"], ["updated_at", "2020-08-16 23:58:26.811134"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.812058"], ["updated_at", "2020-08-16 23:58:26.812058"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.812976"], ["updated_at", "2020-08-16 23:58:26.812976"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.813908"], ["updated_at", "2020-08-16 23:58:26.813908"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.815954"], ["updated_at", "2020-08-16 23:58:26.815954"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.817049"], ["updated_at", "2020-08-16 23:58:26.817049"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.818107"], ["updated_at", "2020-08-16 23:58:26.818107"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.819058"], ["updated_at", "2020-08-16 23:58:26.819058"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:58:26.821067"], ["updated_at", "2020-08-16 23:58:26.821067"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:58:26.822009"], ["updated_at", "2020-08-16 23:58:26.822009"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$hYQqPoovCcuhsr1ym1ggkezwhgC.n2X2rmbX03.wQZSdsHo4ToQea"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$ky5qY75.QU52ggV0B.KbROm2FHniHRc7Jy3GcMge3.u7D.cn9b6di"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.828588"], ["updated_at", "2020-08-16 23:58:26.828588"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:58:26.829535"], ["updated_at", "2020-08-16 23:58:26.829535"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=New%20Test%20Org%20Name" for 127.0.0.1 at 2020-08-16 16:58:26 -0700
Processing by OrgController#org_search as JSON
  Parameters: {"org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."name" = ?[0m  [["name", "New Test Org Name"]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:58:26.844611"], ["updated_at", "2020-08-16 23:58:26.844611"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:58:26.845584"], ["updated_at", "2020-08-16 23:58:26.845584"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:58:26.846287"], ["updated_at", "2020-08-16 23:58:26.846287"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:58:26.846992"], ["updated_at", "2020-08-16 23:58:26.846992"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:58:26.847737"], ["updated_at", "2020-08-16 23:58:26.847737"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:58:26.848587"], ["updated_at", "2020-08-16 23:58:26.848587"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:58:26.849436"], ["updated_at", "2020-08-16 23:58:26.849436"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:58:26.850217"], ["updated_at", "2020-08-16 23:58:26.850217"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:58:26.851044"], ["updated_at", "2020-08-16 23:58:26.851044"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.853497"], ["updated_at", "2020-08-16 23:58:26.853497"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.854922"], ["updated_at", "2020-08-16 23:58:26.854922"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.856102"], ["updated_at", "2020-08-16 23:58:26.856102"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.857163"], ["updated_at", "2020-08-16 23:58:26.857163"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.859375"], ["updated_at", "2020-08-16 23:58:26.859375"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.860418"], ["updated_at", "2020-08-16 23:58:26.860418"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.861409"], ["updated_at", "2020-08-16 23:58:26.861409"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.862406"], ["updated_at", "2020-08-16 23:58:26.862406"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.864648"], ["updated_at", "2020-08-16 23:58:26.864648"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.865705"], ["updated_at", "2020-08-16 23:58:26.865705"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.866777"], ["updated_at", "2020-08-16 23:58:26.866777"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.867851"], ["updated_at", "2020-08-16 23:58:26.867851"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:58:26.870023"], ["updated_at", "2020-08-16 23:58:26.870023"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:58:26.871049"], ["updated_at", "2020-08-16 23:58:26.871049"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$m3wKmQWWKE0Pida/Yn0b5uBUkOcwzgRoJjtLunYaT47MTHQxUEQtC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$9y3Z3BZroVoNDgw9/dL4M.gbYLDObErUFu3Pfa7HF2ZSo.6dekmRe"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.877990"], ["updated_at", "2020-08-16 23:58:26.877990"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:58:26.878976"], ["updated_at", "2020-08-16 23:58:26.878976"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:58:26 -0700
Processing by OrgController#update as JSON
  Parameters: {"org_name"=>"New Test Org Name", "is_verified"=>true, "is_enabled"=>true, "id"=>"1", "org"=>{"is_verified"=>true, "is_enabled"=>true}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Unpermitted parameters: id, org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "orgs" SET "is_verified" = ?, "updated_at" = ? WHERE "orgs"."id" = ?[0m  [["is_verified", "t"], ["updated_at", "2020-08-16 23:58:26.886790"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:58:26.890920"], ["updated_at", "2020-08-16 23:58:26.890920"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:58:26.892096"], ["updated_at", "2020-08-16 23:58:26.892096"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:58:26.893128"], ["updated_at", "2020-08-16 23:58:26.893128"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:58:26.894006"], ["updated_at", "2020-08-16 23:58:26.894006"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:58:26.894928"], ["updated_at", "2020-08-16 23:58:26.894928"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:58:26.895833"], ["updated_at", "2020-08-16 23:58:26.895833"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:58:26.896660"], ["updated_at", "2020-08-16 23:58:26.896660"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:58:26.897503"], ["updated_at", "2020-08-16 23:58:26.897503"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:58:26.898324"], ["updated_at", "2020-08-16 23:58:26.898324"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.901448"], ["updated_at", "2020-08-16 23:58:26.901448"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.903507"], ["updated_at", "2020-08-16 23:58:26.903507"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.905093"], ["updated_at", "2020-08-16 23:58:26.905093"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.906405"], ["updated_at", "2020-08-16 23:58:26.906405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.908768"], ["updated_at", "2020-08-16 23:58:26.908768"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.909892"], ["updated_at", "2020-08-16 23:58:26.909892"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.910937"], ["updated_at", "2020-08-16 23:58:26.910937"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.912040"], ["updated_at", "2020-08-16 23:58:26.912040"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.914274"], ["updated_at", "2020-08-16 23:58:26.914274"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.915360"], ["updated_at", "2020-08-16 23:58:26.915360"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.916409"], ["updated_at", "2020-08-16 23:58:26.916409"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.917503"], ["updated_at", "2020-08-16 23:58:26.917503"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:58:26.919941"], ["updated_at", "2020-08-16 23:58:26.919941"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:58:26.921243"], ["updated_at", "2020-08-16 23:58:26.921243"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$Sqrk2sF6ZTmhSWKq5DTtN.BaFvelal7UlLn3xKhFuo63PQmJ9IIZu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$aMI.CoyqJP00lrKEkZBiGOaeD2o9QXA.9zxNx7IIRrcceTRZTWClq"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.929010"], ["updated_at", "2020-08-16 23:58:26.929010"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:58:26.930093"], ["updated_at", "2020-08-16 23:58:26.930093"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/users" for 127.0.0.1 at 2020-08-16 16:58:26 -0700
Processing by OrgController#all_users as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:58:26.971445"], ["updated_at", "2020-08-16 23:58:26.971445"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:58:26.972460"], ["updated_at", "2020-08-16 23:58:26.972460"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:58:26.973241"], ["updated_at", "2020-08-16 23:58:26.973241"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:58:26.974060"], ["updated_at", "2020-08-16 23:58:26.974060"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:58:26.974923"], ["updated_at", "2020-08-16 23:58:26.974923"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:58:26.975770"], ["updated_at", "2020-08-16 23:58:26.975770"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:58:26.976494"], ["updated_at", "2020-08-16 23:58:26.976494"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:58:26.977202"], ["updated_at", "2020-08-16 23:58:26.977202"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:58:26.977909"], ["updated_at", "2020-08-16 23:58:26.977909"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.980073"], ["updated_at", "2020-08-16 23:58:26.980073"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.981156"], ["updated_at", "2020-08-16 23:58:26.981156"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.982088"], ["updated_at", "2020-08-16 23:58:26.982088"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:58:26.983009"], ["updated_at", "2020-08-16 23:58:26.983009"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.984921"], ["updated_at", "2020-08-16 23:58:26.984921"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.985855"], ["updated_at", "2020-08-16 23:58:26.985855"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.986762"], ["updated_at", "2020-08-16 23:58:26.986762"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:58:26.987681"], ["updated_at", "2020-08-16 23:58:26.987681"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.989590"], ["updated_at", "2020-08-16 23:58:26.989590"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.990525"], ["updated_at", "2020-08-16 23:58:26.990525"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.991400"], ["updated_at", "2020-08-16 23:58:26.991400"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:58:26.992282"], ["updated_at", "2020-08-16 23:58:26.992282"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:58:26.994058"], ["updated_at", "2020-08-16 23:58:26.994058"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:58:26.994969"], ["updated_at", "2020-08-16 23:58:26.994969"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$DljUEnAqEP2m25j6mBE2I.oDJc7qrP92Vk8we.X1S.BZl1C28VmXS"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$7LSElUBJCBpk/VlYsVaONO2qR71Vdlp/8HTZYIMP2EJsZEJeqnPqO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.001112"], ["updated_at", "2020-08-16 23:58:27.001112"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:58:27.001981"], ["updated_at", "2020-08-16 23:58:27.001981"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:58:27 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:58:27.013625"], ["updated_at", "2020-08-16 23:58:27.013625"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:58:27.014654"], ["updated_at", "2020-08-16 23:58:27.014654"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:58:27.015485"], ["updated_at", "2020-08-16 23:58:27.015485"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:58:27.016315"], ["updated_at", "2020-08-16 23:58:27.016315"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:58:27.017116"], ["updated_at", "2020-08-16 23:58:27.017116"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:58:27.017961"], ["updated_at", "2020-08-16 23:58:27.017961"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:58:27.018690"], ["updated_at", "2020-08-16 23:58:27.018690"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:58:27.019453"], ["updated_at", "2020-08-16 23:58:27.019453"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:58:27.020540"], ["updated_at", "2020-08-16 23:58:27.020540"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.023414"], ["updated_at", "2020-08-16 23:58:27.023414"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.024840"], ["updated_at", "2020-08-16 23:58:27.024840"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.025950"], ["updated_at", "2020-08-16 23:58:27.025950"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.027092"], ["updated_at", "2020-08-16 23:58:27.027092"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.029353"], ["updated_at", "2020-08-16 23:58:27.029353"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.030512"], ["updated_at", "2020-08-16 23:58:27.030512"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.031657"], ["updated_at", "2020-08-16 23:58:27.031657"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.035230"], ["updated_at", "2020-08-16 23:58:27.035230"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.037388"], ["updated_at", "2020-08-16 23:58:27.037388"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.038302"], ["updated_at", "2020-08-16 23:58:27.038302"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.039183"], ["updated_at", "2020-08-16 23:58:27.039183"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.040070"], ["updated_at", "2020-08-16 23:58:27.040070"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:58:27.041837"], ["updated_at", "2020-08-16 23:58:27.041837"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:58:27.042715"], ["updated_at", "2020-08-16 23:58:27.042715"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$PqnfanHd6.UJO9i0SVpXieYhY4KXDcWAyuTeWnE7OQeC8zQWRjxDO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$s5OnWtPHD/2rFvuLDR4UKu7Wr69bZp3n65n1FEAsTL0Lf8n8YyoIS"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.049170"], ["updated_at", "2020-08-16 23:58:27.049170"], ["org_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:58:27.050103"], ["updated_at", "2020-08-16 23:58:27.050103"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Org 1"], ["created_at", "2020-08-16 23:58:27.053687"], ["updated_at", "2020-08-16 23:58:27.053687"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/orgs/2/users/2" for 127.0.0.1 at 2020-08-16 16:58:27 -0700
Processing by OrgController#remove_user as JSON
  Parameters: {"id"=>"2", "user_id"=>"2", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "orgs_users" WHERE "orgs_users"."org_id" = ? AND "orgs_users"."user_id" = 2[0m  [["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:58:27.063447"], ["updated_at", "2020-08-16 23:58:27.063447"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:58:27.064520"], ["updated_at", "2020-08-16 23:58:27.064520"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:58:27.065233"], ["updated_at", "2020-08-16 23:58:27.065233"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:58:27.065905"], ["updated_at", "2020-08-16 23:58:27.065905"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:58:27.066643"], ["updated_at", "2020-08-16 23:58:27.066643"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:58:27.067419"], ["updated_at", "2020-08-16 23:58:27.067419"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:58:27.068121"], ["updated_at", "2020-08-16 23:58:27.068121"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:58:27.068826"], ["updated_at", "2020-08-16 23:58:27.068826"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:58:27.069559"], ["updated_at", "2020-08-16 23:58:27.069559"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.071556"], ["updated_at", "2020-08-16 23:58:27.071556"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.072727"], ["updated_at", "2020-08-16 23:58:27.072727"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.073670"], ["updated_at", "2020-08-16 23:58:27.073670"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.074568"], ["updated_at", "2020-08-16 23:58:27.074568"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.076403"], ["updated_at", "2020-08-16 23:58:27.076403"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.077302"], ["updated_at", "2020-08-16 23:58:27.077302"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.078184"], ["updated_at", "2020-08-16 23:58:27.078184"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.079072"], ["updated_at", "2020-08-16 23:58:27.079072"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.080894"], ["updated_at", "2020-08-16 23:58:27.080894"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.081819"], ["updated_at", "2020-08-16 23:58:27.081819"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.082721"], ["updated_at", "2020-08-16 23:58:27.082721"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.083616"], ["updated_at", "2020-08-16 23:58:27.083616"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:58:27.085443"], ["updated_at", "2020-08-16 23:58:27.085443"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:58:27.086368"], ["updated_at", "2020-08-16 23:58:27.086368"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$3/f6SmRuhOBSOhmmW9/p5OLJSFaMaARfb0z/gZ1.Unde6wlKM5xGG"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$OSK5bo6h05L6AxajtnsRn.wmlaIxQ6dj78861KnDATqTOJ4DlOtu6"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.092396"], ["updated_at", "2020-08-16 23:58:27.092396"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:58:27.093257"], ["updated_at", "2020-08-16 23:58:27.093257"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:58:27 -0700
Processing by OrgController#add_address as JSON
  Parameters: {"addr_1"=>"123 Lane 4th st", "city"=>"Bellevue", "state"=>"WA", "zip"=>"99999", "id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:58:27.106818"], ["updated_at", "2020-08-16 23:58:27.106818"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 10ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ? ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["org_id", 1], ["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:58:27.113484"], ["updated_at", "2020-08-16 23:58:27.113484"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:58:27.114531"], ["updated_at", "2020-08-16 23:58:27.114531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:58:27.115296"], ["updated_at", "2020-08-16 23:58:27.115296"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:58:27.116022"], ["updated_at", "2020-08-16 23:58:27.116022"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:58:27.116818"], ["updated_at", "2020-08-16 23:58:27.116818"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:58:27.117881"], ["updated_at", "2020-08-16 23:58:27.117881"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:58:27.118852"], ["updated_at", "2020-08-16 23:58:27.118852"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:58:27.119637"], ["updated_at", "2020-08-16 23:58:27.119637"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:58:27.120524"], ["updated_at", "2020-08-16 23:58:27.120524"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.123214"], ["updated_at", "2020-08-16 23:58:27.123214"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.124424"], ["updated_at", "2020-08-16 23:58:27.124424"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.125430"], ["updated_at", "2020-08-16 23:58:27.125430"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.126463"], ["updated_at", "2020-08-16 23:58:27.126463"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.128557"], ["updated_at", "2020-08-16 23:58:27.128557"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.129627"], ["updated_at", "2020-08-16 23:58:27.129627"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.130620"], ["updated_at", "2020-08-16 23:58:27.130620"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.131639"], ["updated_at", "2020-08-16 23:58:27.131639"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.133841"], ["updated_at", "2020-08-16 23:58:27.133841"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.134850"], ["updated_at", "2020-08-16 23:58:27.134850"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.135945"], ["updated_at", "2020-08-16 23:58:27.135945"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.136972"], ["updated_at", "2020-08-16 23:58:27.136972"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:58:27.139052"], ["updated_at", "2020-08-16 23:58:27.139052"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:58:27.140082"], ["updated_at", "2020-08-16 23:58:27.140082"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$xw/QhQf9vq01A2XbN2BnaOP/SCpu8Cg0F4qcM7ccVnibyAZS/VYXe"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$1t8xJ9TMgUx8ZGdc1RAXd.pKCd1O6wggLM8llklSiNNomP6PfXJpO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.146725"], ["updated_at", "2020-08-16 23:58:27.146725"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:58:27.147705"], ["updated_at", "2020-08-16 23:58:27.147705"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:58:27.152875"], ["updated_at", "2020-08-16 23:58:27.152875"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:58:27 -0700
Processing by OrgController#all_addresses as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
Completed 200 OK in 6ms (Views: 0.5ms | ActiveRecord: 0.4ms)
  [1m[35m (2.5ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:58:27.167812"], ["updated_at", "2020-08-16 23:58:27.167812"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:58:27.169350"], ["updated_at", "2020-08-16 23:58:27.169350"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:58:27.170619"], ["updated_at", "2020-08-16 23:58:27.170619"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:58:27.171769"], ["updated_at", "2020-08-16 23:58:27.171769"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:58:27.173281"], ["updated_at", "2020-08-16 23:58:27.173281"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:58:27.174572"], ["updated_at", "2020-08-16 23:58:27.174572"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:58:27.175771"], ["updated_at", "2020-08-16 23:58:27.175771"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:58:27.177397"], ["updated_at", "2020-08-16 23:58:27.177397"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:58:27.178182"], ["updated_at", "2020-08-16 23:58:27.178182"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.181549"], ["updated_at", "2020-08-16 23:58:27.181549"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.183431"], ["updated_at", "2020-08-16 23:58:27.183431"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.184803"], ["updated_at", "2020-08-16 23:58:27.184803"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.186476"], ["updated_at", "2020-08-16 23:58:27.186476"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.189307"], ["updated_at", "2020-08-16 23:58:27.189307"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.190849"], ["updated_at", "2020-08-16 23:58:27.190849"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.192174"], ["updated_at", "2020-08-16 23:58:27.192174"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.193655"], ["updated_at", "2020-08-16 23:58:27.193655"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.196423"], ["updated_at", "2020-08-16 23:58:27.196423"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.197532"], ["updated_at", "2020-08-16 23:58:27.197532"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.199149"], ["updated_at", "2020-08-16 23:58:27.199149"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.200419"], ["updated_at", "2020-08-16 23:58:27.200419"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:58:27.203494"], ["updated_at", "2020-08-16 23:58:27.203494"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:58:27.204849"], ["updated_at", "2020-08-16 23:58:27.204849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$/4BWq1W5LT1bWc/CyMWw9uYAu/7irueK0gGnoazZdd0eS6Sy09zbK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$F9RBqCNFK4o9KTZLcGO0Ie.DZJSFIE0ToXuRn50WE5hc0EayvRuOu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.217746"], ["updated_at", "2020-08-16 23:58:27.217746"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:58:27.218766"], ["updated_at", "2020-08-16 23:58:27.218766"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:58:27.223405"], ["updated_at", "2020-08-16 23:58:27.223405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1/addresses/1" for 127.0.0.1 at 2020-08-16 16:58:27 -0700
Processing by OrgController#update_address as JSON
  Parameters: {"zip"=>"00000", "id"=>"1", "address_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms)
  [1m[35m (0.6ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:58:27.241288"], ["updated_at", "2020-08-16 23:58:27.241288"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:58:27.242390"], ["updated_at", "2020-08-16 23:58:27.242390"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:58:27.243149"], ["updated_at", "2020-08-16 23:58:27.243149"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:58:27.243872"], ["updated_at", "2020-08-16 23:58:27.243872"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:58:27.244797"], ["updated_at", "2020-08-16 23:58:27.244797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:58:27.245822"], ["updated_at", "2020-08-16 23:58:27.245822"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:58:27.246736"], ["updated_at", "2020-08-16 23:58:27.246736"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:58:27.247531"], ["updated_at", "2020-08-16 23:58:27.247531"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:58:27.248323"], ["updated_at", "2020-08-16 23:58:27.248323"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.250500"], ["updated_at", "2020-08-16 23:58:27.250500"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.251540"], ["updated_at", "2020-08-16 23:58:27.251540"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.252605"], ["updated_at", "2020-08-16 23:58:27.252605"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:58:27.253579"], ["updated_at", "2020-08-16 23:58:27.253579"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.255722"], ["updated_at", "2020-08-16 23:58:27.255722"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.256745"], ["updated_at", "2020-08-16 23:58:27.256745"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.257687"], ["updated_at", "2020-08-16 23:58:27.257687"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:58:27.258612"], ["updated_at", "2020-08-16 23:58:27.258612"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.260524"], ["updated_at", "2020-08-16 23:58:27.260524"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.261443"], ["updated_at", "2020-08-16 23:58:27.261443"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.262367"], ["updated_at", "2020-08-16 23:58:27.262367"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.263290"], ["updated_at", "2020-08-16 23:58:27.263290"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:58:27.265176"], ["updated_at", "2020-08-16 23:58:27.265176"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:58:27.266099"], ["updated_at", "2020-08-16 23:58:27.266099"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$YqOe9zTyhPPsI.eBhx6PK.K.c7hBhnNwOVQkaP22w3vUOT.4j0fBW"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$O9s9Xu9AahbtCX12b9ENdOg7GRyy7Bczx.Sli.Bd3OSt24S583NpK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:58:27.272299"], ["updated_at", "2020-08-16 23:58:27.272299"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:58:27.273171"], ["updated_at", "2020-08-16 23:58:27.273171"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.1ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:59:47.544489"], ["updated_at", "2020-08-16 23:59:47.544489"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:59:47.545920"], ["updated_at", "2020-08-16 23:59:47.545920"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:59:47.546566"], ["updated_at", "2020-08-16 23:59:47.546566"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:59:47.547164"], ["updated_at", "2020-08-16 23:59:47.547164"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:59:47.549988"], ["updated_at", "2020-08-16 23:59:47.549988"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:59:47.550781"], ["updated_at", "2020-08-16 23:59:47.550781"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:59:47.551404"], ["updated_at", "2020-08-16 23:59:47.551404"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:59:47.552059"], ["updated_at", "2020-08-16 23:59:47.552059"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:59:47.552679"], ["updated_at", "2020-08-16 23:59:47.552679"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.573713"], ["updated_at", "2020-08-16 23:59:47.573713"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.574855"], ["updated_at", "2020-08-16 23:59:47.574855"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.575736"], ["updated_at", "2020-08-16 23:59:47.575736"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.576622"], ["updated_at", "2020-08-16 23:59:47.576622"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.578474"], ["updated_at", "2020-08-16 23:59:47.578474"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.579342"], ["updated_at", "2020-08-16 23:59:47.579342"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.580238"], ["updated_at", "2020-08-16 23:59:47.580238"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.581099"], ["updated_at", "2020-08-16 23:59:47.581099"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.582822"], ["updated_at", "2020-08-16 23:59:47.582822"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.583709"], ["updated_at", "2020-08-16 23:59:47.583709"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.584591"], ["updated_at", "2020-08-16 23:59:47.584591"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.585436"], ["updated_at", "2020-08-16 23:59:47.585436"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.587236"], ["updated_at", "2020-08-16 23:59:47.587236"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.588212"], ["updated_at", "2020-08-16 23:59:47.588212"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$BpxkwQFQWWVZrOjMiStr.ODL/aqILvI0nzwyDLjbQ9Ku.gJapFBli"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$OqRcJ94EY/QxDyvvFmwuNerLckftZVvDXAHq9ILPk/B2boVQRB8Uy"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.615986"], ["updated_at", "2020-08-16 23:59:47.615986"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:59:47.623061"], ["updated_at", "2020-08-16 23:59:47.623061"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs" for 127.0.0.1 at 2020-08-16 16:59:47 -0700
Processing by OrgController#create as JSON
  Parameters: {"user_id"=>1, "org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
Unpermitted parameters: user_id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "is_verified", "is_enabled", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "New Test Org Name"], ["is_verified", nil], ["is_enabled", nil], ["created_at", "2020-08-16 23:59:47.645669"], ["updated_at", "2020-08-16 23:59:47.645669"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 11ms (Views: 0.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:59:47.654291"], ["updated_at", "2020-08-16 23:59:47.654291"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:59:47.655389"], ["updated_at", "2020-08-16 23:59:47.655389"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:59:47.656200"], ["updated_at", "2020-08-16 23:59:47.656200"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:59:47.656938"], ["updated_at", "2020-08-16 23:59:47.656938"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:59:47.657725"], ["updated_at", "2020-08-16 23:59:47.657725"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:59:47.658518"], ["updated_at", "2020-08-16 23:59:47.658518"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:59:47.659244"], ["updated_at", "2020-08-16 23:59:47.659244"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:59:47.659936"], ["updated_at", "2020-08-16 23:59:47.659936"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:59:47.660657"], ["updated_at", "2020-08-16 23:59:47.660657"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.662902"], ["updated_at", "2020-08-16 23:59:47.662902"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.663990"], ["updated_at", "2020-08-16 23:59:47.663990"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.664905"], ["updated_at", "2020-08-16 23:59:47.664905"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.665818"], ["updated_at", "2020-08-16 23:59:47.665818"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.667763"], ["updated_at", "2020-08-16 23:59:47.667763"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.668689"], ["updated_at", "2020-08-16 23:59:47.668689"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.669612"], ["updated_at", "2020-08-16 23:59:47.669612"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.670519"], ["updated_at", "2020-08-16 23:59:47.670519"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.672428"], ["updated_at", "2020-08-16 23:59:47.672428"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.673349"], ["updated_at", "2020-08-16 23:59:47.673349"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.674258"], ["updated_at", "2020-08-16 23:59:47.674258"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.675155"], ["updated_at", "2020-08-16 23:59:47.675155"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.676966"], ["updated_at", "2020-08-16 23:59:47.676966"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.677847"], ["updated_at", "2020-08-16 23:59:47.677847"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$.RHB/GjIOvebCq9B3yLdjuwmrGZ.dVT/p.9XHvEmCGQA48Ie.CLaO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$JUfhKLJ9yk8cwWa53Wwm1uyZ.iwqZYvpUOA2GvVfi1RelUL7nWzAS"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.683905"], ["updated_at", "2020-08-16 23:59:47.683905"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:59:47.684751"], ["updated_at", "2020-08-16 23:59:47.684751"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs?org_name=New%20Test%20Org%20Name" for 127.0.0.1 at 2020-08-16 16:59:47 -0700
Processing by OrgController#org_search as JSON
  Parameters: {"org_name"=>"New Test Org Name", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
Unpermitted parameter: org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT "orgs".* FROM "orgs" WHERE "orgs"."name" = ?[0m  [["name", "New Test Org Name"]]
Completed 200 OK in 7ms (Views: 0.2ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:59:47.699333"], ["updated_at", "2020-08-16 23:59:47.699333"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:59:47.700924"], ["updated_at", "2020-08-16 23:59:47.700924"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:59:47.701770"], ["updated_at", "2020-08-16 23:59:47.701770"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:59:47.702551"], ["updated_at", "2020-08-16 23:59:47.702551"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:59:47.703349"], ["updated_at", "2020-08-16 23:59:47.703349"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:59:47.704171"], ["updated_at", "2020-08-16 23:59:47.704171"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:59:47.704910"], ["updated_at", "2020-08-16 23:59:47.704910"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:59:47.705663"], ["updated_at", "2020-08-16 23:59:47.705663"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:59:47.706393"], ["updated_at", "2020-08-16 23:59:47.706393"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.708614"], ["updated_at", "2020-08-16 23:59:47.708614"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.709820"], ["updated_at", "2020-08-16 23:59:47.709820"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.710969"], ["updated_at", "2020-08-16 23:59:47.710969"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.712188"], ["updated_at", "2020-08-16 23:59:47.712188"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.714571"], ["updated_at", "2020-08-16 23:59:47.714571"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.715668"], ["updated_at", "2020-08-16 23:59:47.715668"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.716994"], ["updated_at", "2020-08-16 23:59:47.716994"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.718027"], ["updated_at", "2020-08-16 23:59:47.718027"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.720079"], ["updated_at", "2020-08-16 23:59:47.720079"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.721005"], ["updated_at", "2020-08-16 23:59:47.721005"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.721923"], ["updated_at", "2020-08-16 23:59:47.721923"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.722861"], ["updated_at", "2020-08-16 23:59:47.722861"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.724722"], ["updated_at", "2020-08-16 23:59:47.724722"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.725639"], ["updated_at", "2020-08-16 23:59:47.725639"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$z5gmFleG3/kghD1.qol6PeiXkc4oPYJ6HPiEzSRFcmU9Ip1Ug7HRS"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$n2UEUqgP1KA44e8Xdv6eLOJGxwMG/jBdunaLA6FuwiMnNp8um1fby"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.732015"], ["updated_at", "2020-08-16 23:59:47.732015"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:59:47.732932"], ["updated_at", "2020-08-16 23:59:47.732932"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1" for 127.0.0.1 at 2020-08-16 16:59:47 -0700
Processing by OrgController#update as JSON
  Parameters: {"org_name"=>"New Test Org Name", "is_verified"=>true, "is_enabled"=>true, "id"=>"1", "org"=>{"is_verified"=>true, "is_enabled"=>true}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Unpermitted parameters: id, org
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[33mUPDATE "orgs" SET "is_verified" = ?, "updated_at" = ? WHERE "orgs"."id" = ?[0m  [["is_verified", "t"], ["updated_at", "2020-08-16 23:59:47.740321"], ["id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:59:47.743871"], ["updated_at", "2020-08-16 23:59:47.743871"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:59:47.744772"], ["updated_at", "2020-08-16 23:59:47.744772"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:59:47.745443"], ["updated_at", "2020-08-16 23:59:47.745443"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:59:47.746098"], ["updated_at", "2020-08-16 23:59:47.746098"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:59:47.746849"], ["updated_at", "2020-08-16 23:59:47.746849"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:59:47.747677"], ["updated_at", "2020-08-16 23:59:47.747677"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:59:47.748381"], ["updated_at", "2020-08-16 23:59:47.748381"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:59:47.749054"], ["updated_at", "2020-08-16 23:59:47.749054"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:59:47.749737"], ["updated_at", "2020-08-16 23:59:47.749737"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.751742"], ["updated_at", "2020-08-16 23:59:47.751742"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.752740"], ["updated_at", "2020-08-16 23:59:47.752740"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.753651"], ["updated_at", "2020-08-16 23:59:47.753651"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.754571"], ["updated_at", "2020-08-16 23:59:47.754571"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.756583"], ["updated_at", "2020-08-16 23:59:47.756583"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.757579"], ["updated_at", "2020-08-16 23:59:47.757579"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.758570"], ["updated_at", "2020-08-16 23:59:47.758570"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.759556"], ["updated_at", "2020-08-16 23:59:47.759556"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.761475"], ["updated_at", "2020-08-16 23:59:47.761475"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.762430"], ["updated_at", "2020-08-16 23:59:47.762430"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.763321"], ["updated_at", "2020-08-16 23:59:47.763321"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.764212"], ["updated_at", "2020-08-16 23:59:47.764212"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.766053"], ["updated_at", "2020-08-16 23:59:47.766053"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.766932"], ["updated_at", "2020-08-16 23:59:47.766932"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$/t5iGUVYRZgHKn.dlwOYGOEc1t6QT6XpfpUFH313nZUuC6lW9jQeO"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$bIbijO9yQa5ILgaQiuq.ruqj4z0x971rbBqXMyyVyZZJZSjFzZAD6"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.773119"], ["updated_at", "2020-08-16 23:59:47.773119"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:59:47.773993"], ["updated_at", "2020-08-16 23:59:47.773993"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/users" for 127.0.0.1 at 2020-08-16 16:59:47 -0700
Processing by OrgController#all_users as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
Completed 500 Internal Server Error in 6ms (ActiveRecord: 0.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:59:47.811198"], ["updated_at", "2020-08-16 23:59:47.811198"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:59:47.812247"], ["updated_at", "2020-08-16 23:59:47.812247"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:59:47.813086"], ["updated_at", "2020-08-16 23:59:47.813086"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:59:47.813948"], ["updated_at", "2020-08-16 23:59:47.813948"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:59:47.814850"], ["updated_at", "2020-08-16 23:59:47.814850"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:59:47.815735"], ["updated_at", "2020-08-16 23:59:47.815735"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:59:47.816491"], ["updated_at", "2020-08-16 23:59:47.816491"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:59:47.817225"], ["updated_at", "2020-08-16 23:59:47.817225"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:59:47.817937"], ["updated_at", "2020-08-16 23:59:47.817937"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.820156"], ["updated_at", "2020-08-16 23:59:47.820156"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.821258"], ["updated_at", "2020-08-16 23:59:47.821258"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.822149"], ["updated_at", "2020-08-16 23:59:47.822149"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.823068"], ["updated_at", "2020-08-16 23:59:47.823068"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.824881"], ["updated_at", "2020-08-16 23:59:47.824881"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.825773"], ["updated_at", "2020-08-16 23:59:47.825773"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.826615"], ["updated_at", "2020-08-16 23:59:47.826615"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.827477"], ["updated_at", "2020-08-16 23:59:47.827477"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.829229"], ["updated_at", "2020-08-16 23:59:47.829229"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.830130"], ["updated_at", "2020-08-16 23:59:47.830130"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.830988"], ["updated_at", "2020-08-16 23:59:47.830988"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.831819"], ["updated_at", "2020-08-16 23:59:47.831819"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.833558"], ["updated_at", "2020-08-16 23:59:47.833558"]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.834425"], ["updated_at", "2020-08-16 23:59:47.834425"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$Y5Qa48A6lIF6Rqp6XvoDU.0qLT9E621ALqkL.oBrMMdx3Gbuaeceu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$A27AFThEHGnbFS20JB97dO0SJQRk.SzmF5m6HH2IU5ea2gtvLx4Fu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.840654"], ["updated_at", "2020-08-16 23:59:47.840654"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:59:47.841530"], ["updated_at", "2020-08-16 23:59:47.841530"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/users/1" for 127.0.0.1 at 2020-08-16 16:59:47 -0700
Processing by OrgController#add_user as JSON
  Parameters: {"id"=>"1", "user_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.1ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 4ms (Views: 0.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:59:47.853689"], ["updated_at", "2020-08-16 23:59:47.853689"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:59:47.854763"], ["updated_at", "2020-08-16 23:59:47.854763"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:59:47.855502"], ["updated_at", "2020-08-16 23:59:47.855502"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:59:47.856193"], ["updated_at", "2020-08-16 23:59:47.856193"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:59:47.856938"], ["updated_at", "2020-08-16 23:59:47.856938"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:59:47.857714"], ["updated_at", "2020-08-16 23:59:47.857714"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:59:47.858424"], ["updated_at", "2020-08-16 23:59:47.858424"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:59:47.859135"], ["updated_at", "2020-08-16 23:59:47.859135"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:59:47.859862"], ["updated_at", "2020-08-16 23:59:47.859862"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.862375"], ["updated_at", "2020-08-16 23:59:47.862375"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.863584"], ["updated_at", "2020-08-16 23:59:47.863584"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.864541"], ["updated_at", "2020-08-16 23:59:47.864541"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.865432"], ["updated_at", "2020-08-16 23:59:47.865432"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.867430"], ["updated_at", "2020-08-16 23:59:47.867430"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.868549"], ["updated_at", "2020-08-16 23:59:47.868549"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.872221"], ["updated_at", "2020-08-16 23:59:47.872221"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.873356"], ["updated_at", "2020-08-16 23:59:47.873356"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.875426"], ["updated_at", "2020-08-16 23:59:47.875426"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.876344"], ["updated_at", "2020-08-16 23:59:47.876344"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.877225"], ["updated_at", "2020-08-16 23:59:47.877225"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.878094"], ["updated_at", "2020-08-16 23:59:47.878094"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.879862"], ["updated_at", "2020-08-16 23:59:47.879862"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.880732"], ["updated_at", "2020-08-16 23:59:47.880732"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$9iCm741ShCCiOsD4c.EQauGNDpH/EJ0bP5t/lIugSLEYwIMc6yQaC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$IIeK9JeZ9C9P6s6JYN5Bxe7rBd4lpeiKl.eXqrIB7HTHSTU9zrLKK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.886897"], ["updated_at", "2020-08-16 23:59:47.886897"], ["org_id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:59:47.887773"], ["updated_at", "2020-08-16 23:59:47.887773"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "Org 1"], ["created_at", "2020-08-16 23:59:47.891220"], ["updated_at", "2020-08-16 23:59:47.891220"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started DELETE "/orgs/2/users/2" for 127.0.0.1 at 2020-08-16 16:59:47 -0700
Processing by OrgController#remove_user as JSON
  Parameters: {"id"=>"2", "user_id"=>"2", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" IS NULL[0m  [["user_id", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[31mDELETE FROM "orgs_users" WHERE "orgs_users"."org_id" = ? AND "orgs_users"."user_id" = 2[0m  [["org_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 204 No Content in 3ms (ActiveRecord: 0.4ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 2]]
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:59:47.900673"], ["updated_at", "2020-08-16 23:59:47.900673"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:59:47.901699"], ["updated_at", "2020-08-16 23:59:47.901699"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:59:47.902483"], ["updated_at", "2020-08-16 23:59:47.902483"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:59:47.903205"], ["updated_at", "2020-08-16 23:59:47.903205"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:59:47.903975"], ["updated_at", "2020-08-16 23:59:47.903975"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:59:47.904797"], ["updated_at", "2020-08-16 23:59:47.904797"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:59:47.905526"], ["updated_at", "2020-08-16 23:59:47.905526"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:59:47.906224"], ["updated_at", "2020-08-16 23:59:47.906224"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:59:47.907008"], ["updated_at", "2020-08-16 23:59:47.907008"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.909352"], ["updated_at", "2020-08-16 23:59:47.909352"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.910471"], ["updated_at", "2020-08-16 23:59:47.910471"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.911410"], ["updated_at", "2020-08-16 23:59:47.911410"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.912341"], ["updated_at", "2020-08-16 23:59:47.912341"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.914435"], ["updated_at", "2020-08-16 23:59:47.914435"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.915399"], ["updated_at", "2020-08-16 23:59:47.915399"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.916275"], ["updated_at", "2020-08-16 23:59:47.916275"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.917145"], ["updated_at", "2020-08-16 23:59:47.917145"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.919051"], ["updated_at", "2020-08-16 23:59:47.919051"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.919982"], ["updated_at", "2020-08-16 23:59:47.919982"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.920885"], ["updated_at", "2020-08-16 23:59:47.920885"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.921770"], ["updated_at", "2020-08-16 23:59:47.921770"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.923625"], ["updated_at", "2020-08-16 23:59:47.923625"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.924542"], ["updated_at", "2020-08-16 23:59:47.924542"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$VeqQUktedeLJRQMa1F..gewuyT/55J9DuQEp1q9enXcNdeZI/V5Ee"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$M1QTIPuOlM1if/5sXxgZ4.WTxqTz4.ab4uma3sYLGf0.AqrqyyIgu"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.930751"], ["updated_at", "2020-08-16 23:59:47.930751"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:59:47.931646"], ["updated_at", "2020-08-16 23:59:47.931646"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started POST "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:59:47 -0700
Processing by OrgController#add_address as JSON
  Parameters: {"addr_1"=>"123 Lane 4th st", "city"=>"Bellevue", "state"=>"WA", "zip"=>"99999", "id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 1]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
Unpermitted parameters: id, org
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:59:47.947960"], ["updated_at", "2020-08-16 23:59:47.947960"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Completed 201 Created in 13ms (Views: 0.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT  "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ? ORDER BY "addresses"."id" ASC LIMIT ?[0m  [["org_id", 1], ["LIMIT", 1]]
  [1m[35m (1.1ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:59:47.954220"], ["updated_at", "2020-08-16 23:59:47.954220"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:59:47.955426"], ["updated_at", "2020-08-16 23:59:47.955426"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:59:47.956501"], ["updated_at", "2020-08-16 23:59:47.956501"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:59:47.957305"], ["updated_at", "2020-08-16 23:59:47.957305"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:59:47.958147"], ["updated_at", "2020-08-16 23:59:47.958147"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:59:47.959053"], ["updated_at", "2020-08-16 23:59:47.959053"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:59:47.959832"], ["updated_at", "2020-08-16 23:59:47.959832"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:59:47.960715"], ["updated_at", "2020-08-16 23:59:47.960715"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:59:47.961671"], ["updated_at", "2020-08-16 23:59:47.961671"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.963929"], ["updated_at", "2020-08-16 23:59:47.963929"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.965035"], ["updated_at", "2020-08-16 23:59:47.965035"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.966018"], ["updated_at", "2020-08-16 23:59:47.966018"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:59:47.966978"], ["updated_at", "2020-08-16 23:59:47.966978"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.968929"], ["updated_at", "2020-08-16 23:59:47.968929"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.969921"], ["updated_at", "2020-08-16 23:59:47.969921"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.970897"], ["updated_at", "2020-08-16 23:59:47.970897"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:59:47.971853"], ["updated_at", "2020-08-16 23:59:47.971853"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.973703"], ["updated_at", "2020-08-16 23:59:47.973703"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.974648"], ["updated_at", "2020-08-16 23:59:47.974648"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.975579"], ["updated_at", "2020-08-16 23:59:47.975579"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.976538"], ["updated_at", "2020-08-16 23:59:47.976538"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.978417"], ["updated_at", "2020-08-16 23:59:47.978417"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:59:47.979392"], ["updated_at", "2020-08-16 23:59:47.979392"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$i/JpfMxfQI6/J4jOwoTmZ.X0kHk7GRPQ.SGQKRCoH4fEifm1gPtCK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$IbVYcUK587ysE5PedNEMCun.Zod8PPzn8eKnVrgXrsPKRHGdgFAsK"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:59:47.986078"], ["updated_at", "2020-08-16 23:59:47.986078"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:59:47.987112"], ["updated_at", "2020-08-16 23:59:47.987112"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:59:47.993115"], ["updated_at", "2020-08-16 23:59:47.993115"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started GET "/orgs/1/addresses" for 127.0.0.1 at 2020-08-16 16:59:47 -0700
Processing by OrgController#all_addresses as JSON
  Parameters: {"id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 0]]
  [1m[36mOrg Load (0.0ms)[0m  [1m[34mSELECT  "orgs".* FROM "orgs" WHERE "orgs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mAddress Load (0.1ms)[0m  [1m[34mSELECT "addresses".* FROM "addresses" WHERE "addresses"."org_id" = ?[0m  [["org_id", 1]]
Completed 200 OK in 5ms (Views: 0.5ms | ActiveRecord: 0.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:59:48.004819"], ["updated_at", "2020-08-16 23:59:48.004819"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:59:48.006453"], ["updated_at", "2020-08-16 23:59:48.006453"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:59:48.007684"], ["updated_at", "2020-08-16 23:59:48.007684"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:59:48.009000"], ["updated_at", "2020-08-16 23:59:48.009000"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:59:48.010613"], ["updated_at", "2020-08-16 23:59:48.010613"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:59:48.012242"], ["updated_at", "2020-08-16 23:59:48.012242"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:59:48.013248"], ["updated_at", "2020-08-16 23:59:48.013248"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:59:48.014543"], ["updated_at", "2020-08-16 23:59:48.014543"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:59:48.015717"], ["updated_at", "2020-08-16 23:59:48.015717"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:59:48.018969"], ["updated_at", "2020-08-16 23:59:48.018969"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:59:48.020808"], ["updated_at", "2020-08-16 23:59:48.020808"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:59:48.022437"], ["updated_at", "2020-08-16 23:59:48.022437"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:59:48.023757"], ["updated_at", "2020-08-16 23:59:48.023757"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:59:48.026601"], ["updated_at", "2020-08-16 23:59:48.026601"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:59:48.028333"], ["updated_at", "2020-08-16 23:59:48.028333"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:59:48.029954"], ["updated_at", "2020-08-16 23:59:48.029954"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:59:48.031405"], ["updated_at", "2020-08-16 23:59:48.031405"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:59:48.034422"], ["updated_at", "2020-08-16 23:59:48.034422"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:59:48.035679"], ["updated_at", "2020-08-16 23:59:48.035679"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:59:48.037181"], ["updated_at", "2020-08-16 23:59:48.037181"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:59:48.038517"], ["updated_at", "2020-08-16 23:59:48.038517"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:59:48.041880"], ["updated_at", "2020-08-16 23:59:48.041880"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:59:48.043433"], ["updated_at", "2020-08-16 23:59:48.043433"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$WNt1TL.qEcao4rS1ARxbie14WLB.M64K5zpZrAVwhJoM5Khc2GfVC"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$49pTJni20QYNtvneVAIhf.JL9ymVuwDr2ql4lQ.Jpk2X.z6u.Nr0K"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:59:48.055262"], ["updated_at", "2020-08-16 23:59:48.055262"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:59:48.056248"], ["updated_at", "2020-08-16 23:59:48.056248"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "addresses" ("org_id", "addr_1", "city", "state", "zip", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["org_id", 1], ["addr_1", "123 Lane 4th st"], ["city", "Bellevue"], ["state", "WA"], ["zip", "99999"], ["created_at", "2020-08-16 23:59:48.060677"], ["updated_at", "2020-08-16 23:59:48.060677"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Started PUT "/orgs/1/addresses/1" for 127.0.0.1 at 2020-08-16 16:59:48 -0700
Processing by OrgController#update_address as JSON
  Parameters: {"zip"=>"00000", "id"=>"1", "address_id"=>"1", "org"=>{}}
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
  [1m[36mAction Load (0.1ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" INNER JOIN "roles" ON "actions_roles"."role_id" = "roles"."id" INNER JOIN "roles_users" ON "roles"."id" = "roles_users"."role_id" WHERE "roles_users"."user_id" = ? AND "actions"."method" = ?[0m  [["user_id", 1], ["method", 2]]
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms)
  [1m[35m (0.7ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mRole Load (0.1ms)[0m  [1m[34mSELECT "roles".* FROM "roles"[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions"[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "player"], ["created_at", "2020-08-16 23:59:48.077843"], ["updated_at", "2020-08-16 23:59:48.077843"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "admin"], ["created_at", "2020-08-16 23:59:48.078854"], ["updated_at", "2020-08-16 23:59:48.078854"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "owner"], ["created_at", "2020-08-16 23:59:48.079629"], ["updated_at", "2020-08-16 23:59:48.079629"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "systems_admin"], ["created_at", "2020-08-16 23:59:48.080394"], ["updated_at", "2020-08-16 23:59:48.080394"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users"], ["method", 1], ["created_at", "2020-08-16 23:59:48.081362"], ["updated_at", "2020-08-16 23:59:48.081362"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 0], ["created_at", "2020-08-16 23:59:48.082307"], ["updated_at", "2020-08-16 23:59:48.082307"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+"], ["method", 2], ["created_at", "2020-08-16 23:59:48.083064"], ["updated_at", "2020-08-16 23:59:48.083064"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "method", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["method", 1], ["created_at", "2020-08-16 23:59:48.083770"], ["updated_at", "2020-08-16 23:59:48.083770"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.0ms)[0m  [1m[32mINSERT INTO "actions" ("url_regex", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["url_regex", "/users/\\d+/roles"], ["created_at", "2020-08-16 23:59:48.084484"], ["updated_at", "2020-08-16 23:59:48.084484"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 4]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 4], ["created_at", "2020-08-16 23:59:48.086519"], ["updated_at", "2020-08-16 23:59:48.086519"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 4], ["created_at", "2020-08-16 23:59:48.087528"], ["updated_at", "2020-08-16 23:59:48.087528"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 4], ["created_at", "2020-08-16 23:59:48.088420"], ["updated_at", "2020-08-16 23:59:48.088420"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 4], ["created_at", "2020-08-16 23:59:48.089308"], ["updated_at", "2020-08-16 23:59:48.089308"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 3]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 3], ["created_at", "2020-08-16 23:59:48.091135"], ["updated_at", "2020-08-16 23:59:48.091135"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 3], ["created_at", "2020-08-16 23:59:48.092055"], ["updated_at", "2020-08-16 23:59:48.092055"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 3], ["created_at", "2020-08-16 23:59:48.092938"], ["updated_at", "2020-08-16 23:59:48.092938"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 3], ["created_at", "2020-08-16 23:59:48.093771"], ["updated_at", "2020-08-16 23:59:48.093771"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 2]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 2], ["created_at", "2020-08-16 23:59:48.095551"], ["updated_at", "2020-08-16 23:59:48.095551"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 2], ["created_at", "2020-08-16 23:59:48.096418"], ["updated_at", "2020-08-16 23:59:48.096418"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 4], ["role_id", 2], ["created_at", "2020-08-16 23:59:48.097397"], ["updated_at", "2020-08-16 23:59:48.097397"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 5], ["role_id", 2], ["created_at", "2020-08-16 23:59:48.098358"], ["updated_at", "2020-08-16 23:59:48.098358"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mAction Load (0.0ms)[0m  [1m[34mSELECT "actions".* FROM "actions" INNER JOIN "actions_roles" ON "actions"."id" = "actions_roles"."action_id" WHERE "actions_roles"."role_id" = ?[0m  [["role_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 2], ["role_id", 1], ["created_at", "2020-08-16 23:59:48.100177"], ["updated_at", "2020-08-16 23:59:48.100177"]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "actions_roles" ("action_id", "role_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["action_id", 3], ["role_id", 1], ["created_at", "2020-08-16 23:59:48.101076"], ["updated_at", "2020-08-16 23:59:48.101076"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "over@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "over@test.com"], ["name", "overseer"], ["is_enabled", "t"], ["password_digest", "$2a$04$JLxzl2Tx8FXKGqqjOC/4F.VxCKoA.vCX2HLxXa.PtPD6Y0qbW/75m"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = ? LIMIT ?[0m  [["email", "test@test.com"], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "name", "is_enabled", "password_digest") VALUES (?, ?, ?, ?)[0m  [["email", "test@test.com"], ["name", "test"], ["is_enabled", "t"], ["password_digest", "$2a$04$mJpcpb2nIYD79OLj4XDULeDQxEGh.8a/5G13pZ623aGzXcOKlxSTy"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."name" = ? LIMIT ?[0m  [["name", "admin"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mRole Load (0.0ms)[0m  [1m[34mSELECT  "roles".* FROM "roles" WHERE "roles"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "roles_users" ("user_id", "role_id", "created_at", "updated_at", "org_id") VALUES (?, ?, ?, ?, ?)[0m  [["user_id", 1], ["role_id", 2], ["created_at", "2020-08-16 23:59:48.107471"], ["updated_at", "2020-08-16 23:59:48.107471"], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs" ("name", "created_at", "updated_at") VALUES (?, ?, ?)[0m  [["name", "New Test Org Name"], ["created_at", "2020-08-16 23:59:48.108370"], ["updated_at", "2020-08-16 23:59:48.108370"]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.0ms)[0m  [1m[34mSELECT "users".* FROM "users" INNER JOIN "orgs_users" ON "users"."id" = "orgs_users"."user_id" WHERE "orgs_users"."org_id" = ?[0m  [["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 1], ["org_id", 1]]
  [1m[35mSQL (0.1ms)[0m  [1m[32mINSERT INTO "orgs_users" ("user_id", "org_id") VALUES (?, ?)[0m  [["user_id", 2], ["org_id", 1]]
  [1m[35m (0.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1m[34mSELECT "schema_migrations".* FROM "schema_migrations"[0m
